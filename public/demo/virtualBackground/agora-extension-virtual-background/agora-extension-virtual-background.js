!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VirtualBackgroundExtension=e():t.VirtualBackgroundExtension=e()}(self,(function(){return(()=>{var t={9683:(t,e,r)=>{t.exports=r(3800)},6709:(t,e,r)=>{t.exports=r(8566)},5124:t=>{self,t.exports=(()=>{var t={3476:(t,e,r)=>{t.exports=r(7460)},4341:(t,e,r)=>{t.exports=r(3685)},3536:(t,e,r)=>{var n=r(1910);t.exports=n},8171:(t,e,r)=>{r(6450);var n=r(4058).Object,i=t.exports=function(t,e,r){return n.defineProperty(t,e,r)};n.defineProperty.sham&&(i.sham=!0)},2956:(t,e,r)=>{r(7627),r(6274),r(5967),r(8881),r(4560),r(7206),r(4349),r(7971);var n=r(4058);t.exports=n.Promise},3685:(t,e,r)=>{var n=r(3536);t.exports=n},4883:(t,e,r)=>{var n=r(1899),i=r(7475),o=r(9826),a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},174:(t,e,r)=>{var n=r(1899),i=r(4284),o=r(9826),a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a constructor")}},1851:(t,e,r)=>{var n=r(1899),i=r(7475),o=n.String,a=n.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},8479:t=>{t.exports=function(){}},5743:(t,e,r)=>{var n=r(1899),i=r(7046),o=n.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},6059:(t,e,r)=>{var n=r(1899),i=r(941),o=n.String,a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},1692:(t,e,r)=>{var n=r(4529),i=r(9413),o=r(623),a=function(t){return function(e,r,a){var s,u=n(e),c=o(u),f=i(a,c);if(t&&r!=r){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},3765:(t,e,r)=>{var n=r(5329);t.exports=n([].slice)},1385:(t,e,r)=>{var n=r(9813)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},2532:(t,e,r)=>{var n=r(5329),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},9697:(t,e,r)=>{var n=r(1899),i=r(2885),o=r(7475),a=r(2532),s=r(9813)("toStringTag"),u=n.Object,c="Arguments"==a(function(){return arguments}());t.exports=i?a:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=u(t),s))?r:c?a(e):"Object"==(n=a(e))&&o(e.callee)?"Arguments":n}},8694:(t,e,r)=>{var n=r(5329)("".replace),i=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(i);t.exports=function(t,e){if(a&&"string"==typeof t)for(;e--;)t=n(t,o,"");return t}},3489:(t,e,r)=>{var n=r(953),i=r(1136),o=r(9677),a=r(5988);t.exports=function(t,e,r){for(var s=i(e),u=a.f,c=o.f,f=0;f<s.length;f++){var l=s[f];n(t,l)||r&&n(r,l)||u(t,l,c(e,l))}}},4160:(t,e,r)=>{var n=r(5981);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},1046:(t,e,r)=>{"use strict";var n=r(5143).IteratorPrototype,i=r(9290),o=r(1887),a=r(904),s=r(2077),u=function(){return this};t.exports=function(t,e,r,c){var f=e+" Iterator";return t.prototype=i(n,{next:o(+!c,r)}),a(t,f,!1,!0),s[f]=u,t}},2029:(t,e,r)=>{var n=r(5746),i=r(5988),o=r(1887);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},1887:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7771:(t,e,r)=>{"use strict";var n=r(6887),i=r(8834),o=r(2529),a=r(9417),s=r(7475),u=r(1046),c=r(249),f=r(8929),l=r(904),p=r(2029),h=r(9754),d=r(9813),v=r(2077),m=r(5143),y=a.PROPER,g=a.CONFIGURABLE,b=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,w=d("iterator"),A="keys",E="values",O="entries",_=function(){return this};t.exports=function(t,e,r,a,d,m,T){u(r,e,a);var S,j,k,P=function(t){if(t===d&&L)return L;if(!x&&t in R)return R[t];switch(t){case A:case E:case O:return function(){return new r(this,t)}}return function(){return new r(this)}},D=e+" Iterator",I=!1,R=t.prototype,C=R[w]||R["@@iterator"]||d&&R[d],L=!x&&C||P(d),B="Array"==e&&R.entries||C;if(B&&(S=c(B.call(new t)))!==Object.prototype&&S.next&&(o||c(S)===b||(f?f(S,b):s(S[w])||h(S,w,_)),l(S,D,!0,!0),o&&(v[D]=_)),y&&d==E&&C&&C.name!==E&&(!o&&g?p(R,"name",E):(I=!0,L=function(){return i(C,this)})),d)if(j={values:P(E),keys:m?L:P(A),entries:P(O)},T)for(k in j)(x||I||!(k in R))&&h(R,k,j[k]);else n({target:e,proto:!0,forced:x||I},j);return o&&!T||R[w]===L||h(R,w,L,{name:d}),v[e]=L,j}},5746:(t,e,r)=>{var n=r(5981);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1333:(t,e,r)=>{var n=r(1899),i=r(941),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},3281:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3321:t=>{t.exports="object"==typeof window},4470:(t,e,r)=>{var n=r(2861),i=r(1899);t.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==i.Pebble},2749:(t,e,r)=>{var n=r(2861);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},6049:(t,e,r)=>{var n=r(2532),i=r(1899);t.exports="process"==n(i.process)},8045:(t,e,r)=>{var n=r(2861);t.exports=/web0s(?!.*chrome)/i.test(n)},2861:(t,e,r)=>{var n=r(626);t.exports=n("navigator","userAgent")||""},3385:(t,e,r)=>{var n,i,o=r(1899),a=r(2861),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,f=c&&c.v8;f&&(i=(n=f.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},6759:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8780:(t,e,r)=>{var n=r(5981),i=r(1887);t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},6887:(t,e,r)=>{"use strict";var n=r(1899),i=r(9730),o=r(5329),a=r(7475),s=r(9677).f,u=r(7252),c=r(4058),f=r(6843),l=r(2029),p=r(953),h=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var r,i,d,v,m,y,g,b,x=t.target,w=t.global,A=t.stat,E=t.proto,O=w?n:A?n[x]:(n[x]||{}).prototype,_=w?c:c[x]||l(c,x,{})[x],T=_.prototype;for(d in e)r=!u(w?d:x+(A?".":"#")+d,t.forced)&&O&&p(O,d),m=_[d],r&&(y=t.noTargetGet?(b=s(O,d))&&b.value:O[d]),v=r&&y?y:e[d],r&&typeof m==typeof v||(g=t.bind&&r?f(v,n):t.wrap&&r?h(v):E&&a(v)?o(v):v,(t.sham||v&&v.sham||m&&m.sham)&&l(g,"sham",!0),l(_,d,g),E&&(p(c,i=x+"Prototype")||l(c,i,{}),l(c[i],d,v),t.real&&T&&!T[d]&&l(T,d,v)))}},5981:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9730:(t,e,r)=>{var n=r(8285),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},6843:(t,e,r)=>{var n=r(5329),i=r(4883),o=r(8285),a=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},8285:(t,e,r)=>{var n=r(5981);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},8834:(t,e,r)=>{var n=r(8285),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},9417:(t,e,r)=>{var n=r(5746),i=r(953),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},5329:(t,e,r)=>{var n=r(8285),i=Function.prototype,o=i.bind,a=i.call,s=n&&o.bind(a,a);t.exports=n?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},626:(t,e,r)=>{var n=r(4058),i=r(1899),o=r(7475),a=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(n[t])||a(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},2902:(t,e,r)=>{var n=r(9697),i=r(4229),o=r(2077),a=r(9813)("iterator");t.exports=function(t){if(null!=t)return i(t,a)||i(t,"@@iterator")||o[n(t)]}},429:(t,e,r)=>{var n=r(1899),i=r(8834),o=r(4883),a=r(6059),s=r(9826),u=r(2902),c=n.TypeError;t.exports=function(t,e){var r=arguments.length<2?u(t):e;if(o(r))return a(i(r,t));throw c(s(t)+" is not iterable")}},4229:(t,e,r)=>{var n=r(4883);t.exports=function(t,e){var r=t[e];return null==r?void 0:n(r)}},1899:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},953:(t,e,r)=>{var n=r(5329),i=r(9678),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},7748:t=>{t.exports={}},4845:(t,e,r)=>{var n=r(1899);t.exports=function(t,e){var r=n.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}},5463:(t,e,r)=>{var n=r(626);t.exports=n("document","documentElement")},2840:(t,e,r)=>{var n=r(5746),i=r(5981),o=r(1333);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7026:(t,e,r)=>{var n=r(1899),i=r(5329),o=r(5981),a=r(2532),s=n.Object,u=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},1302:(t,e,r)=>{var n=r(5329),i=r(7475),o=r(3030),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},3794:(t,e,r)=>{var n=r(941),i=r(2029);t.exports=function(t,e){n(e)&&"cause"in e&&i(t,"cause",e.cause)}},5402:(t,e,r)=>{var n,i,o,a=r(8019),s=r(1899),u=r(5329),c=r(941),f=r(2029),l=r(953),p=r(3030),h=r(4262),d=r(7748),v="Object already initialized",m=s.TypeError,y=s.WeakMap;if(a||p.state){var g=p.state||(p.state=new y),b=u(g.get),x=u(g.has),w=u(g.set);n=function(t,e){if(x(g,t))throw new m(v);return e.facade=t,w(g,t,e),e},i=function(t){return b(g,t)||{}},o=function(t){return x(g,t)}}else{var A=h("state");d[A]=!0,n=function(t,e){if(l(t,A))throw new m(v);return e.facade=t,f(t,A,e),e},i=function(t){return l(t,A)?t[A]:{}},o=function(t){return l(t,A)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return r}}}},6782:(t,e,r)=>{var n=r(9813),i=r(2077),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},7475:t=>{t.exports=function(t){return"function"==typeof t}},4284:(t,e,r)=>{var n=r(5329),i=r(5981),o=r(7475),a=r(9697),s=r(626),u=r(1302),c=function(){},f=[],l=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=n(p.exec),d=!p.exec(c),v=function(t){if(!o(t))return!1;try{return l(c,f,t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!h(p,u(t))}catch(t){return!0}};m.sham=!0,t.exports=!l||i((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?m:v},7252:(t,e,r)=>{var n=r(5981),i=r(7475),o=/#|\.prototype\./,a=function(t,e){var r=u[s(t)];return r==f||r!=c&&(i(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",f=a.POLYFILL="P";t.exports=a},941:(t,e,r)=>{var n=r(7475);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},2529:t=>{t.exports=!0},6664:(t,e,r)=>{var n=r(1899),i=r(626),o=r(7475),a=r(7046),s=r(2302),u=n.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,u(t))}},3091:(t,e,r)=>{var n=r(1899),i=r(6843),o=r(8834),a=r(6059),s=r(9826),u=r(6782),c=r(623),f=r(7046),l=r(429),p=r(2902),h=r(7609),d=n.TypeError,v=function(t,e){this.stopped=t,this.result=e},m=v.prototype;t.exports=function(t,e,r){var n,y,g,b,x,w,A,E=r&&r.that,O=!(!r||!r.AS_ENTRIES),_=!(!r||!r.IS_ITERATOR),T=!(!r||!r.INTERRUPTED),S=i(e,E),j=function(t){return n&&h(n,"normal",t),new v(!0,t)},k=function(t){return O?(a(t),T?S(t[0],t[1],j):S(t[0],t[1])):T?S(t,j):S(t)};if(_)n=t;else{if(!(y=p(t)))throw d(s(t)+" is not iterable");if(u(y)){for(g=0,b=c(t);b>g;g++)if((x=k(t[g]))&&f(m,x))return x;return new v(!1)}n=l(t,y)}for(w=n.next;!(A=o(w,n)).done;){try{x=k(A.value)}catch(t){h(n,"throw",t)}if("object"==typeof x&&x&&f(m,x))return x}return new v(!1)}},7609:(t,e,r)=>{var n=r(8834),i=r(6059),o=r(4229);t.exports=function(t,e,r){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw r;if(s)throw a;return i(a),r}},5143:(t,e,r)=>{"use strict";var n,i,o,a=r(5981),s=r(7475),u=r(9290),c=r(249),f=r(9754),l=r(9813),p=r(2529),h=l("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(n=i):d=!0),null==n||a((function(){var t={};return n[h].call(t)!==t}))?n={}:p&&(n=u(n)),s(n[h])||f(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},2077:t=>{t.exports={}},623:(t,e,r)=>{var n=r(3057);t.exports=function(t){return n(t.length)}},6132:(t,e,r)=>{var n,i,o,a,s,u,c,f,l=r(1899),p=r(6843),h=r(9677).f,d=r(2941).set,v=r(2749),m=r(4470),y=r(8045),g=r(6049),b=l.MutationObserver||l.WebKitMutationObserver,x=l.document,w=l.process,A=l.Promise,E=h(l,"queueMicrotask"),O=E&&E.value;O||(n=function(){var t,e;for(g&&(t=w.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},v||g||y||!b||!x?!m&&A&&A.resolve?((c=A.resolve(void 0)).constructor=A,f=p(c.then,c),a=function(){f(n)}):g?a=function(){w.nextTick(n)}:(d=p(d,l),a=function(){d(n)}):(s=!0,u=x.createTextNode(""),new b(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),t.exports=O||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},9297:(t,e,r)=>{var n=r(1899);t.exports=n.Promise},2497:(t,e,r)=>{var n=r(3385),i=r(5981);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8019:(t,e,r)=>{var n=r(1899),i=r(7475),o=r(1302),a=n.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},9520:(t,e,r)=>{"use strict";var n=r(4883),i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},4649:(t,e,r)=>{var n=r(5803);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},9290:(t,e,r)=>{var n,i=r(6059),o=r(9938),a=r(6759),s=r(7748),u=r(5463),c=r(1333),f=r(4262)("IE_PROTO"),l=function(){},p=function(t){return"<script>"+t+"<\/script>"},h=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},d=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;d="undefined"!=typeof document?document.domain&&n?h(n):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):h(n);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};s[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(l.prototype=i(t),r=new l,l.prototype=null,r[f]=t):r=d(),void 0===e?r:o.f(r,e)}},9938:(t,e,r)=>{var n=r(5746),i=r(3937),o=r(5988),a=r(6059),s=r(4529),u=r(4771);e.f=n&&!i?Object.defineProperties:function(t,e){a(t);for(var r,n=s(e),i=u(e),c=i.length,f=0;c>f;)o.f(t,r=i[f++],n[r]);return t}},5988:(t,e,r)=>{var n=r(1899),i=r(5746),o=r(2840),a=r(3937),s=r(6059),u=r(3894),c=n.TypeError,f=Object.defineProperty,l=Object.getOwnPropertyDescriptor;e.f=i?a?function(t,e,r){if(s(t),e=u(e),s(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=l(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return f(t,e,r)}:f:function(t,e,r){if(s(t),e=u(e),s(r),o)try{return f(t,e,r)}catch(t){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},9677:(t,e,r)=>{var n=r(5746),i=r(8834),o=r(6760),a=r(1887),s=r(4529),u=r(3894),c=r(953),f=r(2840),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=s(t),e=u(e),f)try{return l(t,e)}catch(t){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},946:(t,e,r)=>{var n=r(5629),i=r(6759).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},7857:(t,e)=>{e.f=Object.getOwnPropertySymbols},249:(t,e,r)=>{var n=r(1899),i=r(953),o=r(7475),a=r(9678),s=r(4262),u=r(4160),c=s("IE_PROTO"),f=n.Object,l=f.prototype;t.exports=u?f.getPrototypeOf:function(t){var e=a(t);if(i(e,c))return e[c];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof f?l:null}},7046:(t,e,r)=>{var n=r(5329);t.exports=n({}.isPrototypeOf)},5629:(t,e,r)=>{var n=r(5329),i=r(953),o=r(4529),a=r(1692).indexOf,s=r(7748),u=n([].push);t.exports=function(t,e){var r,n=o(t),c=0,f=[];for(r in n)!i(s,r)&&i(n,r)&&u(f,r);for(;e.length>c;)i(n,r=e[c++])&&(~a(f,r)||u(f,r));return f}},4771:(t,e,r)=>{var n=r(5629),i=r(6759);t.exports=Object.keys||function(t){return n(t,i)}},6760:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},8929:(t,e,r)=>{var n=r(5329),i=r(6059),o=r(1851);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return i(r),o(n),e?t(r,n):r.__proto__=n,r}}():void 0)},5623:(t,e,r)=>{"use strict";var n=r(2885),i=r(9697);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},9811:(t,e,r)=>{var n=r(1899),i=r(8834),o=r(7475),a=r(941),s=n.TypeError;t.exports=function(t,e){var r,n;if("string"===e&&o(r=t.toString)&&!a(n=i(r,t)))return n;if(o(r=t.valueOf)&&!a(n=i(r,t)))return n;if("string"!==e&&o(r=t.toString)&&!a(n=i(r,t)))return n;throw s("Can't convert object to primitive value")}},1136:(t,e,r)=>{var n=r(626),i=r(5329),o=r(946),a=r(7857),s=r(6059),u=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=a.f;return r?u(e,r(t)):e}},4058:t=>{t.exports={}},2:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},6584:(t,e,r)=>{var n=r(6059),i=r(941),o=r(9520);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},8397:t=>{var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},7524:(t,e,r)=>{var n=r(9754);t.exports=function(t,e,r){for(var i in e)r&&r.unsafe&&t[i]?t[i]=e[i]:n(t,i,e[i],r);return t}},9754:(t,e,r)=>{var n=r(2029);t.exports=function(t,e,r,i){i&&i.enumerable?t[e]=r:n(t,e,r)}},8219:(t,e,r)=>{var n=r(1899).TypeError;t.exports=function(t){if(null==t)throw n("Can't call method on "+t);return t}},4911:(t,e,r)=>{var n=r(1899),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},4431:(t,e,r)=>{"use strict";var n=r(626),i=r(5988),o=r(9813),a=r(5746),s=o("species");t.exports=function(t){var e=n(t),r=i.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},904:(t,e,r)=>{var n=r(2885),i=r(5988).f,o=r(2029),a=r(953),s=r(5623),u=r(9813)("toStringTag");t.exports=function(t,e,r,c){if(t){var f=r?t:t.prototype;a(f,u)||i(f,u,{configurable:!0,value:e}),c&&!n&&o(f,"toString",s)}}},4262:(t,e,r)=>{var n=r(8726),i=r(9418),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},3030:(t,e,r)=>{var n=r(1899),i=r(4911),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},8726:(t,e,r)=>{var n=r(2529),i=r(3030);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.20.3",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},487:(t,e,r)=>{var n=r(6059),i=r(174),o=r(9813)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[o])?e:i(r)}},4620:(t,e,r)=>{var n=r(5329),i=r(2435),o=r(5803),a=r(8219),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),f=function(t){return function(e,r){var n,f,l=o(a(e)),p=i(r),h=l.length;return p<0||p>=h?t?"":void 0:(n=u(l,p))<55296||n>56319||p+1===h||(f=u(l,p+1))<56320||f>57343?t?s(l,p):n:t?c(l,p,p+2):f-56320+(n-55296<<10)+65536}};t.exports={codeAt:f(!1),charAt:f(!0)}},2941:(t,e,r)=>{var n,i,o,a,s=r(1899),u=r(9730),c=r(6843),f=r(7475),l=r(953),p=r(5981),h=r(5463),d=r(3765),v=r(1333),m=r(2749),y=r(6049),g=s.setImmediate,b=s.clearImmediate,x=s.process,w=s.Dispatch,A=s.Function,E=s.MessageChannel,O=s.String,_=0,T={};try{n=s.location}catch(t){}var S=function(t){if(l(T,t)){var e=T[t];delete T[t],e()}},j=function(t){return function(){S(t)}},k=function(t){S(t.data)},P=function(t){s.postMessage(O(t),n.protocol+"//"+n.host)};g&&b||(g=function(t){var e=d(arguments,1);return T[++_]=function(){u(f(t)?t:A(t),void 0,e)},i(_),_},b=function(t){delete T[t]},y?i=function(t){x.nextTick(j(t))}:w&&w.now?i=function(t){w.now(j(t))}:E&&!m?(a=(o=new E).port2,o.port1.onmessage=k,i=c(a.postMessage,a)):s.addEventListener&&f(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!p(P)?(i=P,s.addEventListener("message",k,!1)):i="onreadystatechange"in v("script")?function(t){h.appendChild(v("script")).onreadystatechange=function(){h.removeChild(this),S(t)}}:function(t){setTimeout(j(t),0)}),t.exports={set:g,clear:b}},9413:(t,e,r)=>{var n=r(2435),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},4529:(t,e,r)=>{var n=r(7026),i=r(8219);t.exports=function(t){return n(i(t))}},2435:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){var n=+t;return n!=n||0===n?0:(n>0?r:e)(n)}},3057:(t,e,r)=>{var n=r(2435),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},9678:(t,e,r)=>{var n=r(1899),i=r(8219),o=n.Object;t.exports=function(t){return o(i(t))}},6935:(t,e,r)=>{var n=r(1899),i=r(8834),o=r(941),a=r(6664),s=r(4229),u=r(9811),c=r(9813),f=n.TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var r,n=s(t,l);if(n){if(void 0===e&&(e="default"),r=i(n,t,e),!o(r)||a(r))return r;throw f("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},3894:(t,e,r)=>{var n=r(6935),i=r(6664);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},2885:(t,e,r)=>{var n={};n[r(9813)("toStringTag")]="z",t.exports="[object z]"===String(n)},5803:(t,e,r)=>{var n=r(1899),i=r(9697),o=n.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},9826:(t,e,r)=>{var n=r(1899).String;t.exports=function(t){try{return n(t)}catch(t){return"Object"}}},9418:(t,e,r)=>{var n=r(5329),i=0,o=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},2302:(t,e,r)=>{var n=r(2497);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3937:(t,e,r)=>{var n=r(5746),i=r(5981);t.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9813:(t,e,r)=>{var n=r(1899),i=r(8726),o=r(953),a=r(9418),s=r(2497),u=r(2302),c=i("wks"),f=n.Symbol,l=f&&f.for,p=u?f:f&&f.withoutSetter||a;t.exports=function(t){if(!o(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&o(f,t)?c[t]=f[t]:c[t]=u&&l?l(e):p(e)}return c[t]}},7627:(t,e,r)=>{"use strict";var n=r(6887),i=r(1899),o=r(7046),a=r(249),s=r(8929),u=r(3489),c=r(9290),f=r(2029),l=r(1887),p=r(8694),h=r(3794),d=r(3091),v=r(4649),m=r(9813),y=r(8780),g=m("toStringTag"),b=i.Error,x=[].push,w=function(t,e){var r,n=arguments.length>2?arguments[2]:void 0,i=o(A,this);s?r=s(new b,i?a(this):A):(r=i?this:c(A),f(r,g,"Error")),void 0!==e&&f(r,"message",v(e)),y&&f(r,"stack",p(r.stack,1)),h(r,n);var u=[];return d(t,x,{that:u}),f(r,"errors",u),r};s?s(w,b):u(w,b,{name:!0});var A=w.prototype=c(b.prototype,{constructor:l(1,w),message:l(1,""),name:l(1,"AggregateError")});n({global:!0},{AggregateError:w})},6274:(t,e,r)=>{"use strict";var n=r(4529),i=r(8479),o=r(2077),a=r(5402),s=r(5988).f,u=r(7771),c=r(2529),f=r(5746),l="Array Iterator",p=a.set,h=a.getterFor(l);t.exports=u(Array,"Array",(function(t,e){p(this,{type:l,target:n(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");var d=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&f&&"values"!==d.name)try{s(d,"name",{value:"values"})}catch(t){}},6450:(t,e,r)=>{var n=r(6887),i=r(5746),o=r(5988).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},5967:()=>{},4560:(t,e,r)=>{"use strict";var n=r(6887),i=r(8834),o=r(4883),a=r(9520),s=r(2),u=r(3091);n({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=a.f(e),n=r.resolve,c=r.reject,f=s((function(){var r=o(e.resolve),a=[],s=0,c=1;u(t,(function(t){var o=s++,u=!1;c++,i(r,e,t).then((function(t){u||(u=!0,a[o]={status:"fulfilled",value:t},--c||n(a))}),(function(t){u||(u=!0,a[o]={status:"rejected",reason:t},--c||n(a))}))})),--c||n(a)}));return f.error&&c(f.value),r.promise}})},7206:(t,e,r)=>{"use strict";var n=r(6887),i=r(4883),o=r(626),a=r(8834),s=r(9520),u=r(2),c=r(3091),f="No one promise resolved";n({target:"Promise",stat:!0},{any:function(t){var e=this,r=o("AggregateError"),n=s.f(e),l=n.resolve,p=n.reject,h=u((function(){var n=i(e.resolve),o=[],s=0,u=1,h=!1;c(t,(function(t){var i=s++,c=!1;u++,a(n,e,t).then((function(t){c||h||(h=!0,l(t))}),(function(t){c||h||(c=!0,o[i]=t,--u||p(new r(o,f)))}))})),--u||p(new r(o,f))}));return h.error&&p(h.value),n.promise}})},4349:(t,e,r)=>{"use strict";var n=r(6887),i=r(2529),o=r(9297),a=r(5981),s=r(626),u=r(7475),c=r(487),f=r(6584),l=r(9754);if(n({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),r=u(t);return this.then(r?function(r){return f(e,t()).then((function(){return r}))}:t,r?function(r){return f(e,t()).then((function(){throw r}))}:t)}}),!i&&u(o)){var p=s("Promise").prototype.finally;o.prototype.finally!==p&&l(o.prototype,"finally",p,{unsafe:!0})}},8881:(t,e,r)=>{"use strict";var n,i,o,a,s=r(6887),u=r(2529),c=r(1899),f=r(626),l=r(8834),p=r(9297),h=r(9754),d=r(7524),v=r(8929),m=r(904),y=r(4431),g=r(4883),b=r(7475),x=r(941),w=r(5743),A=r(1302),E=r(3091),O=r(1385),_=r(487),T=r(2941).set,S=r(6132),j=r(6584),k=r(4845),P=r(9520),D=r(2),I=r(8397),R=r(5402),C=r(7252),L=r(9813),B=r(3321),M=r(6049),F=r(3385),N=L("species"),V="Promise",z=R.getterFor(V),U=R.set,W=R.getterFor(V),G=p&&p.prototype,H=p,q=G,Y=c.TypeError,Q=c.document,X=c.process,K=P.f,J=K,$=!!(Q&&Q.createEvent&&c.dispatchEvent),Z=b(c.PromiseRejectionEvent),tt="unhandledrejection",et=!1,rt=C(V,(function(){var t=A(H),e=t!==String(H);if(!e&&66===F)return!0;if(u&&!q.finally)return!0;if(F>=51&&/native code/.test(t))return!1;var r=new H((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[N]=n,!(et=r.then((function(){}))instanceof n)||!e&&B&&!Z})),nt=rt||!O((function(t){H.all(t).catch((function(){}))})),it=function(t){var e;return!(!x(t)||!b(e=t.then))&&e},ot=function(t,e){var r,n,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{s?(a||(2===e.rejection&&ft(e),e.rejection=1),!0===s?r=o:(f&&f.enter(),r=s(o),f&&(f.exit(),i=!0)),r===t.promise?c(Y("Promise-chain cycle")):(n=it(r))?l(n,r,u,c):u(r)):c(o)}catch(t){f&&!i&&f.exit(),c(t)}},at=function(t,e){t.notified||(t.notified=!0,S((function(){for(var r,n=t.reactions;r=n.get();)ot(r,t);t.notified=!1,e&&!t.rejection&&ut(t)})))},st=function(t,e,r){var n,i;$?((n=Q.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!Z&&(i=c["on"+t])?i(n):t===tt&&k("Unhandled promise rejection",r)},ut=function(t){l(T,c,(function(){var e,r=t.facade,n=t.value;if(ct(t)&&(e=D((function(){M?X.emit("unhandledRejection",n,r):st(tt,r,n)})),t.rejection=M||ct(t)?2:1,e.error))throw e.value}))},ct=function(t){return 1!==t.rejection&&!t.parent},ft=function(t){l(T,c,(function(){var e=t.facade;M?X.emit("rejectionHandled",e):st("rejectionhandled",e,t.value)}))},lt=function(t,e,r){return function(n){t(e,n,r)}},pt=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,at(t,!0))},ht=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw Y("Promise can't be resolved itself");var n=it(e);n?S((function(){var r={done:!1};try{l(n,e,lt(ht,r,t),lt(pt,r,t))}catch(e){pt(r,e,t)}})):(t.value=e,t.state=1,at(t,!1))}catch(e){pt({done:!1},e,t)}}};if(rt&&(q=(H=function(t){w(this,q),g(t),l(n,this);var e=z(this);try{t(lt(ht,e),lt(pt,e))}catch(t){pt(e,t)}}).prototype,(n=function(t){U(this,{type:V,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:void 0})}).prototype=d(q,{then:function(t,e){var r=W(this),n=K(_(this,H));return r.parent=!0,n.ok=!b(t)||t,n.fail=b(e)&&e,n.domain=M?X.domain:void 0,0==r.state?r.reactions.add(n):S((function(){ot(n,r)})),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,e=z(t);this.promise=t,this.resolve=lt(ht,e),this.reject=lt(pt,e)},P.f=K=function(t){return t===H||t===o?new i(t):J(t)},!u&&b(p)&&G!==Object.prototype)){a=G.then,et||(h(G,"then",(function(t,e){var r=this;return new H((function(t,e){l(a,r,t,e)})).then(t,e)}),{unsafe:!0}),h(G,"catch",q.catch,{unsafe:!0}));try{delete G.constructor}catch(t){}v&&v(G,q)}s({global:!0,wrap:!0,forced:rt},{Promise:H}),m(H,V,!1,!0),y(V),o=f(V),s({target:V,stat:!0,forced:rt},{reject:function(t){var e=K(this);return l(e.reject,void 0,t),e.promise}}),s({target:V,stat:!0,forced:u||rt},{resolve:function(t){return j(u&&this===o?H:this,t)}}),s({target:V,stat:!0,forced:nt},{all:function(t){var e=this,r=K(e),n=r.resolve,i=r.reject,o=D((function(){var r=g(e.resolve),o=[],a=0,s=1;E(t,(function(t){var u=a++,c=!1;s++,l(r,e,t).then((function(t){c||(c=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=K(e),n=r.reject,i=D((function(){var i=g(e.resolve);E(t,(function(t){l(i,e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},7971:(t,e,r)=>{"use strict";var n=r(4620).charAt,i=r(5803),o=r(5402),a=r(7771),s="String Iterator",u=o.set,c=o.getterFor(s);a(String,"String",(function(t){u(this,{type:s,string:i(t),index:0})}),(function(){var t,e=c(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},7634:(t,e,r)=>{r(6274);var n=r(3281),i=r(1899),o=r(9697),a=r(2029),s=r(2077),u=r(9813)("toStringTag");for(var c in n){var f=i[c],l=f&&f.prototype;l&&o(l)!==u&&a(l,u,c),s[c]=s.Array}},1910:(t,e,r)=>{var n=r(8171);t.exports=n},7460:(t,e,r)=>{var n=r(2956);r(7634),t.exports=n},9662:(t,e,r)=>{var n=r(7854),i=r(614),o=r(6330),a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},6077:(t,e,r)=>{var n=r(7854),i=r(614),o=n.String,a=n.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},1223:(t,e,r)=>{var n=r(5112),i=r(30),o=r(3070),a=n("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},9670:(t,e,r)=>{var n=r(7854),i=r(111),o=n.String,a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},1318:(t,e,r)=>{var n=r(5656),i=r(1400),o=r(6244),a=function(t){return function(e,r,a){var s,u=n(e),c=o(u),f=i(a,c);if(t&&r!=r){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4326:(t,e,r)=>{var n=r(1702),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},648:(t,e,r)=>{var n=r(7854),i=r(1694),o=r(614),a=r(4326),s=r(5112)("toStringTag"),u=n.Object,c="Arguments"==a(function(){return arguments}());t.exports=i?a:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=u(t),s))?r:c?a(e):"Object"==(n=a(e))&&o(e.callee)?"Arguments":n}},7741:(t,e,r)=>{var n=r(1702)("".replace),i=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(i);t.exports=function(t,e){if(a&&"string"==typeof t)for(;e--;)t=n(t,o,"");return t}},9920:(t,e,r)=>{var n=r(2597),i=r(3887),o=r(1236),a=r(3070);t.exports=function(t,e,r){for(var s=i(e),u=a.f,c=o.f,f=0;f<s.length;f++){var l=s[f];n(t,l)||r&&n(r,l)||u(t,l,c(e,l))}}},8544:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,r)=>{"use strict";var n=r(3383).IteratorPrototype,i=r(30),o=r(9114),a=r(8003),s=r(7497),u=function(){return this};t.exports=function(t,e,r,c){var f=e+" Iterator";return t.prototype=i(n,{next:o(+!c,r)}),a(t,f,!1,!0),s[f]=u,t}},8880:(t,e,r)=>{var n=r(9781),i=r(3070),o=r(9114);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},654:(t,e,r)=>{"use strict";var n=r(2109),i=r(6916),o=r(1913),a=r(6530),s=r(614),u=r(4994),c=r(9518),f=r(7674),l=r(8003),p=r(8880),h=r(1320),d=r(5112),v=r(7497),m=r(3383),y=a.PROPER,g=a.CONFIGURABLE,b=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,w=d("iterator"),A="keys",E="values",O="entries",_=function(){return this};t.exports=function(t,e,r,a,d,m,T){u(r,e,a);var S,j,k,P=function(t){if(t===d&&L)return L;if(!x&&t in R)return R[t];switch(t){case A:case E:case O:return function(){return new r(this,t)}}return function(){return new r(this)}},D=e+" Iterator",I=!1,R=t.prototype,C=R[w]||R["@@iterator"]||d&&R[d],L=!x&&C||P(d),B="Array"==e&&R.entries||C;if(B&&(S=c(B.call(new t)))!==Object.prototype&&S.next&&(o||c(S)===b||(f?f(S,b):s(S[w])||h(S,w,_)),l(S,D,!0,!0),o&&(v[D]=_)),y&&d==E&&C&&C.name!==E&&(!o&&g?p(R,"name",E):(I=!0,L=function(){return i(C,this)})),d)if(j={values:P(E),keys:m?L:P(A),entries:P(O)},T)for(k in j)(x||I||!(k in R))&&h(R,k,j[k]);else n({target:e,proto:!0,forced:x||I},j);return o&&!T||R[w]===L||h(R,w,L,{name:d}),v[e]=L,j}},9781:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,r)=>{var n=r(7854),i=r(111),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(t,e,r)=>{var n=r(317)("span").classList,i=n&&n.constructor&&n.constructor.prototype;t.exports=i===Object.prototype?void 0:i},8113:(t,e,r)=>{var n=r(5005);t.exports=n("navigator","userAgent")||""},7392:(t,e,r)=>{var n,i,o=r(7854),a=r(8113),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,f=c&&c.v8;f&&(i=(n=f.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:(t,e,r)=>{var n=r(7293),i=r(9114);t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},2109:(t,e,r)=>{var n=r(7854),i=r(1236).f,o=r(8880),a=r(1320),s=r(3505),u=r(9920),c=r(4705);t.exports=function(t,e){var r,f,l,p,h,d=t.target,v=t.global,m=t.stat;if(r=v?n:m?n[d]||s(d,{}):(n[d]||{}).prototype)for(f in e){if(p=e[f],l=t.noTargetGet?(h=i(r,f))&&h.value:r[f],!c(v?f:d+(m?".":"#")+f,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;u(p,l)}(t.sham||l&&l.sham)&&o(p,"sham",!0),a(r,f,p,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},2104:(t,e,r)=>{var n=r(4374),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},4374:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:(t,e,r)=>{var n=r(4374),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},6530:(t,e,r)=>{var n=r(9781),i=r(2597),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},1702:(t,e,r)=>{var n=r(4374),i=Function.prototype,o=i.bind,a=i.call,s=n&&o.bind(a,a);t.exports=n?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5005:(t,e,r)=>{var n=r(7854),i=r(614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t]):n[t]&&n[t][e]}},8173:(t,e,r)=>{var n=r(9662);t.exports=function(t,e){var r=t[e];return null==r?void 0:n(r)}},7854:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2597:(t,e,r)=>{var n=r(1702),i=r(7908),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:t=>{t.exports={}},490:(t,e,r)=>{var n=r(5005);t.exports=n("document","documentElement")},4664:(t,e,r)=>{var n=r(9781),i=r(7293),o=r(317);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,r)=>{var n=r(7854),i=r(1702),o=r(7293),a=r(4326),s=n.Object,u=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},9587:(t,e,r)=>{var n=r(614),i=r(111),o=r(7674);t.exports=function(t,e,r){var a,s;return o&&n(a=e.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(t,s),t}},2788:(t,e,r)=>{var n=r(1702),i=r(614),o=r(5465),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},8340:(t,e,r)=>{var n=r(111),i=r(8880);t.exports=function(t,e){n(e)&&"cause"in e&&i(t,"cause",e.cause)}},9909:(t,e,r)=>{var n,i,o,a=r(8536),s=r(7854),u=r(1702),c=r(111),f=r(8880),l=r(2597),p=r(5465),h=r(6200),d=r(3501),v="Object already initialized",m=s.TypeError,y=s.WeakMap;if(a||p.state){var g=p.state||(p.state=new y),b=u(g.get),x=u(g.has),w=u(g.set);n=function(t,e){if(x(g,t))throw new m(v);return e.facade=t,w(g,t,e),e},i=function(t){return b(g,t)||{}},o=function(t){return x(g,t)}}else{var A=h("state");d[A]=!0,n=function(t,e){if(l(t,A))throw new m(v);return e.facade=t,f(t,A,e),e},i=function(t){return l(t,A)?t[A]:{}},o=function(t){return l(t,A)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return r}}}},614:t=>{t.exports=function(t){return"function"==typeof t}},4705:(t,e,r)=>{var n=r(7293),i=r(614),o=/#|\.prototype\./,a=function(t,e){var r=u[s(t)];return r==f||r!=c&&(i(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",f=a.POLYFILL="P";t.exports=a},111:(t,e,r)=>{var n=r(614);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},1913:t=>{t.exports=!1},2190:(t,e,r)=>{var n=r(7854),i=r(5005),o=r(614),a=r(7976),s=r(3307),u=n.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,u(t))}},3383:(t,e,r)=>{"use strict";var n,i,o,a=r(7293),s=r(614),u=r(30),c=r(9518),f=r(1320),l=r(5112),p=r(1913),h=l("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(n=i):d=!0),null==n||a((function(){var t={};return n[h].call(t)!==t}))?n={}:p&&(n=u(n)),s(n[h])||f(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},7497:t=>{t.exports={}},6244:(t,e,r)=>{var n=r(7466);t.exports=function(t){return n(t.length)}},133:(t,e,r)=>{var n=r(7392),i=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8536:(t,e,r)=>{var n=r(7854),i=r(614),o=r(2788),a=n.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},6277:(t,e,r)=>{var n=r(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},30:(t,e,r)=>{var n,i=r(9670),o=r(6048),a=r(748),s=r(3501),u=r(490),c=r(317),f=r(6200)("IE_PROTO"),l=function(){},p=function(t){return"<script>"+t+"<\/script>"},h=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},d=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;d="undefined"!=typeof document?document.domain&&n?h(n):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):h(n);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};s[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(l.prototype=i(t),r=new l,l.prototype=null,r[f]=t):r=d(),void 0===e?r:o.f(r,e)}},6048:(t,e,r)=>{var n=r(9781),i=r(3353),o=r(3070),a=r(9670),s=r(5656),u=r(1956);e.f=n&&!i?Object.defineProperties:function(t,e){a(t);for(var r,n=s(e),i=u(e),c=i.length,f=0;c>f;)o.f(t,r=i[f++],n[r]);return t}},3070:(t,e,r)=>{var n=r(7854),i=r(9781),o=r(4664),a=r(3353),s=r(9670),u=r(4948),c=n.TypeError,f=Object.defineProperty,l=Object.getOwnPropertyDescriptor;e.f=i?a?function(t,e,r){if(s(t),e=u(e),s(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=l(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return f(t,e,r)}:f:function(t,e,r){if(s(t),e=u(e),s(r),o)try{return f(t,e,r)}catch(t){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:(t,e,r)=>{var n=r(9781),i=r(6916),o=r(5296),a=r(9114),s=r(5656),u=r(4948),c=r(2597),f=r(4664),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=s(t),e=u(e),f)try{return l(t,e)}catch(t){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},8006:(t,e,r)=>{var n=r(6324),i=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,r)=>{var n=r(7854),i=r(2597),o=r(614),a=r(7908),s=r(6200),u=r(8544),c=s("IE_PROTO"),f=n.Object,l=f.prototype;t.exports=u?f.getPrototypeOf:function(t){var e=a(t);if(i(e,c))return e[c];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof f?l:null}},7976:(t,e,r)=>{var n=r(1702);t.exports=n({}.isPrototypeOf)},6324:(t,e,r)=>{var n=r(1702),i=r(2597),o=r(5656),a=r(1318).indexOf,s=r(3501),u=n([].push);t.exports=function(t,e){var r,n=o(t),c=0,f=[];for(r in n)!i(s,r)&&i(n,r)&&u(f,r);for(;e.length>c;)i(n,r=e[c++])&&(~a(f,r)||u(f,r));return f}},1956:(t,e,r)=>{var n=r(6324),i=r(748);t.exports=Object.keys||function(t){return n(t,i)}},5296:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7674:(t,e,r)=>{var n=r(1702),i=r(9670),o=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return i(r),o(n),e?t(r,n):r.__proto__=n,r}}():void 0)},2140:(t,e,r)=>{var n=r(7854),i=r(6916),o=r(614),a=r(111),s=n.TypeError;t.exports=function(t,e){var r,n;if("string"===e&&o(r=t.toString)&&!a(n=i(r,t)))return n;if(o(r=t.valueOf)&&!a(n=i(r,t)))return n;if("string"!==e&&o(r=t.toString)&&!a(n=i(r,t)))return n;throw s("Can't convert object to primitive value")}},3887:(t,e,r)=>{var n=r(5005),i=r(1702),o=r(8006),a=r(5181),s=r(9670),u=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=a.f;return r?u(e,r(t)):e}},1320:(t,e,r)=>{var n=r(7854),i=r(614),o=r(2597),a=r(8880),s=r(3505),u=r(2788),c=r(9909),f=r(6530).CONFIGURABLE,l=c.get,p=c.enforce,h=String(String).split("String");(t.exports=function(t,e,r,u){var c,l=!!u&&!!u.unsafe,d=!!u&&!!u.enumerable,v=!!u&&!!u.noTargetGet,m=u&&void 0!==u.name?u.name:e;i(r)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(r,"name")||f&&r.name!==m)&&a(r,"name",m),(c=p(r)).source||(c.source=h.join("string"==typeof m?m:""))),t!==n?(l?!v&&t[e]&&(d=!0):delete t[e],d?t[e]=r:a(t,e,r)):d?t[e]=r:s(e,r)})(Function.prototype,"toString",(function(){return i(this)&&l(this).source||u(this)}))},2261:(t,e,r)=>{"use strict";var n,i,o=r(6916),a=r(1702),s=r(1340),u=r(7066),c=r(2999),f=r(2309),l=r(30),p=r(9909).get,h=r(9441),d=r(7168),v=f("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,g=a("".charAt),b=a("".indexOf),x=a("".replace),w=a("".slice),A=(i=/b*/g,o(m,n=/a/,"a"),o(m,i,"a"),0!==n.lastIndex||0!==i.lastIndex),E=c.BROKEN_CARET,O=void 0!==/()??/.exec("")[1];(A||O||E||h||d)&&(y=function(t){var e,r,n,i,a,c,f,h=this,d=p(h),_=s(t),T=d.raw;if(T)return T.lastIndex=h.lastIndex,e=o(y,T,_),h.lastIndex=T.lastIndex,e;var S=d.groups,j=E&&h.sticky,k=o(u,h),P=h.source,D=0,I=_;if(j&&(k=x(k,"y",""),-1===b(k,"g")&&(k+="g"),I=w(_,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==g(_,h.lastIndex-1))&&(P="(?: "+P+")",I=" "+I,D++),r=new RegExp("^(?:"+P+")",k)),O&&(r=new RegExp("^"+P+"$(?!\\s)",k)),A&&(n=h.lastIndex),i=o(m,j?r:h,I),j?i?(i.input=w(i.input,D),i[0]=w(i[0],D),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:A&&i&&(h.lastIndex=h.global?i.index+i[0].length:n),O&&i&&i.length>1&&o(v,i[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&S)for(i.groups=c=l(null),a=0;a<S.length;a++)c[(f=S[a])[0]]=i[f[1]];return i}),t.exports=y},7066:(t,e,r)=>{"use strict";var n=r(9670);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:(t,e,r)=>{var n=r(7293),i=r(7854).RegExp,o=n((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=o||n((function(){return!i("a","y").sticky})),s=o||n((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},9441:(t,e,r)=>{var n=r(7293),i=r(7854).RegExp;t.exports=n((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:(t,e,r)=>{var n=r(7293),i=r(7854).RegExp;t.exports=n((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:(t,e,r)=>{var n=r(7854).TypeError;t.exports=function(t){if(null==t)throw n("Can't call method on "+t);return t}},3505:(t,e,r)=>{var n=r(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},8003:(t,e,r)=>{var n=r(3070).f,i=r(2597),o=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!i(t,o)&&n(t,o,{configurable:!0,value:e})}},6200:(t,e,r)=>{var n=r(2309),i=r(9711),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:(t,e,r)=>{var n=r(7854),i=r(3505),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},2309:(t,e,r)=>{var n=r(1913),i=r(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.20.3",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:(t,e,r)=>{var n=r(9303),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},5656:(t,e,r)=>{var n=r(8361),i=r(4488);t.exports=function(t){return n(i(t))}},9303:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){var n=+t;return n!=n||0===n?0:(n>0?r:e)(n)}},7466:(t,e,r)=>{var n=r(9303),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},7908:(t,e,r)=>{var n=r(7854),i=r(4488),o=n.Object;t.exports=function(t){return o(i(t))}},7593:(t,e,r)=>{var n=r(7854),i=r(6916),o=r(111),a=r(2190),s=r(8173),u=r(2140),c=r(5112),f=n.TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var r,n=s(t,l);if(n){if(void 0===e&&(e="default"),r=i(n,t,e),!o(r)||a(r))return r;throw f("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4948:(t,e,r)=>{var n=r(7593),i=r(2190);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},1694:(t,e,r)=>{var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},1340:(t,e,r)=>{var n=r(7854),i=r(648),o=n.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:(t,e,r)=>{var n=r(7854).String;t.exports=function(t){try{return n(t)}catch(t){return"Object"}}},9711:(t,e,r)=>{var n=r(1702),i=0,o=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},3307:(t,e,r)=>{var n=r(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,r)=>{var n=r(9781),i=r(7293);t.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:(t,e,r)=>{var n=r(7854),i=r(2309),o=r(2597),a=r(9711),s=r(133),u=r(3307),c=i("wks"),f=n.Symbol,l=f&&f.for,p=u?f:f&&f.withoutSetter||a;t.exports=function(t){if(!o(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&o(f,t)?c[t]=f[t]:c[t]=u&&l?l(e):p(e)}return c[t]}},9191:(t,e,r)=>{"use strict";var n=r(5005),i=r(2597),o=r(8880),a=r(7976),s=r(7674),u=r(9920),c=r(9587),f=r(6277),l=r(8340),p=r(7741),h=r(2914),d=r(1913);t.exports=function(t,e,r,v){var m=v?2:1,y=t.split("."),g=y[y.length-1],b=n.apply(null,y);if(b){var x=b.prototype;if(!d&&i(x,"cause")&&delete x.cause,!r)return b;var w=n("Error"),A=e((function(t,e){var r=f(v?e:t,void 0),n=v?new b(t):new b;return void 0!==r&&o(n,"message",r),h&&o(n,"stack",p(n.stack,2)),this&&a(x,this)&&c(n,this,A),arguments.length>m&&l(n,arguments[m]),n}));if(A.prototype=x,"Error"!==g&&(s?s(A,w):u(A,w,{name:!0})),u(A,b),!d)try{x.name!==g&&o(x,"name",g),x.constructor=A}catch(t){}return A}}},6992:(t,e,r)=>{"use strict";var n=r(5656),i=r(1223),o=r(7497),a=r(9909),s=r(3070).f,u=r(654),c=r(1913),f=r(9781),l="Array Iterator",p=a.set,h=a.getterFor(l);t.exports=u(Array,"Array",(function(t,e){p(this,{type:l,target:n(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");var d=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&f&&"values"!==d.name)try{s(d,"name",{value:"values"})}catch(t){}},1703:(t,e,r)=>{var n=r(2109),i=r(7854),o=r(2104),a=r(9191),s=i.WebAssembly,u=7!==Error("e",{cause:7}).cause,c=function(t,e){var r={};r[t]=a(t,e,u),n({global:!0,forced:u},r)},f=function(t,e){if(s&&s[t]){var r={};r[t]=a("WebAssembly."+t,e,u),n({target:"WebAssembly",stat:!0,forced:u},r)}};c("Error",(function(t){return function(e){return o(t,this,arguments)}})),c("EvalError",(function(t){return function(e){return o(t,this,arguments)}})),c("RangeError",(function(t){return function(e){return o(t,this,arguments)}})),c("ReferenceError",(function(t){return function(e){return o(t,this,arguments)}})),c("SyntaxError",(function(t){return function(e){return o(t,this,arguments)}})),c("TypeError",(function(t){return function(e){return o(t,this,arguments)}})),c("URIError",(function(t){return function(e){return o(t,this,arguments)}})),f("CompileError",(function(t){return function(e){return o(t,this,arguments)}})),f("LinkError",(function(t){return function(e){return o(t,this,arguments)}})),f("RuntimeError",(function(t){return function(e){return o(t,this,arguments)}}))},4916:(t,e,r)=>{"use strict";var n=r(2109),i=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},3948:(t,e,r)=>{var n=r(7854),i=r(8324),o=r(8509),a=r(6992),s=r(8880),u=r(5112),c=u("iterator"),f=u("toStringTag"),l=a.values,p=function(t,e){if(t){if(t[c]!==l)try{s(t,c,l)}catch(e){t[c]=l}if(t[f]||s(t,f,e),i[e])for(var r in a)if(t[r]!==a[r])try{s(t,r,a[r])}catch(e){t[r]=a[r]}}};for(var h in i)p(n[h]&&n[h].prototype,h);p(o,"DOMTokenList")}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{AudioExtension:()=>w,AudioProcessor:()=>b,Extension:()=>x,Ticker:()=>E,VideoProcessor:()=>g,logger:()=>l,reporter:()=>d});var t=r(4341);function e(e,r,n){return r in e?t(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}r(1703),r(6992),r(3948);var i=r(3476),o=r.n(i);function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1?arguments[1]:void 0;const r=Math.random().toString(16).substr(2,t).toLowerCase();return r.length===t?"".concat(e).concat(r):"".concat(e).concat(r)+a(t-r.length,"")}r(4916);const s=Date.now(),u={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4};function c(){const t=new Date;return t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}const f=t=>{for(const e in u)if(Object.prototype.hasOwnProperty.call(u,e)&&u[e]===t)return e;return"DEFAULT"},l=new class{constructor(){e(this,"logLevel",u.DEBUG),e(this,"hookLog",void 0)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[u.DEBUG].concat(e);this.log.apply(this,n)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[u.INFO].concat(e);this.log.apply(this,n)}warning(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[u.WARNING].concat(e);this.log.apply(this,n)}error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[u.ERROR].concat(e);this.log.apply(this,n)}log(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(Date.now()-s<100)return void setTimeout((()=>{this.log(...r)}),Date.now()-s);const i=Math.max(0,Math.min(4,r[0]));if(r[0]=c()+" Agora-Extension [".concat(f(i),"]:"),i<this.logLevel)return;const o=c()+" %cAgora-Extension [".concat(f(i),"]:");let a=[];switch(i){case u.DEBUG:a=[o,"color: #64B5F6;"].concat(r.slice(1)),console.log.apply(console,a);break;case u.INFO:a=[o,"color: #1E88E5; font-weight: bold;"].concat(r.slice(1)),console.log.apply(console,a);break;case u.WARNING:a=[o,"color: #FB8C00; font-weight: bold;"].concat(r.slice(1)),console.warn.apply(console,a);break;case u.ERROR:a=[o,"color: #B00020; font-weight: bold;"].concat(r.slice(1)),console.error.apply(console,a)}null===(t=this.hookLog)||void 0===t||t.call(this,i,a)}};function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const d=new class{constructor(){e(this,"apiInvokeMsgQueue",[]),e(this,"hookApiInvoke",void 0)}reportApiInvoke(t){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const e=Date.now(),r=()=>({name:t.name,apiInvokeTime:e,options:t.options});let n=!1;var i;(i=t.timeout,new(o())((t=>{window.setTimeout(t,i)}))).then((()=>{n||(this.sendApiInvoke(h(h({},r()),{},{error:"API_INVOKE_TIMEOUT",success:!1})),l.debug("".concat(t.name," timeout")))}));const a=new Error("".concat(t.name,": this api invoke is end"));return{onSuccess:e=>{if(n)throw a;n=!0,this.sendApiInvoke(h(h({},r()),{},{success:!0},t.reportResult&&{result:e}))},onError:t=>{if(n)throw t;n=!0,this.sendApiInvoke(h(h({},r()),{},{success:!1,error:t.toString()}))}}}sendApiInvoke(t){this.hookApiInvoke?(this.hookApiInvoke([...this.apiInvokeMsgQueue,t]),this.apiInvokeMsgQueue=[]):this.apiInvokeMsgQueue.push(t)}};function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class y extends class{constructor(){e(this,"_events",{}),e(this,"addListener",this.on)}getListeners(t){return this._events[t]?this._events[t].map((t=>t.listener)):[]}on(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!1})}once(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!0})}off(t,e){if(!this._events[t])return;const r=this._events[t],n=this._indexOfListener(r,e);-1!==n&&r.splice(n,1),0===this._events[t].length&&delete this._events[t]}removeAllListeners(t){t?delete this._events[t]:this._events={}}emit(t){this._events[t]||(this._events[t]=[]);const e=this._events[t].map((t=>t));for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(let r=0;r<e.length;r+=1){const i=e[r];i.once&&this.off(t,i.listener),i.listener.apply(this,n||[])}}_indexOfListener(t,e){let r=t.length;for(;r--;)if(t[r].listener===e)return r;return-1}emitAsPromise(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return 0===this.getListeners(t).length?o().reject(new Error("No promise event handler.")):new(o())(((e,n)=>{this.emit(t,...r,e,n)}))}emitAsPromiseNoResponse(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return 0===this.getListeners(t).length?o().resolve():new(o())(((e,n)=>{this.emit(t,...r,e,n)}))}}{get enabled(){return this._enabled}output(t,e){if(this.outputTrack===t)return;const r=d.reportApiInvoke({name:"".concat(this.name,".output"),options:{track:null==t?void 0:t.toString()}});this.outputTrack=t,this.destination&&this.destination.updateInput({track:t,context:e}),r.onSuccess()}constructor(){super(),e(this,"inputTrack",void 0),e(this,"outputTrack",void 0),e(this,"_enabled",!0),e(this,"_source",void 0),e(this,"ID",a(6,"")),e(this,"destination",void 0),e(this,"context",void 0),e(this,"name",void 0)}enable(){if(this._enabled)return;const t=d.reportApiInvoke({name:"".concat(this.name,".setEnabled"),options:!0});l.info("".concat(this.name,"-").concat(this.ID," enabled")),this._enabled=!0;try{var e;const r=null===(e=this.onEnableChange)||void 0===e?void 0:e.call(this,this._enabled);if(r instanceof o())return r.then((()=>{t.onSuccess()})).catch((e=>{throw t.onError(e),e}));t.onSuccess()}catch(e){throw t.onError(e),e}}disable(){if(!this._enabled)return;const t=d.reportApiInvoke({name:"".concat(this.name,".setEnabled"),options:!1});l.info("".concat(this.name,"-").concat(this.ID," disabled")),this._enabled=!1;try{var e;const r=null===(e=this.onEnableChange)||void 0===e?void 0:e.call(this,this._enabled);if(r instanceof o())return r.then((()=>{t.onSuccess()})).catch((e=>{throw t.onError(e),e}));t.onSuccess()}catch(e){throw t.onError(e),e}}}class g extends y{get kind(){return"video"}pipe(t){const e=d.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:t.name}});if(this.destination===t)return e.onSuccess(),t;if(t._source){const r=new Error("Processor ".concat(t.name," already piped, please call unpipe beforehand."));throw e.onError(r),r}return this.destination&&this.unpipe(),this.destination=t,t._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,context:this.context}),e.onSuccess(),t}unpipe(){if(!this.destination)return;const t=d.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});l.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));try{const e=this.destination;this.destination._source=void 0,this.destination=void 0,e.reset()}finally{t.onSuccess()}}updateInput(t){var e,r;t.context!==this.context&&(this.context=t.context,null===(e=this.onPiped)||void 0===e||e.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,context:t.context})),t.track&&this.inputTrack!==t.track&&(this.inputTrack=t.track,null===(r=this.onTrack)||void 0===r||r.call(this,t.track,this.context))}reset(){var t;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.context=void 0,null===(t=this.onUnpiped)||void 0===t||t.call(this),this.destination&&this.destination.reset()}}class b extends y{constructor(){super(...arguments),e(this,"inputNode",void 0),e(this,"outputNode",void 0),e(this,"destination",void 0),e(this,"context",void 0)}get kind(){return"audio"}pipe(t){const e=d.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:t.name}});if(this.destination===t)return e.onSuccess(),t;if(t._source){const r=new Error("Processor ".concat(t.name," already piped, please call unpipe beforehand."));throw e.onError(r),r}return this.destination&&this.unpipe(),this.destination=t,t._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:this.context}),e.onSuccess(),t}unpipe(){if(!this.destination)return;l.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));const t=d.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});try{var e;let r=this.destination;null===(e=this.outputNode)||void 0===e||e.disconnect(),this.destination._source=void 0,this.destination=void 0,r.reset()}finally{t.onSuccess()}}output(t,e){if(t instanceof MediaStreamTrack)super.output(t,e);else if(t instanceof AudioNode){if(this.outputNode===t)return;const r=d.reportApiInvoke({name:"".concat(this.name,".output"),options:m(m({},t instanceof MediaStreamTrack&&{track:t.toString()}),t instanceof AudioNode&&{audioNode:t.toString()})});this.outputNode=t,this.destination&&this.destination.updateInput({node:t,context:e}),r.onSuccess()}}updateInput(t){var e,r,n;t.context!==this.context&&(this.context=t.context,null===(e=this.onPiped)||void 0===e||e.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:t.context})),t.track&&this.inputTrack!==t.track&&(this.inputTrack=t.track,null===(r=this.onTrack)||void 0===r||r.call(this,t.track,this.context)),t.node&&this.inputNode!==t.node&&(this.inputNode=t.node,null===(n=this.onNode)||void 0===n||n.call(this,t.node,this.context))}reset(){var t;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.inputNode=void 0,this.context=void 0,null===(t=this.onUnpiped)||void 0===t||t.call(this),this.destination&&this.destination.reset()}}class x{constructor(){e(this,"__registered__",!1),e(this,"logger",l),e(this,"reporter",d),e(this,"parameters",{})}createProcessor(){if(!this.__registered__)throw new Error("Extension not registered yet!");return this._createProcessor()}}class w extends x{}let A;class E{get running(){return this._running}constructor(t,r){if(e(this,"type",void 0),e(this,"interval",void 0),e(this,"fn",void 0),e(this,"_running",!1),e(this,"_osc",void 0),!t)throw new Error;if(r<=0)throw new Error;this.type=t,this.interval=r}add(t){this.fn=t}remove(){this.fn=void 0}start(){if(!this._running)switch(this._running=!0,this.type){case"Timer":{const t=()=>{setTimeout((()=>{this.fn&&this.fn(),this._running&&t()}),this.interval)};t();break}case"RAF":{const t=e=>{requestAnimationFrame((r=>{r-e<this.interval?this._running&&t(e):(this.fn&&this.fn(),this._running&&t(r))}))};t(performance.now());break}case"Oscillator":{A||(A=new AudioContext);const t=A.createGain();let e;t.gain.value=0,t.connect(A.destination);const r=()=>{this.fn&&this.fn(),e&&e.disconnect(),e=A.createOscillator(),this._osc=e,e.connect(t),this._running&&(e.onended=r,e.start(0),e.stop(A.currentTime+this.interval/1e3))};r();break}}}stop(){this._running=!1,this._osc&&(this._osc.onended=null,this._osc=void 0)}}})(),n})()},7884:(t,e,r)=>{var n=r(6191);t.exports=n},1469:(t,e,r)=>{r(8393);var n=r(2366).Object,i=t.exports=function(t,e,r){return n.defineProperty(t,e,r)};n.defineProperty.sham&&(i.sham=!0)},806:(t,e,r)=>{r(8172),r(2610),r(6095),r(8493),r(6087),r(325),r(7089),r(9773);var n=r(2366);t.exports=n.Promise},8566:(t,e,r)=>{var n=r(7884);t.exports=n},8899:(t,e,r)=>{var n=r(100),i=r(6124),o=r(6942),a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},8869:(t,e,r)=>{var n=r(100),i=r(5182),o=r(6942),a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a constructor")}},9245:(t,e,r)=>{var n=r(100),i=r(6124),o=n.String,a=n.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},7479:t=>{t.exports=function(){}},4319:(t,e,r)=>{var n=r(100),i=r(6831),o=n.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},6856:(t,e,r)=>{var n=r(100),i=r(4363),o=n.String,a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},9331:(t,e,r)=>{var n=r(2889),i=r(4488),o=r(1682),a=function(t){return function(e,r,a){var s,u=n(e),c=o(u),f=i(a,c);if(t&&r!=r){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},1675:(t,e,r)=>{var n=r(153);t.exports=n([].slice)},4863:(t,e,r)=>{var n=r(3374)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},7362:(t,e,r)=>{var n=r(153),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},6262:(t,e,r)=>{var n=r(100),i=r(2434),o=r(6124),a=r(7362),s=r(3374)("toStringTag"),u=n.Object,c="Arguments"==a(function(){return arguments}());t.exports=i?a:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=u(t),s))?r:c?a(e):"Object"==(n=a(e))&&o(e.callee)?"Arguments":n}},8758:(t,e,r)=>{var n=r(153)("".replace),i=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(i);t.exports=function(t,e){if(a&&"string"==typeof t)for(;e--;)t=n(t,o,"");return t}},9563:(t,e,r)=>{var n=r(454),i=r(9317),o=r(4498),a=r(9577);t.exports=function(t,e,r){for(var s=i(e),u=a.f,c=o.f,f=0;f<s.length;f++){var l=s[f];n(t,l)||r&&n(r,l)||u(t,l,c(e,l))}}},9991:(t,e,r)=>{var n=r(9978);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},5158:(t,e,r)=>{"use strict";var n=r(8132).IteratorPrototype,i=r(6503),o=r(5988),a=r(76),s=r(5446),u=function(){return this};t.exports=function(t,e,r,c){var f=e+" Iterator";return t.prototype=i(n,{next:o(+!c,r)}),a(t,f,!1,!0),s[f]=u,t}},7642:(t,e,r)=>{var n=r(9932),i=r(9577),o=r(5988);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},5988:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4884:(t,e,r)=>{"use strict";var n=r(1427),i=r(2684),o=r(9814),a=r(8363),s=r(6124),u=r(5158),c=r(351),f=r(3276),l=r(76),p=r(7642),h=r(3640),d=r(3374),v=r(5446),m=r(8132),y=a.PROPER,g=a.CONFIGURABLE,b=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,w=d("iterator"),A="keys",E="values",O="entries",_=function(){return this};t.exports=function(t,e,r,a,d,m,T){u(r,e,a);var S,j,k,P=function(t){if(t===d&&L)return L;if(!x&&t in R)return R[t];switch(t){case A:case E:case O:return function(){return new r(this,t)}}return function(){return new r(this)}},D=e+" Iterator",I=!1,R=t.prototype,C=R[w]||R["@@iterator"]||d&&R[d],L=!x&&C||P(d),B="Array"==e&&R.entries||C;if(B&&(S=c(B.call(new t)))!==Object.prototype&&S.next&&(o||c(S)===b||(f?f(S,b):s(S[w])||h(S,w,_)),l(S,D,!0,!0),o&&(v[D]=_)),y&&d==E&&C&&C.name!==E&&(!o&&g?p(R,"name",E):(I=!0,L=function(){return i(C,this)})),d)if(j={values:P(E),keys:m?L:P(A),entries:P(O)},T)for(k in j)(x||I||!(k in R))&&h(R,k,j[k]);else n({target:e,proto:!0,forced:x||I},j);return o&&!T||R[w]===L||h(R,w,L,{name:d}),v[e]=L,j}},9932:(t,e,r)=>{var n=r(9978);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1112:(t,e,r)=>{var n=r(100),i=r(4363),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},530:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8061:t=>{t.exports="object"==typeof window},3353:(t,e,r)=>{var n=r(5095),i=r(100);t.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==i.Pebble},5601:(t,e,r)=>{var n=r(5095);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},1663:(t,e,r)=>{var n=r(7362),i=r(100);t.exports="process"==n(i.process)},4062:(t,e,r)=>{var n=r(5095);t.exports=/web0s(?!.*chrome)/i.test(n)},5095:(t,e,r)=>{var n=r(129);t.exports=n("navigator","userAgent")||""},8720:(t,e,r)=>{var n,i,o=r(100),a=r(5095),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,f=c&&c.v8;f&&(i=(n=f.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},3513:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},503:(t,e,r)=>{var n=r(9978),i=r(5988);t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},1427:(t,e,r)=>{"use strict";var n=r(100),i=r(4556),o=r(153),a=r(6124),s=r(4498).f,u=r(608),c=r(2366),f=r(4834),l=r(7642),p=r(454),h=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var r,i,d,v,m,y,g,b,x=t.target,w=t.global,A=t.stat,E=t.proto,O=w?n:A?n[x]:(n[x]||{}).prototype,_=w?c:c[x]||l(c,x,{})[x],T=_.prototype;for(d in e)r=!u(w?d:x+(A?".":"#")+d,t.forced)&&O&&p(O,d),m=_[d],r&&(y=t.noTargetGet?(b=s(O,d))&&b.value:O[d]),v=r&&y?y:e[d],r&&typeof m==typeof v||(g=t.bind&&r?f(v,n):t.wrap&&r?h(v):E&&a(v)?o(v):v,(t.sham||v&&v.sham||m&&m.sham)&&l(g,"sham",!0),l(_,d,g),E&&(p(c,i=x+"Prototype")||l(c,i,{}),l(c[i],d,v),t.real&&T&&!T[d]&&l(T,d,v)))}},9978:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},4556:(t,e,r)=>{var n=r(1643),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},4834:(t,e,r)=>{var n=r(153),i=r(8899),o=r(1643),a=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},1643:(t,e,r)=>{var n=r(9978);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2684:(t,e,r)=>{var n=r(1643),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},8363:(t,e,r)=>{var n=r(9932),i=r(454),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},153:(t,e,r)=>{var n=r(1643),i=Function.prototype,o=i.bind,a=i.call,s=n&&o.bind(a,a);t.exports=n?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},129:(t,e,r)=>{var n=r(2366),i=r(100),o=r(6124),a=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(n[t])||a(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},1222:(t,e,r)=>{var n=r(6262),i=r(9589),o=r(5446),a=r(3374)("iterator");t.exports=function(t){if(null!=t)return i(t,a)||i(t,"@@iterator")||o[n(t)]}},2545:(t,e,r)=>{var n=r(100),i=r(2684),o=r(8899),a=r(6856),s=r(6942),u=r(1222),c=n.TypeError;t.exports=function(t,e){var r=arguments.length<2?u(t):e;if(o(r))return a(i(r,t));throw c(s(t)+" is not iterable")}},9589:(t,e,r)=>{var n=r(8899);t.exports=function(t,e){var r=t[e];return null==r?void 0:n(r)}},100:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},454:(t,e,r)=>{var n=r(153),i=r(6298),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},9658:t=>{t.exports={}},9792:(t,e,r)=>{var n=r(100);t.exports=function(t,e){var r=n.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}},7180:(t,e,r)=>{var n=r(129);t.exports=n("document","documentElement")},9265:(t,e,r)=>{var n=r(9932),i=r(9978),o=r(1112);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},3883:(t,e,r)=>{var n=r(100),i=r(153),o=r(9978),a=r(7362),s=n.Object,u=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},3417:(t,e,r)=>{var n=r(153),i=r(6124),o=r(7758),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},6397:(t,e,r)=>{var n=r(4363),i=r(7642);t.exports=function(t,e){n(e)&&"cause"in e&&i(t,"cause",e.cause)}},1026:(t,e,r)=>{var n,i,o,a=r(1460),s=r(100),u=r(153),c=r(4363),f=r(7642),l=r(454),p=r(7758),h=r(3763),d=r(9658),v="Object already initialized",m=s.TypeError,y=s.WeakMap;if(a||p.state){var g=p.state||(p.state=new y),b=u(g.get),x=u(g.has),w=u(g.set);n=function(t,e){if(x(g,t))throw new m(v);return e.facade=t,w(g,t,e),e},i=function(t){return b(g,t)||{}},o=function(t){return x(g,t)}}else{var A=h("state");d[A]=!0,n=function(t,e){if(l(t,A))throw new m(v);return e.facade=t,f(t,A,e),e},i=function(t){return l(t,A)?t[A]:{}},o=function(t){return l(t,A)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return r}}}},688:(t,e,r)=>{var n=r(3374),i=r(5446),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},6124:t=>{t.exports=function(t){return"function"==typeof t}},5182:(t,e,r)=>{var n=r(153),i=r(9978),o=r(6124),a=r(6262),s=r(129),u=r(3417),c=function(){},f=[],l=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=n(p.exec),d=!p.exec(c),v=function(t){if(!o(t))return!1;try{return l(c,f,t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!h(p,u(t))}catch(t){return!0}};m.sham=!0,t.exports=!l||i((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?m:v},608:(t,e,r)=>{var n=r(9978),i=r(6124),o=/#|\.prototype\./,a=function(t,e){var r=u[s(t)];return r==f||r!=c&&(i(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",f=a.POLYFILL="P";t.exports=a},4363:(t,e,r)=>{var n=r(6124);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},9814:t=>{t.exports=!0},463:(t,e,r)=>{var n=r(100),i=r(129),o=r(6124),a=r(6831),s=r(4529),u=n.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,u(t))}},8839:(t,e,r)=>{var n=r(100),i=r(4834),o=r(2684),a=r(6856),s=r(6942),u=r(688),c=r(1682),f=r(6831),l=r(2545),p=r(1222),h=r(6021),d=n.TypeError,v=function(t,e){this.stopped=t,this.result=e},m=v.prototype;t.exports=function(t,e,r){var n,y,g,b,x,w,A,E=r&&r.that,O=!(!r||!r.AS_ENTRIES),_=!(!r||!r.IS_ITERATOR),T=!(!r||!r.INTERRUPTED),S=i(e,E),j=function(t){return n&&h(n,"normal",t),new v(!0,t)},k=function(t){return O?(a(t),T?S(t[0],t[1],j):S(t[0],t[1])):T?S(t,j):S(t)};if(_)n=t;else{if(!(y=p(t)))throw d(s(t)+" is not iterable");if(u(y)){for(g=0,b=c(t);b>g;g++)if((x=k(t[g]))&&f(m,x))return x;return new v(!1)}n=l(t,y)}for(w=n.next;!(A=o(w,n)).done;){try{x=k(A.value)}catch(t){h(n,"throw",t)}if("object"==typeof x&&x&&f(m,x))return x}return new v(!1)}},6021:(t,e,r)=>{var n=r(2684),i=r(6856),o=r(9589);t.exports=function(t,e,r){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw r;if(s)throw a;return i(a),r}},8132:(t,e,r)=>{"use strict";var n,i,o,a=r(9978),s=r(6124),u=r(6503),c=r(351),f=r(3640),l=r(3374),p=r(9814),h=l("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(n=i):d=!0),null==n||a((function(){var t={};return n[h].call(t)!==t}))?n={}:p&&(n=u(n)),s(n[h])||f(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},5446:t=>{t.exports={}},1682:(t,e,r)=>{var n=r(358);t.exports=function(t){return n(t.length)}},6040:(t,e,r)=>{var n,i,o,a,s,u,c,f,l=r(100),p=r(4834),h=r(4498).f,d=r(8930).set,v=r(5601),m=r(3353),y=r(4062),g=r(1663),b=l.MutationObserver||l.WebKitMutationObserver,x=l.document,w=l.process,A=l.Promise,E=h(l,"queueMicrotask"),O=E&&E.value;O||(n=function(){var t,e;for(g&&(t=w.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},v||g||y||!b||!x?!m&&A&&A.resolve?((c=A.resolve(void 0)).constructor=A,f=p(c.then,c),a=function(){f(n)}):g?a=function(){w.nextTick(n)}:(d=p(d,l),a=function(){d(n)}):(s=!0,u=x.createTextNode(""),new b(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),t.exports=O||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},959:(t,e,r)=>{var n=r(100);t.exports=n.Promise},6386:(t,e,r)=>{var n=r(8720),i=r(9978);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1460:(t,e,r)=>{var n=r(100),i=r(6124),o=r(3417),a=n.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},9012:(t,e,r)=>{"use strict";var n=r(8899),i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},4242:(t,e,r)=>{var n=r(6627);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},6503:(t,e,r)=>{var n,i=r(6856),o=r(7878),a=r(3513),s=r(9658),u=r(7180),c=r(1112),f=r(3763)("IE_PROTO"),l=function(){},p=function(t){return"<script>"+t+"<\/script>"},h=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},d=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;d="undefined"!=typeof document?document.domain&&n?h(n):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):h(n);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};s[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(l.prototype=i(t),r=new l,l.prototype=null,r[f]=t):r=d(),void 0===e?r:o.f(r,e)}},7878:(t,e,r)=>{var n=r(9932),i=r(9813),o=r(9577),a=r(6856),s=r(2889),u=r(5492);e.f=n&&!i?Object.defineProperties:function(t,e){a(t);for(var r,n=s(e),i=u(e),c=i.length,f=0;c>f;)o.f(t,r=i[f++],n[r]);return t}},9577:(t,e,r)=>{var n=r(100),i=r(9932),o=r(9265),a=r(9813),s=r(6856),u=r(7274),c=n.TypeError,f=Object.defineProperty,l=Object.getOwnPropertyDescriptor;e.f=i?a?function(t,e,r){if(s(t),e=u(e),s(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=l(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return f(t,e,r)}:f:function(t,e,r){if(s(t),e=u(e),s(r),o)try{return f(t,e,r)}catch(t){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},4498:(t,e,r)=>{var n=r(9932),i=r(2684),o=r(7079),a=r(5988),s=r(2889),u=r(7274),c=r(454),f=r(9265),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=s(t),e=u(e),f)try{return l(t,e)}catch(t){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},1655:(t,e,r)=>{var n=r(3292),i=r(3513).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},2455:(t,e)=>{e.f=Object.getOwnPropertySymbols},351:(t,e,r)=>{var n=r(100),i=r(454),o=r(6124),a=r(6298),s=r(3763),u=r(9991),c=s("IE_PROTO"),f=n.Object,l=f.prototype;t.exports=u?f.getPrototypeOf:function(t){var e=a(t);if(i(e,c))return e[c];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof f?l:null}},6831:(t,e,r)=>{var n=r(153);t.exports=n({}.isPrototypeOf)},3292:(t,e,r)=>{var n=r(153),i=r(454),o=r(2889),a=r(9331).indexOf,s=r(9658),u=n([].push);t.exports=function(t,e){var r,n=o(t),c=0,f=[];for(r in n)!i(s,r)&&i(n,r)&&u(f,r);for(;e.length>c;)i(n,r=e[c++])&&(~a(f,r)||u(f,r));return f}},5492:(t,e,r)=>{var n=r(3292),i=r(3513);t.exports=Object.keys||function(t){return n(t,i)}},7079:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},3276:(t,e,r)=>{var n=r(153),i=r(6856),o=r(9245);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return i(r),o(n),e?t(r,n):r.__proto__=n,r}}():void 0)},6118:(t,e,r)=>{"use strict";var n=r(2434),i=r(6262);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},5814:(t,e,r)=>{var n=r(100),i=r(2684),o=r(6124),a=r(4363),s=n.TypeError;t.exports=function(t,e){var r,n;if("string"===e&&o(r=t.toString)&&!a(n=i(r,t)))return n;if(o(r=t.valueOf)&&!a(n=i(r,t)))return n;if("string"!==e&&o(r=t.toString)&&!a(n=i(r,t)))return n;throw s("Can't convert object to primitive value")}},9317:(t,e,r)=>{var n=r(129),i=r(153),o=r(1655),a=r(2455),s=r(6856),u=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=a.f;return r?u(e,r(t)):e}},2366:t=>{t.exports={}},1668:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},1282:(t,e,r)=>{var n=r(6856),i=r(4363),o=r(9012);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},7447:t=>{var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},9335:(t,e,r)=>{var n=r(3640);t.exports=function(t,e,r){for(var i in e)r&&r.unsafe&&t[i]?t[i]=e[i]:n(t,i,e[i],r);return t}},3640:(t,e,r)=>{var n=r(7642);t.exports=function(t,e,r,i){i&&i.enumerable?t[e]=r:n(t,e,r)}},9788:(t,e,r)=>{var n=r(100).TypeError;t.exports=function(t){if(null==t)throw n("Can't call method on "+t);return t}},7103:(t,e,r)=>{var n=r(100),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},3609:(t,e,r)=>{"use strict";var n=r(129),i=r(9577),o=r(3374),a=r(9932),s=o("species");t.exports=function(t){var e=n(t),r=i.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},76:(t,e,r)=>{var n=r(2434),i=r(9577).f,o=r(7642),a=r(454),s=r(6118),u=r(3374)("toStringTag");t.exports=function(t,e,r,c){if(t){var f=r?t:t.prototype;a(f,u)||i(f,u,{configurable:!0,value:e}),c&&!n&&o(f,"toString",s)}}},3763:(t,e,r)=>{var n=r(3860),i=r(3278),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},7758:(t,e,r)=>{var n=r(100),i=r(7103),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},3860:(t,e,r)=>{var n=r(9814),i=r(7758);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.20.3",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},5176:(t,e,r)=>{var n=r(6856),i=r(8869),o=r(3374)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[o])?e:i(r)}},9413:(t,e,r)=>{var n=r(153),i=r(26),o=r(6627),a=r(9788),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),f=function(t){return function(e,r){var n,f,l=o(a(e)),p=i(r),h=l.length;return p<0||p>=h?t?"":void 0:(n=u(l,p))<55296||n>56319||p+1===h||(f=u(l,p+1))<56320||f>57343?t?s(l,p):n:t?c(l,p,p+2):f-56320+(n-55296<<10)+65536}};t.exports={codeAt:f(!1),charAt:f(!0)}},8930:(t,e,r)=>{var n,i,o,a,s=r(100),u=r(4556),c=r(4834),f=r(6124),l=r(454),p=r(9978),h=r(7180),d=r(1675),v=r(1112),m=r(5601),y=r(1663),g=s.setImmediate,b=s.clearImmediate,x=s.process,w=s.Dispatch,A=s.Function,E=s.MessageChannel,O=s.String,_=0,T={};try{n=s.location}catch(t){}var S=function(t){if(l(T,t)){var e=T[t];delete T[t],e()}},j=function(t){return function(){S(t)}},k=function(t){S(t.data)},P=function(t){s.postMessage(O(t),n.protocol+"//"+n.host)};g&&b||(g=function(t){var e=d(arguments,1);return T[++_]=function(){u(f(t)?t:A(t),void 0,e)},i(_),_},b=function(t){delete T[t]},y?i=function(t){x.nextTick(j(t))}:w&&w.now?i=function(t){w.now(j(t))}:E&&!m?(a=(o=new E).port2,o.port1.onmessage=k,i=c(a.postMessage,a)):s.addEventListener&&f(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!p(P)?(i=P,s.addEventListener("message",k,!1)):i="onreadystatechange"in v("script")?function(t){h.appendChild(v("script")).onreadystatechange=function(){h.removeChild(this),S(t)}}:function(t){setTimeout(j(t),0)}),t.exports={set:g,clear:b}},4488:(t,e,r)=>{var n=r(26),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},2889:(t,e,r)=>{var n=r(3883),i=r(9788);t.exports=function(t){return n(i(t))}},26:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){var n=+t;return n!=n||0===n?0:(n>0?r:e)(n)}},358:(t,e,r)=>{var n=r(26),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},6298:(t,e,r)=>{var n=r(100),i=r(9788),o=n.Object;t.exports=function(t){return o(i(t))}},4490:(t,e,r)=>{var n=r(100),i=r(2684),o=r(4363),a=r(463),s=r(9589),u=r(5814),c=r(3374),f=n.TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var r,n=s(t,l);if(n){if(void 0===e&&(e="default"),r=i(n,t,e),!o(r)||a(r))return r;throw f("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},7274:(t,e,r)=>{var n=r(4490),i=r(463);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},2434:(t,e,r)=>{var n={};n[r(3374)("toStringTag")]="z",t.exports="[object z]"===String(n)},6627:(t,e,r)=>{var n=r(100),i=r(6262),o=n.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6942:(t,e,r)=>{var n=r(100).String;t.exports=function(t){try{return n(t)}catch(t){return"Object"}}},3278:(t,e,r)=>{var n=r(153),i=0,o=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},4529:(t,e,r)=>{var n=r(6386);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9813:(t,e,r)=>{var n=r(9932),i=r(9978);t.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},3374:(t,e,r)=>{var n=r(100),i=r(3860),o=r(454),a=r(3278),s=r(6386),u=r(4529),c=i("wks"),f=n.Symbol,l=f&&f.for,p=u?f:f&&f.withoutSetter||a;t.exports=function(t){if(!o(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&o(f,t)?c[t]=f[t]:c[t]=u&&l?l(e):p(e)}return c[t]}},8172:(t,e,r)=>{"use strict";var n=r(1427),i=r(100),o=r(6831),a=r(351),s=r(3276),u=r(9563),c=r(6503),f=r(7642),l=r(5988),p=r(8758),h=r(6397),d=r(8839),v=r(4242),m=r(3374),y=r(503),g=m("toStringTag"),b=i.Error,x=[].push,w=function(t,e){var r,n=arguments.length>2?arguments[2]:void 0,i=o(A,this);s?r=s(new b,i?a(this):A):(r=i?this:c(A),f(r,g,"Error")),void 0!==e&&f(r,"message",v(e)),y&&f(r,"stack",p(r.stack,1)),h(r,n);var u=[];return d(t,x,{that:u}),f(r,"errors",u),r};s?s(w,b):u(w,b,{name:!0});var A=w.prototype=c(b.prototype,{constructor:l(1,w),message:l(1,""),name:l(1,"AggregateError")});n({global:!0},{AggregateError:w})},2610:(t,e,r)=>{"use strict";var n=r(2889),i=r(7479),o=r(5446),a=r(1026),s=r(9577).f,u=r(4884),c=r(9814),f=r(9932),l="Array Iterator",p=a.set,h=a.getterFor(l);t.exports=u(Array,"Array",(function(t,e){p(this,{type:l,target:n(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");var d=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&f&&"values"!==d.name)try{s(d,"name",{value:"values"})}catch(t){}},8393:(t,e,r)=>{var n=r(1427),i=r(9932),o=r(9577).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},6095:()=>{},6087:(t,e,r)=>{"use strict";var n=r(1427),i=r(2684),o=r(8899),a=r(9012),s=r(1668),u=r(8839);n({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=a.f(e),n=r.resolve,c=r.reject,f=s((function(){var r=o(e.resolve),a=[],s=0,c=1;u(t,(function(t){var o=s++,u=!1;c++,i(r,e,t).then((function(t){u||(u=!0,a[o]={status:"fulfilled",value:t},--c||n(a))}),(function(t){u||(u=!0,a[o]={status:"rejected",reason:t},--c||n(a))}))})),--c||n(a)}));return f.error&&c(f.value),r.promise}})},325:(t,e,r)=>{"use strict";var n=r(1427),i=r(8899),o=r(129),a=r(2684),s=r(9012),u=r(1668),c=r(8839),f="No one promise resolved";n({target:"Promise",stat:!0},{any:function(t){var e=this,r=o("AggregateError"),n=s.f(e),l=n.resolve,p=n.reject,h=u((function(){var n=i(e.resolve),o=[],s=0,u=1,h=!1;c(t,(function(t){var i=s++,c=!1;u++,a(n,e,t).then((function(t){c||h||(h=!0,l(t))}),(function(t){c||h||(c=!0,o[i]=t,--u||p(new r(o,f)))}))})),--u||p(new r(o,f))}));return h.error&&p(h.value),n.promise}})},7089:(t,e,r)=>{"use strict";var n=r(1427),i=r(9814),o=r(959),a=r(9978),s=r(129),u=r(6124),c=r(5176),f=r(1282),l=r(3640);if(n({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),r=u(t);return this.then(r?function(r){return f(e,t()).then((function(){return r}))}:t,r?function(r){return f(e,t()).then((function(){throw r}))}:t)}}),!i&&u(o)){var p=s("Promise").prototype.finally;o.prototype.finally!==p&&l(o.prototype,"finally",p,{unsafe:!0})}},8493:(t,e,r)=>{"use strict";var n,i,o,a,s=r(1427),u=r(9814),c=r(100),f=r(129),l=r(2684),p=r(959),h=r(3640),d=r(9335),v=r(3276),m=r(76),y=r(3609),g=r(8899),b=r(6124),x=r(4363),w=r(4319),A=r(3417),E=r(8839),O=r(4863),_=r(5176),T=r(8930).set,S=r(6040),j=r(1282),k=r(9792),P=r(9012),D=r(1668),I=r(7447),R=r(1026),C=r(608),L=r(3374),B=r(8061),M=r(1663),F=r(8720),N=L("species"),V="Promise",z=R.getterFor(V),U=R.set,W=R.getterFor(V),G=p&&p.prototype,H=p,q=G,Y=c.TypeError,Q=c.document,X=c.process,K=P.f,J=K,$=!!(Q&&Q.createEvent&&c.dispatchEvent),Z=b(c.PromiseRejectionEvent),tt="unhandledrejection",et=!1,rt=C(V,(function(){var t=A(H),e=t!==String(H);if(!e&&66===F)return!0;if(u&&!q.finally)return!0;if(F>=51&&/native code/.test(t))return!1;var r=new H((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[N]=n,!(et=r.then((function(){}))instanceof n)||!e&&B&&!Z})),nt=rt||!O((function(t){H.all(t).catch((function(){}))})),it=function(t){var e;return!(!x(t)||!b(e=t.then))&&e},ot=function(t,e){var r,n,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{s?(a||(2===e.rejection&&ft(e),e.rejection=1),!0===s?r=o:(f&&f.enter(),r=s(o),f&&(f.exit(),i=!0)),r===t.promise?c(Y("Promise-chain cycle")):(n=it(r))?l(n,r,u,c):u(r)):c(o)}catch(t){f&&!i&&f.exit(),c(t)}},at=function(t,e){t.notified||(t.notified=!0,S((function(){for(var r,n=t.reactions;r=n.get();)ot(r,t);t.notified=!1,e&&!t.rejection&&ut(t)})))},st=function(t,e,r){var n,i;$?((n=Q.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!Z&&(i=c["on"+t])?i(n):t===tt&&k("Unhandled promise rejection",r)},ut=function(t){l(T,c,(function(){var e,r=t.facade,n=t.value;if(ct(t)&&(e=D((function(){M?X.emit("unhandledRejection",n,r):st(tt,r,n)})),t.rejection=M||ct(t)?2:1,e.error))throw e.value}))},ct=function(t){return 1!==t.rejection&&!t.parent},ft=function(t){l(T,c,(function(){var e=t.facade;M?X.emit("rejectionHandled",e):st("rejectionhandled",e,t.value)}))},lt=function(t,e,r){return function(n){t(e,n,r)}},pt=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,at(t,!0))},ht=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw Y("Promise can't be resolved itself");var n=it(e);n?S((function(){var r={done:!1};try{l(n,e,lt(ht,r,t),lt(pt,r,t))}catch(e){pt(r,e,t)}})):(t.value=e,t.state=1,at(t,!1))}catch(e){pt({done:!1},e,t)}}};if(rt&&(q=(H=function(t){w(this,q),g(t),l(n,this);var e=z(this);try{t(lt(ht,e),lt(pt,e))}catch(t){pt(e,t)}}).prototype,(n=function(t){U(this,{type:V,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:void 0})}).prototype=d(q,{then:function(t,e){var r=W(this),n=K(_(this,H));return r.parent=!0,n.ok=!b(t)||t,n.fail=b(e)&&e,n.domain=M?X.domain:void 0,0==r.state?r.reactions.add(n):S((function(){ot(n,r)})),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,e=z(t);this.promise=t,this.resolve=lt(ht,e),this.reject=lt(pt,e)},P.f=K=function(t){return t===H||t===o?new i(t):J(t)},!u&&b(p)&&G!==Object.prototype)){a=G.then,et||(h(G,"then",(function(t,e){var r=this;return new H((function(t,e){l(a,r,t,e)})).then(t,e)}),{unsafe:!0}),h(G,"catch",q.catch,{unsafe:!0}));try{delete G.constructor}catch(t){}v&&v(G,q)}s({global:!0,wrap:!0,forced:rt},{Promise:H}),m(H,V,!1,!0),y(V),o=f(V),s({target:V,stat:!0,forced:rt},{reject:function(t){var e=K(this);return l(e.reject,void 0,t),e.promise}}),s({target:V,stat:!0,forced:u||rt},{resolve:function(t){return j(u&&this===o?H:this,t)}}),s({target:V,stat:!0,forced:nt},{all:function(t){var e=this,r=K(e),n=r.resolve,i=r.reject,o=D((function(){var r=g(e.resolve),o=[],a=0,s=1;E(t,(function(t){var u=a++,c=!1;s++,l(r,e,t).then((function(t){c||(c=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=K(e),n=r.reject,i=D((function(){var i=g(e.resolve);E(t,(function(t){l(i,e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},9773:(t,e,r)=>{"use strict";var n=r(9413).charAt,i=r(6627),o=r(1026),a=r(4884),s="String Iterator",u=o.set,c=o.getterFor(s);a(String,"String",(function(t){u(this,{type:s,string:i(t),index:0})}),(function(){var t,e=c(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},8524:(t,e,r)=>{r(2610);var n=r(530),i=r(100),o=r(6262),a=r(7642),s=r(5446),u=r(3374)("toStringTag");for(var c in n){var f=i[c],l=f&&f.prototype;l&&o(l)!==u&&a(l,u,c),s[c]=s.Array}},6191:(t,e,r)=>{var n=r(1469);t.exports=n},3800:(t,e,r)=>{var n=r(806);r(8524),t.exports=n},2460:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},1684:(t,e,r)=>{var n=r(1355);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},7512:(t,e,r)=>{var n=r(191),i=r(3250),o=r(3087),a=n("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},9837:t=>{t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},2546:(t,e,r)=>{var n=r(1355);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},2024:t=>{t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},6857:(t,e,r)=>{"use strict";var n,i=r(2024),o=r(2115),a=r(2022),s=r(1355),u=r(5543),c=r(2814),f=r(2775),l=r(5048),p=r(3087).f,h=r(5783),d=r(5466),v=r(191),m=r(232),y=a.Int8Array,g=y&&y.prototype,b=a.Uint8ClampedArray,x=b&&b.prototype,w=y&&h(y),A=g&&h(g),E=Object.prototype,O=E.isPrototypeOf,_=v("toStringTag"),T=m("TYPED_ARRAY_TAG"),S=i&&!!d&&"Opera"!==c(a.opera),j=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P={BigInt64Array:8,BigUint64Array:8},D=function(t){if(!s(t))return!1;var e=c(t);return u(k,e)||u(P,e)};for(n in k)a[n]||(S=!1);if((!S||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},S))for(n in k)a[n]&&d(a[n],w);if((!S||!A||A===E)&&(A=w.prototype,S))for(n in k)a[n]&&d(a[n].prototype,A);if(S&&h(x)!==A&&d(x,A),o&&!u(A,_))for(n in j=!0,p(A,_,{get:function(){return s(this)?this[T]:void 0}}),k)a[n]&&f(a[n],T,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:S,TYPED_ARRAY_TAG:j&&T,aTypedArray:function(t){if(D(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(d){if(O.call(w,t))return t}else for(var e in k)if(u(k,n)){var r=a[e];if(r&&(t===r||O.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(o){if(r)for(var n in k){var i=a[n];if(i&&u(i.prototype,t))try{delete i.prototype[t]}catch(t){}}A[t]&&!r||l(A,t,r?e:S&&g[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(o){if(d){if(r)for(n in k)if((i=a[n])&&u(i,t))try{delete i[t]}catch(t){}if(w[t]&&!r)return;try{return l(w,t,r?e:S&&w[t]||e)}catch(t){}}for(n in k)!(i=a[n])||i[t]&&!r||l(i,t,e)}},isView:function(t){if(!s(t))return!1;var e=c(t);return"DataView"===e||u(k,e)||u(P,e)},isTypedArray:D,TypedArray:w,TypedArrayPrototype:A}},5140:(t,e,r)=>{"use strict";var n=r(2022),i=r(2115),o=r(2024),a=r(2775),s=r(8374),u=r(8986),c=r(9837),f=r(7818),l=r(9375),p=r(1173),h=r(8108),d=r(5783),v=r(5466),m=r(1662).f,y=r(3087).f,g=r(3750),b=r(7747),x=r(8045),w=x.get,A=x.set,E="ArrayBuffer",O="DataView",_="Wrong index",T=n.ArrayBuffer,S=T,j=n.DataView,k=j&&j.prototype,P=Object.prototype,D=n.RangeError,I=h.pack,R=h.unpack,C=function(t){return[255&t]},L=function(t){return[255&t,t>>8&255]},B=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},M=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},F=function(t){return I(t,23,4)},N=function(t){return I(t,52,8)},V=function(t,e){y(t.prototype,e,{get:function(){return w(this)[e]}})},z=function(t,e,r,n){var i=p(r),o=w(t);if(i+e>o.byteLength)throw D(_);var a=w(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+e);return n?u:u.reverse()},U=function(t,e,r,n,i,o){var a=p(r),s=w(t);if(a+e>s.byteLength)throw D(_);for(var u=w(s.buffer).bytes,c=a+s.byteOffset,f=n(+i),l=0;l<e;l++)u[c+l]=f[o?l:e-l-1]};if(o){if(!u((function(){T(1)}))||!u((function(){new T(-1)}))||u((function(){return new T,new T(1.5),new T(NaN),T.name!=E}))){for(var W,G=(S=function(t){return c(this,S),new T(p(t))}).prototype=T.prototype,H=m(T),q=0;H.length>q;)(W=H[q++])in S||a(S,W,T[W]);G.constructor=S}v&&d(k)!==P&&v(k,P);var Y=new j(new S(2)),Q=k.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||s(k,{setInt8:function(t,e){Q.call(this,t,e<<24>>24)},setUint8:function(t,e){Q.call(this,t,e<<24>>24)}},{unsafe:!0})}else S=function(t){c(this,S,E);var e=p(t);A(this,{bytes:g.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},j=function(t,e,r){c(this,j,O),c(t,S,O);var n=w(t).byteLength,o=f(e);if(o<0||o>n)throw D("Wrong offset");if(o+(r=void 0===r?n-o:l(r))>n)throw D("Wrong length");A(this,{buffer:t,byteLength:r,byteOffset:o}),i||(this.buffer=t,this.byteLength=r,this.byteOffset=o)},i&&(V(S,"byteLength"),V(j,"buffer"),V(j,"byteLength"),V(j,"byteOffset")),s(j.prototype,{getInt8:function(t){return z(this,1,t)[0]<<24>>24},getUint8:function(t){return z(this,1,t)[0]},getInt16:function(t){var e=z(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=z(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return M(z(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return M(z(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return R(z(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return R(z(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){U(this,1,t,C,e)},setUint8:function(t,e){U(this,1,t,C,e)},setInt16:function(t,e){U(this,2,t,L,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){U(this,2,t,L,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){U(this,4,t,B,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){U(this,4,t,B,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){U(this,4,t,F,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){U(this,8,t,N,e,arguments.length>2?arguments[2]:void 0)}});b(S,E),b(j,O),t.exports={ArrayBuffer:S,DataView:j}},3750:(t,e,r)=>{"use strict";var n=r(7137),i=r(6593),o=r(9375);t.exports=function(t){for(var e=n(this),r=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>s;)e[s++]=t;return e}},8035:(t,e,r)=>{var n=r(8326),i=r(9375),o=r(6593),a=function(t){return function(e,r,a){var s,u=n(e),c=i(u.length),f=o(a,c);if(t&&r!=r){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},5883:(t,e,r)=>{var n=r(391),i=r(4032),o=r(7137),a=r(9375),s=r(4842),u=[].push,c=function(t){var e=1==t,r=2==t,c=3==t,f=4==t,l=6==t,p=7==t,h=5==t||l;return function(d,v,m,y){for(var g,b,x=o(d),w=i(x),A=n(v,m,3),E=a(w.length),O=0,_=y||s,T=e?_(d,E):r||p?_(d,0):void 0;E>O;O++)if((h||O in w)&&(b=A(g=w[O],O,x),t))if(e)T[O]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return O;case 2:u.call(T,g)}else switch(t){case 4:return!1;case 7:u.call(T,g)}return l?-1:c||f?f:T}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},4842:(t,e,r)=>{var n=r(1355),i=r(5351),o=r(191)("species");t.exports=function(t,e){var r;return i(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[o])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},1269:(t,e,r)=>{var n=r(191)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},9523:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},2814:(t,e,r)=>{var n=r(7568),i=r(9523),o=r(191)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:a?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},4953:(t,e,r)=>{var n=r(5543),i=r(1537),o=r(6213),a=r(3087);t.exports=function(t,e){for(var r=i(e),s=a.f,u=o.f,c=0;c<r.length;c++){var f=r[c];n(t,f)||s(t,f,u(e,f))}}},8538:(t,e,r)=>{var n=r(8986);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2753:(t,e,r)=>{"use strict";var n=r(798).IteratorPrototype,i=r(3250),o=r(1111),a=r(7747),s=r(3766),u=function(){return this};t.exports=function(t,e,r){var c=e+" Iterator";return t.prototype=i(n,{next:o(1,r)}),a(t,c,!1,!0),s[c]=u,t}},2775:(t,e,r)=>{var n=r(2115),i=r(3087),o=r(1111);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},1111:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2665:(t,e,r)=>{"use strict";var n=r(4635),i=r(2753),o=r(5783),a=r(5466),s=r(7747),u=r(2775),c=r(5048),f=r(191),l=r(8546),p=r(3766),h=r(798),d=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,m=f("iterator"),y="keys",g="values",b="entries",x=function(){return this};t.exports=function(t,e,r,f,h,w,A){i(r,e,f);var E,O,_,T=function(t){if(t===h&&D)return D;if(!v&&t in k)return k[t];switch(t){case y:case g:case b:return function(){return new r(this,t)}}return function(){return new r(this)}},S=e+" Iterator",j=!1,k=t.prototype,P=k[m]||k["@@iterator"]||h&&k[h],D=!v&&P||T(h),I="Array"==e&&k.entries||P;if(I&&(E=o(I.call(new t)),d!==Object.prototype&&E.next&&(l||o(E)===d||(a?a(E,d):"function"!=typeof E[m]&&u(E,m,x)),s(E,S,!0,!0),l&&(p[S]=x))),h==g&&P&&P.name!==g&&(j=!0,D=function(){return P.call(this)}),l&&!A||k[m]===D||u(k,m,D),p[e]=D,h)if(O={values:T(g),keys:w?D:T(y),entries:T(b)},A)for(_ in O)(v||j||!(_ in k))&&c(k,_,O[_]);else n({target:e,proto:!0,forced:v||j},O);return O}},2115:(t,e,r)=>{var n=r(8986);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2985:(t,e,r)=>{var n=r(2022),i=r(1355),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},6910:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},649:(t,e,r)=>{var n=r(727);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},9456:(t,e,r)=>{var n=r(9523),i=r(2022);t.exports="process"==n(i.process)},2054:(t,e,r)=>{var n=r(727);t.exports=/web0s(?!.*chrome)/i.test(n)},727:(t,e,r)=>{var n=r(3155);t.exports=n("navigator","userAgent")||""},714:(t,e,r)=>{var n,i,o=r(2022),a=r(727),s=o.process,u=s&&s.versions,c=u&&u.v8;c?i=(n=c.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},6100:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4635:(t,e,r)=>{var n=r(2022),i=r(6213).f,o=r(2775),a=r(5048),s=r(3096),u=r(4953),c=r(7987);t.exports=function(t,e){var r,f,l,p,h,d=t.target,v=t.global,m=t.stat;if(r=v?n:m?n[d]||s(d,{}):(n[d]||{}).prototype)for(f in e){if(p=e[f],l=t.noTargetGet?(h=i(r,f))&&h.value:r[f],!c(v?f:d+(m?".":"#")+f,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;u(p,l)}(t.sham||l&&l.sham)&&o(p,"sham",!0),a(r,f,p,t)}}},8986:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},391:(t,e,r)=>{var n=r(2460);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},3155:(t,e,r)=>{var n=r(3034),i=r(2022),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},6897:(t,e,r)=>{var n=r(2814),i=r(3766),o=r(191)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[n(t)]}},2022:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},5543:(t,e,r)=>{var n=r(7137),i={}.hasOwnProperty;t.exports=function(t,e){return i.call(n(t),e)}},7307:t=>{t.exports={}},9361:(t,e,r)=>{var n=r(2022);t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},6419:(t,e,r)=>{var n=r(3155);t.exports=n("document","documentElement")},2159:(t,e,r)=>{var n=r(2115),i=r(8986),o=r(2985);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8108:t=>{var e=Math.abs,r=Math.pow,n=Math.floor,i=Math.log,o=Math.LN2;t.exports={pack:function(t,a,s){var u,c,f,l=new Array(s),p=8*s-a-1,h=(1<<p)-1,d=h>>1,v=23===a?r(2,-24)-r(2,-77):0,m=t<0||0===t&&1/t<0?1:0,y=0;for((t=e(t))!=t||t===1/0?(c=t!=t?1:0,u=h):(u=n(i(t)/o),t*(f=r(2,-u))<1&&(u--,f*=2),(t+=u+d>=1?v/f:v*r(2,1-d))*f>=2&&(u++,f/=2),u+d>=h?(c=0,u=h):u+d>=1?(c=(t*f-1)*r(2,a),u+=d):(c=t*r(2,d-1)*r(2,a),u=0));a>=8;l[y++]=255&c,c/=256,a-=8);for(u=u<<a|c,p+=a;p>0;l[y++]=255&u,u/=256,p-=8);return l[--y]|=128*m,l},unpack:function(t,e){var n,i=t.length,o=8*i-e-1,a=(1<<o)-1,s=a>>1,u=o-7,c=i-1,f=t[c--],l=127&f;for(f>>=7;u>0;l=256*l+t[c],c--,u-=8);for(n=l&(1<<-u)-1,l>>=-u,u+=e;u>0;n=256*n+t[c],c--,u-=8);if(0===l)l=1-s;else{if(l===a)return n?NaN:f?-1/0:1/0;n+=r(2,e),l-=s}return(f?-1:1)*n*r(2,l-e)}}},4032:(t,e,r)=>{var n=r(8986),i=r(9523),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},9618:(t,e,r)=>{var n=r(1355),i=r(5466);t.exports=function(t,e,r){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&i(t,a),t}},6169:(t,e,r)=>{var n=r(3349),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},8045:(t,e,r)=>{var n,i,o,a=r(6507),s=r(2022),u=r(1355),c=r(2775),f=r(5543),l=r(3349),p=r(7186),h=r(7307),d="Object already initialized",v=s.WeakMap;if(a){var m=l.state||(l.state=new v),y=m.get,g=m.has,b=m.set;n=function(t,e){if(g.call(m,t))throw new TypeError(d);return e.facade=t,b.call(m,t,e),e},i=function(t){return y.call(m,t)||{}},o=function(t){return g.call(m,t)}}else{var x=p("state");h[x]=!0,n=function(t,e){if(f(t,x))throw new TypeError(d);return e.facade=t,c(t,x,e),e},i=function(t){return f(t,x)?t[x]:{}},o=function(t){return f(t,x)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},2882:(t,e,r)=>{var n=r(191),i=r(3766),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},5351:(t,e,r)=>{var n=r(9523);t.exports=Array.isArray||function(t){return"Array"==n(t)}},7987:(t,e,r)=>{var n=r(8986),i=/#|\.prototype\./,o=function(t,e){var r=s[a(t)];return r==c||r!=u&&("function"==typeof e?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},1355:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},8546:t=>{t.exports=!1},8640:(t,e,r)=>{var n=r(2546),i=r(2882),o=r(9375),a=r(391),s=r(6897),u=r(4681),c=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,r){var f,l,p,h,d,v,m,y=r&&r.that,g=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),x=!(!r||!r.INTERRUPTED),w=a(e,y,1+g+x),A=function(t){return f&&u(f),new c(!0,t)},E=function(t){return g?(n(t),x?w(t[0],t[1],A):w(t[0],t[1])):x?w(t,A):w(t)};if(b)f=t;else{if("function"!=typeof(l=s(t)))throw TypeError("Target is not iterable");if(i(l)){for(p=0,h=o(t.length);h>p;p++)if((d=E(t[p]))&&d instanceof c)return d;return new c(!1)}f=l.call(t)}for(v=f.next;!(m=v.call(f)).done;){try{d=E(m.value)}catch(t){throw u(f),t}if("object"==typeof d&&d&&d instanceof c)return d}return new c(!1)}},4681:(t,e,r)=>{var n=r(2546);t.exports=function(t){var e=t.return;if(void 0!==e)return n(e.call(t)).value}},798:(t,e,r)=>{"use strict";var n,i,o,a=r(8986),s=r(5783),u=r(2775),c=r(5543),f=r(191),l=r(8546),p=f("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(n=i):h=!0);var d=null==n||a((function(){var t={};return n[p].call(t)!==t}));d&&(n={}),l&&!d||c(n,p)||u(n,p,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},3766:t=>{t.exports={}},6173:(t,e,r)=>{var n,i,o,a,s,u,c,f,l=r(2022),p=r(6213).f,h=r(6416).set,d=r(649),v=r(2054),m=r(9456),y=l.MutationObserver||l.WebKitMutationObserver,g=l.document,b=l.process,x=l.Promise,w=p(l,"queueMicrotask"),A=w&&w.value;A||(n=function(){var t,e;for(m&&(t=b.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},d||m||v||!y||!g?x&&x.resolve?(c=x.resolve(void 0),f=c.then,a=function(){f.call(c,n)}):a=m?function(){b.nextTick(n)}:function(){h.call(l,n)}:(s=!0,u=g.createTextNode(""),new y(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),t.exports=A||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},2603:(t,e,r)=>{var n=r(2022);t.exports=n.Promise},2113:(t,e,r)=>{var n=r(9456),i=r(714),o=r(8986);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(n?38===i:i>37&&i<41)}))},6507:(t,e,r)=>{var n=r(2022),i=r(6169),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},7892:(t,e,r)=>{"use strict";var n=r(2460),i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},3250:(t,e,r)=>{var n,i=r(2546),o=r(3330),a=r(6100),s=r(7307),u=r(6419),c=r(2985),f=r(7186)("IE_PROTO"),l=function(){},p=function(t){return"<script>"+t+"<\/script>"},h=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;h=n?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var r=a.length;r--;)delete h.prototype[a[r]];return h()};s[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(l.prototype=i(t),r=new l,l.prototype=null,r[f]=t):r=h(),void 0===e?r:o(r,e)}},3330:(t,e,r)=>{var n=r(2115),i=r(3087),o=r(2546),a=r(5932);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var r,n=a(e),s=n.length,u=0;s>u;)i.f(t,r=n[u++],e[r]);return t}},3087:(t,e,r)=>{var n=r(2115),i=r(2159),o=r(2546),a=r(9127),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(o(t),e=a(e,!0),o(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},6213:(t,e,r)=>{var n=r(2115),i=r(3659),o=r(1111),a=r(8326),s=r(9127),u=r(5543),c=r(2159),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=a(t),e=s(e,!0),c)try{return f(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},1662:(t,e,r)=>{var n=r(7282),i=r(6100).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},1711:(t,e)=>{e.f=Object.getOwnPropertySymbols},5783:(t,e,r)=>{var n=r(5543),i=r(7137),o=r(7186),a=r(8538),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},7282:(t,e,r)=>{var n=r(5543),i=r(8326),o=r(8035).indexOf,a=r(7307);t.exports=function(t,e){var r,s=i(t),u=0,c=[];for(r in s)!n(a,r)&&n(s,r)&&c.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~o(c,r)||c.push(r));return c}},5932:(t,e,r)=>{var n=r(7282),i=r(6100);t.exports=Object.keys||function(t){return n(t,i)}},3659:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},5466:(t,e,r)=>{var n=r(2546),i=r(1684);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,o){return n(r),i(o),e?t.call(r,o):r.__proto__=o,r}}():void 0)},1537:(t,e,r)=>{var n=r(3155),i=r(1662),o=r(1711),a=r(2546);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=o.f;return r?e.concat(r(t)):e}},3034:(t,e,r)=>{var n=r(2022);t.exports=n},5786:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9062:(t,e,r)=>{var n=r(2546),i=r(1355),o=r(7892);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},8374:(t,e,r)=>{var n=r(5048);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},5048:(t,e,r)=>{var n=r(2022),i=r(2775),o=r(5543),a=r(3096),s=r(6169),u=r(8045),c=u.get,f=u.enforce,l=String(String).split("String");(t.exports=function(t,e,r,s){var u,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||o(r,"name")||i(r,"name",e),(u=f(r)).source||(u.source=l.join("string"==typeof e?e:""))),t!==n?(c?!h&&t[e]&&(p=!0):delete t[e],p?t[e]=r:i(t,e,r)):p?t[e]=r:a(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},1591:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3096:(t,e,r)=>{var n=r(2022),i=r(2775);t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}},2343:(t,e,r)=>{"use strict";var n=r(3155),i=r(3087),o=r(191),a=r(2115),s=o("species");t.exports=function(t){var e=n(t),r=i.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},7747:(t,e,r)=>{var n=r(3087).f,i=r(5543),o=r(191)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},7186:(t,e,r)=>{var n=r(7905),i=r(232),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},3349:(t,e,r)=>{var n=r(2022),i=r(3096),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},7905:(t,e,r)=>{var n=r(8546),i=r(3349);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.11.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},3820:(t,e,r)=>{var n=r(2546),i=r(2460),o=r(191)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[o])?e:i(r)}},6416:(t,e,r)=>{var n,i,o,a=r(2022),s=r(8986),u=r(391),c=r(6419),f=r(2985),l=r(649),p=r(9456),h=a.location,d=a.setImmediate,v=a.clearImmediate,m=a.process,y=a.MessageChannel,g=a.Dispatch,b=0,x={},w=function(t){if(x.hasOwnProperty(t)){var e=x[t];delete x[t],e()}},A=function(t){return function(){w(t)}},E=function(t){w(t.data)},O=function(t){a.postMessage(t+"",h.protocol+"//"+h.host)};d&&v||(d=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return x[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(b),b},v=function(t){delete x[t]},p?n=function(t){m.nextTick(A(t))}:g&&g.now?n=function(t){g.now(A(t))}:y&&!l?(o=(i=new y).port2,i.port1.onmessage=E,n=u(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&h&&"file:"!==h.protocol&&!s(O)?(n=O,a.addEventListener("message",E,!1)):n="onreadystatechange"in f("script")?function(t){c.appendChild(f("script")).onreadystatechange=function(){c.removeChild(this),w(t)}}:function(t){setTimeout(A(t),0)}),t.exports={set:d,clear:v}},6593:(t,e,r)=>{var n=r(7818),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},1173:(t,e,r)=>{var n=r(7818),i=r(9375);t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw RangeError("Wrong length or index");return r}},8326:(t,e,r)=>{var n=r(4032),i=r(1591);t.exports=function(t){return n(i(t))}},7818:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},9375:(t,e,r)=>{var n=r(7818),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},7137:(t,e,r)=>{var n=r(1591);t.exports=function(t){return Object(n(t))}},8144:(t,e,r)=>{var n=r(7526);t.exports=function(t,e){var r=n(t);if(r%e)throw RangeError("Wrong offset");return r}},7526:(t,e,r)=>{var n=r(7818);t.exports=function(t){var e=n(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},9127:(t,e,r)=>{var n=r(1355);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},7568:(t,e,r)=>{var n={};n[r(191)("toStringTag")]="z",t.exports="[object z]"===String(n)},4550:(t,e,r)=>{"use strict";var n=r(4635),i=r(2022),o=r(2115),a=r(1025),s=r(6857),u=r(5140),c=r(9837),f=r(1111),l=r(2775),p=r(9375),h=r(1173),d=r(8144),v=r(9127),m=r(5543),y=r(2814),g=r(1355),b=r(3250),x=r(5466),w=r(1662).f,A=r(9320),E=r(5883).forEach,O=r(2343),_=r(3087),T=r(6213),S=r(8045),j=r(9618),k=S.get,P=S.set,D=_.f,I=T.f,R=Math.round,C=i.RangeError,L=u.ArrayBuffer,B=u.DataView,M=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,N=s.TypedArray,V=s.TypedArrayPrototype,z=s.aTypedArrayConstructor,U=s.isTypedArray,W="BYTES_PER_ELEMENT",G="Wrong length",H=function(t,e){for(var r=0,n=e.length,i=new(z(t))(n);n>r;)i[r]=e[r++];return i},q=function(t,e){D(t,e,{get:function(){return k(this)[e]}})},Y=function(t){var e;return t instanceof L||"ArrayBuffer"==(e=y(t))||"SharedArrayBuffer"==e},Q=function(t,e){return U(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},X=function(t,e){return Q(t,e=v(e,!0))?f(2,t[e]):I(t,e)},K=function(t,e,r){return!(Q(t,e=v(e,!0))&&g(r)&&m(r,"value"))||m(r,"get")||m(r,"set")||r.configurable||m(r,"writable")&&!r.writable||m(r,"enumerable")&&!r.enumerable?D(t,e,r):(t[e]=r.value,t)};o?(M||(T.f=X,_.f=K,q(V,"buffer"),q(V,"byteOffset"),q(V,"byteLength"),q(V,"length")),n({target:"Object",stat:!0,forced:!M},{getOwnPropertyDescriptor:X,defineProperty:K}),t.exports=function(t,e,r){var o=t.match(/\d+$/)[0]/8,s=t+(r?"Clamped":"")+"Array",u="get"+t,f="set"+t,v=i[s],m=v,y=m&&m.prototype,_={},T=function(t,e){D(t,e,{get:function(){return function(t,e){var r=k(t);return r.view[u](e*o+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=k(t);r&&(n=(n=R(n))<0?0:n>255?255:255&n),i.view[f](e*o+i.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};M?a&&(m=e((function(t,e,r,n){return c(t,m,s),j(g(e)?Y(e)?void 0!==n?new v(e,d(r,o),n):void 0!==r?new v(e,d(r,o)):new v(e):U(e)?H(m,e):A.call(m,e):new v(h(e)),t,m)})),x&&x(m,N),E(w(v),(function(t){t in m||l(m,t,v[t])})),m.prototype=y):(m=e((function(t,e,r,n){c(t,m,s);var i,a,u,f=0,l=0;if(g(e)){if(!Y(e))return U(e)?H(m,e):A.call(m,e);i=e,l=d(r,o);var v=e.byteLength;if(void 0===n){if(v%o)throw C(G);if((a=v-l)<0)throw C(G)}else if((a=p(n)*o)+l>v)throw C(G);u=a/o}else u=h(e),i=new L(a=u*o);for(P(t,{buffer:i,byteOffset:l,byteLength:a,length:u,view:new B(i)});f<u;)T(t,f++)})),x&&x(m,N),y=m.prototype=b(V)),y.constructor!==m&&l(y,"constructor",m),F&&l(y,F,s),_[s]=m,n({global:!0,forced:m!=v,sham:!M},_),W in m||l(m,W,o),W in y||l(y,W,o),O(s)}):t.exports=function(){}},1025:(t,e,r)=>{var n=r(2022),i=r(8986),o=r(1269),a=r(6857).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;t.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},9320:(t,e,r)=>{var n=r(7137),i=r(9375),o=r(6897),a=r(2882),s=r(391),u=r(6857).aTypedArrayConstructor;t.exports=function(t){var e,r,c,f,l,p,h=n(t),d=arguments.length,v=d>1?arguments[1]:void 0,m=void 0!==v,y=o(h);if(null!=y&&!a(y))for(p=(l=y.call(h)).next,h=[];!(f=p.call(l)).done;)h.push(f.value);for(m&&d>2&&(v=s(v,arguments[2],2)),r=i(h.length),c=new(u(this))(r),e=0;r>e;e++)c[e]=m?v(h[e],e):h[e];return c}},232:t=>{var e=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+r).toString(36)}},8590:(t,e,r)=>{var n=r(2113);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},191:(t,e,r)=>{var n=r(2022),i=r(7905),o=r(5543),a=r(232),s=r(2113),u=r(8590),c=i("wks"),f=n.Symbol,l=u?f:f&&f.withoutSetter||a;t.exports=function(t){return o(c,t)&&(s||"string"==typeof c[t])||(s&&o(f,t)?c[t]=f[t]:c[t]=l("Symbol."+t)),c[t]}},5894:(t,e,r)=>{"use strict";var n=r(4635),i=r(8986),o=r(5140),a=r(2546),s=r(6593),u=r(9375),c=r(3820),f=o.ArrayBuffer,l=o.DataView,p=f.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new f(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==p&&void 0===e)return p.call(a(this),t);for(var r=a(this).byteLength,n=s(t,r),i=s(void 0===e?r:e,r),o=new(c(this,f))(u(i-n)),h=new l(this),d=new l(o),v=0;n<i;)d.setUint8(v++,h.getUint8(n++));return o}})},8490:(t,e,r)=>{"use strict";var n=r(8326),i=r(7512),o=r(3766),a=r(8045),s=r(2665),u="Array Iterator",c=a.set,f=a.getterFor(u);t.exports=s(Array,"Array",(function(t,e){c(this,{type:u,target:n(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},3823:(t,e,r)=>{"use strict";var n,i,o,a,s=r(4635),u=r(8546),c=r(2022),f=r(3155),l=r(2603),p=r(5048),h=r(8374),d=r(5466),v=r(7747),m=r(2343),y=r(1355),g=r(2460),b=r(9837),x=r(6169),w=r(8640),A=r(1269),E=r(3820),O=r(6416).set,_=r(6173),T=r(9062),S=r(9361),j=r(7892),k=r(5786),P=r(8045),D=r(7987),I=r(191),R=r(9456),C=r(714),L=I("species"),B="Promise",M=P.get,F=P.set,N=P.getterFor(B),V=l&&l.prototype,z=l,U=c.TypeError,W=c.document,G=c.process,H=j.f,q=H,Y=!!(W&&W.createEvent&&c.dispatchEvent),Q="function"==typeof PromiseRejectionEvent,X="unhandledrejection",K=D(B,(function(){if(x(z)===String(z)){if(66===C)return!0;if(!R&&!Q)return!0}if(u&&!z.prototype.finally)return!0;if(C>=51&&/native code/.test(z))return!1;var t=z.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[L]=e,!(t.then((function(){}))instanceof e)})),J=K||!A((function(t){z.all(t).catch((function(){}))})),$=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},Z=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;_((function(){for(var n=t.value,i=1==t.state,o=0;r.length>o;){var a,s,u,c=r[o++],f=i?c.ok:c.fail,l=c.resolve,p=c.reject,h=c.domain;try{f?(i||(2===t.rejection&&nt(t),t.rejection=1),!0===f?a=n:(h&&h.enter(),a=f(n),h&&(h.exit(),u=!0)),a===c.promise?p(U("Promise-chain cycle")):(s=$(a))?s.call(a,l,p):l(a)):p(n)}catch(t){h&&!u&&h.exit(),p(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&et(t)}))}},tt=function(t,e,r){var n,i;Y?((n=W.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!Q&&(i=c["on"+t])?i(n):t===X&&S("Unhandled promise rejection",r)},et=function(t){O.call(c,(function(){var e,r=t.facade,n=t.value;if(rt(t)&&(e=k((function(){R?G.emit("unhandledRejection",n,r):tt(X,r,n)})),t.rejection=R||rt(t)?2:1,e.error))throw e.value}))},rt=function(t){return 1!==t.rejection&&!t.parent},nt=function(t){O.call(c,(function(){var e=t.facade;R?G.emit("rejectionHandled",e):tt("rejectionhandled",e,t.value)}))},it=function(t,e,r){return function(n){t(e,n,r)}},ot=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,Z(t,!0))},at=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw U("Promise can't be resolved itself");var n=$(e);n?_((function(){var r={done:!1};try{n.call(e,it(at,r,t),it(ot,r,t))}catch(e){ot(r,e,t)}})):(t.value=e,t.state=1,Z(t,!1))}catch(e){ot({done:!1},e,t)}}};if(K&&(z=function(t){b(this,z,B),g(t),n.call(this);var e=M(this);try{t(it(at,e),it(ot,e))}catch(t){ot(e,t)}},(n=function(t){F(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(z.prototype,{then:function(t,e){var r=N(this),n=H(E(this,z));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=R?G.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&Z(r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,e=M(t);this.promise=t,this.resolve=it(at,e),this.reject=it(ot,e)},j.f=H=function(t){return t===z||t===o?new i(t):q(t)},!u&&"function"==typeof l&&V!==Object.prototype)){a=V.then,p(V,"then",(function(t,e){var r=this;return new z((function(t,e){a.call(r,t,e)})).then(t,e)}),{unsafe:!0});try{delete V.constructor}catch(t){}d&&d(V,z.prototype)}s({global:!0,wrap:!0,forced:K},{Promise:z}),v(z,B,!1,!0),m(B),o=f(B),s({target:B,stat:!0,forced:K},{reject:function(t){var e=H(this);return e.reject.call(void 0,t),e.promise}}),s({target:B,stat:!0,forced:u||K},{resolve:function(t){return T(u&&this===o?z:this,t)}}),s({target:B,stat:!0,forced:J},{all:function(t){var e=this,r=H(e),n=r.resolve,i=r.reject,o=k((function(){var r=g(e.resolve),o=[],a=0,s=1;w(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,r.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=H(e),n=r.reject,i=k((function(){var i=g(e.resolve);w(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},7246:(t,e,r)=>{"use strict";var n=r(6857),i=r(9375),o=r(8144),a=r(7137),s=r(8986),u=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",(function(t){u(this);var e=o(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=a(t),s=i(n.length),c=0;if(s+e>r)throw RangeError("Wrong length");for(;c<s;)this[e+c]=n[c++]}),s((function(){new Int8Array(1).set({})})))},5082:(t,e,r)=>{"use strict";var n=r(6857),i=n.aTypedArray,o=n.exportTypedArrayMethod,a=[].sort;o("sort",(function(t){return a.call(i(this),t)}))},8455:(t,e,r)=>{r(4550)("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},5193:(t,e,r)=>{var n=r(2022),i=r(6910),o=r(8490),a=r(2775),s=r(191),u=s("iterator"),c=s("toStringTag"),f=o.values;for(var l in i){var p=n[l],h=p&&p.prototype;if(h){if(h[u]!==f)try{a(h,u,f)}catch(t){h[u]=f}if(h[c]||a(h,c,l),i[l])for(var d in o)if(h[d]!==o[d])try{a(h,d,o[d])}catch(t){h[d]=o[d]}}}},2142:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}v(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&v(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,r,n){var i,o,a,c;if(s(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"==typeof a?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=u(t))>0&&a.length>i&&!a.warned){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=a.length,c=f,console&&console.warn&&console.warn(c)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):d(i,i.length)}function h(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function v(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)n(u,this,e);else{var c=u.length,f=d(u,c);for(r=0;r<c;++r)n(f[r],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return s(e),this.on(t,l(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,l(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,a;if(s(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return p(this,t,!0)},o.prototype.rawListeners=function(t){return p(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},5447:(t,e,r)=>{var _scriptDir,n=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,n,i=void 0!==(t=t||{})?t:{};i.ready=new Promise((function(t,r){e=t,n=r}));var o,a={};for(o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);var s,u,c,f,l,p=[],h="object"==typeof window,d="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";v?(m=d?r(2622).dirname(m)+"/":"//",s=function(t,e){return f||(f=r(7742)),l||(l=r(2622)),t=l.normalize(t),f.readFileSync(t,e?null:"utf8")},c=function(t){var e=s(t,!0);return e.buffer||(e=new Uint8Array(e)),A(e.buffer),e},u=function(t,e,n){f||(f=r(7742)),l||(l=r(2622)),t=l.normalize(t),f.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),p=process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof at))throw t})),process.on("unhandledRejection",(function(t){throw t})),i.inspect=function(){return"[Emscripten Module object]"}):(h||d)&&(d?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",s=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},d&&(c=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),u=function(t,e,r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?e(n.response):r()},n.onerror=r,n.send(null)});var y,g,b=i.print||console.log.bind(console),x=i.printErr||console.warn.bind(console);for(o in a)a.hasOwnProperty(o)&&(i[o]=a[o]);a=null,i.arguments&&(p=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit,i.wasmBinary&&(y=i.wasmBinary),i.noExitRuntime,"object"!=typeof WebAssembly&&U("no native wasm support detected");var w=!1;function A(t,e){t||U("Assertion failed: "+e)}function E(t){var e=i["_"+t];return A(e,"Cannot call unknown function "+t+", make sure it is exported"),e}function O(t,e,r,n,i){var o={string:function(t){var e=0;if(null!=t&&0!==t){var r=1+(t.length<<2);!function(t,e,r){!function(t,e,r,n){if(!(n>0))return 0;for(var i=r+n-1,o=0;o<t.length;++o){var a=t.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++o)),a<=127){if(r>=i)break;e[r++]=a}else if(a<=2047){if(r+1>=i)break;e[r++]=192|a>>6,e[r++]=128|63&a}else if(a<=65535){if(r+2>=i)break;e[r++]=224|a>>12,e[r++]=128|a>>6&63,e[r++]=128|63&a}else{if(r+3>=i)break;e[r++]=240|a>>18,e[r++]=128|a>>12&63,e[r++]=128|a>>6&63,e[r++]=128|63&a}}e[r]=0}(t,S,e,r)}(t,e=ot(r),r)}return e},array:function(t){var e=ot(t.length);return function(t,e){T.set(t,e)}(t,e),e}},a=E(t),s=[],u=0;if(n)for(var c=0;c<n.length;c++){var f=o[r[c]];f?(0===u&&(u=nt()),s[c]=f(n[c])):s[c]=n[c]}var l=a.apply(null,s);return function(t){return 0!==u&&it(u),function(t){return"string"===e?D(t):"boolean"===e?Boolean(t):t}(t)}(l)}var _,T,S,j,k="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function P(t,e,r){for(var n=e+r,i=e;t[i]&&!(i>=n);)++i;if(i-e>16&&t.subarray&&k)return k.decode(t.subarray(e,i));for(var o="";e<i;){var a=t[e++];if(128&a){var s=63&t[e++];if(192!=(224&a)){var u=63&t[e++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&t[e++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function D(t,e){return t?P(S,t,e):""}function I(t){_=t,i.HEAP8=T=new Int8Array(t),i.HEAP16=new Int16Array(t),i.HEAP32=j=new Int32Array(t),i.HEAPU8=S=new Uint8Array(t),i.HEAPU16=new Uint16Array(t),i.HEAPU32=new Uint32Array(t),i.HEAPF32=new Float32Array(t),i.HEAPF64=new Float64Array(t)}i.INITIAL_MEMORY;var R,C,L,B=[],M=[],F=[],N=0,V=null,z=null;function U(t){i.onAbort&&i.onAbort(t),x(t="Aborted("+t+")"),w=!0,t+=". Build with -s ASSERTIONS=1 for more info.";var e=new WebAssembly.RuntimeError(t);throw n(e),e}function W(t){return t.startsWith("data:application/octet-stream;base64,")}function G(t){return t.startsWith("file://")}function H(t){try{if(t==C&&y)return new Uint8Array(y);if(c)return c(t);throw"both async and sync fetching of the wasm failed"}catch(t){U(t)}}function q(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var r=e.func;"number"==typeof r?void 0===e.arg?X(r)():X(r)(e.arg):r(void 0===e.arg?null:e.arg)}else e(i)}}i.preloadedImages={},i.preloadedAudios={},W(C="agora-wasm.wasm")||(L=C,C=i.locateFile?i.locateFile(L,m):m+L);var Y,Q=[];function X(t){var e=Q[t];return e||(t>=Q.length&&(Q.length=t+1),Q[t]=e=R.get(t)),e}function K(t){this.excPtr=t,this.ptr=t-16,this.set_type=function(t){j[this.ptr+4>>2]=t},this.get_type=function(){return j[this.ptr+4>>2]},this.set_destructor=function(t){j[this.ptr+8>>2]=t},this.get_destructor=function(){return j[this.ptr+8>>2]},this.set_refcount=function(t){j[this.ptr>>2]=t},this.set_caught=function(t){t=t?1:0,T[this.ptr+12>>0]=t},this.get_caught=function(){return 0!=T[this.ptr+12>>0]},this.set_rethrown=function(t){t=t?1:0,T[this.ptr+13>>0]=t},this.get_rethrown=function(){return 0!=T[this.ptr+13>>0]},this.init=function(t,e){this.set_type(t),this.set_destructor(e),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=j[this.ptr>>2];j[this.ptr>>2]=t+1},this.release_ref=function(){var t=j[this.ptr>>2];return j[this.ptr>>2]=t-1,1===t}}function J(t){try{return g.grow(t-_.byteLength+65535>>>16),I(g.buffer),1}catch(t){}}Y=v?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:function(){return performance.now()};var $,Z={mappings:{},buffers:[null,[],[]],printChar:function(t,e){var r=Z.buffers[t];0===e||10===e?((1===t?b:x)(P(r,0)),r.length=0):r.push(e)},varargs:void 0,get:function(){return Z.varargs+=4,j[Z.varargs-4>>2]},getStr:function(t){return D(t)},get64:function(t,e){return t}},tt={g:function(t){return et(t+16)+16},f:function(t,e,r){throw new K(t).init(e,r),t},a:function(){U("")},e:function(t,e){var r;if(0===t)r=Date.now();else{if(1!==t&&4!==t)return 28,j[rt()>>2]=28,-1;r=Y()}return j[e>>2]=r/1e3|0,j[e+4>>2]=r%1e3*1e3*1e3|0,0},c:function(t,e,r){S.copyWithin(t,e,e+r)},d:function(t){var e,r=S.length,n=2147483648;if((t>>>=0)>n)return!1;for(var i=1;i<=4;i*=2){var o=r*(1+.2/i);if(o=Math.min(o,t+100663296),J(Math.min(n,((e=Math.max(t,o))%65536>0&&(e+=65536-e%65536),e))))return!0}return!1},b:function(t,e,r,n){for(var i=0,o=0;o<r;o++){var a=j[e>>2],s=j[e+4>>2];e+=8;for(var u=0;u<s;u++)Z.printChar(t,S[a+u]);i+=s}return j[n>>2]=i,0}},et=(function(){var t={a:tt};function e(t,e){var r,n=t.exports;i.asm=n,I((g=i.asm.h).buffer),R=i.asm.m,r=i.asm.i,M.unshift(r),function(t){if(N--,i.monitorRunDependencies&&i.monitorRunDependencies(N),0==N&&(null!==V&&(clearInterval(V),V=null),z)){var e=z;z=null,e()}}()}function r(t){e(t.instance)}function o(e){return function(){if(!y&&(h||d)){if("function"==typeof fetch&&!G(C))return fetch(C,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+C+"'";return t.arrayBuffer()})).catch((function(){return H(C)}));if(u)return new Promise((function(t,e){u(C,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return H(C)}))}().then((function(e){return WebAssembly.instantiate(e,t)})).then((function(t){return t})).then(e,(function(t){x("failed to asynchronously prepare wasm: "+t),U(t)}))}if(N++,i.monitorRunDependencies&&i.monitorRunDependencies(N),i.instantiateWasm)try{return i.instantiateWasm(t,e)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(y||"function"!=typeof WebAssembly.instantiateStreaming||W(C)||G(C)||"function"!=typeof fetch?o(r):fetch(C,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(r,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),o(r)}))}))).catch(n)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.i).apply(null,arguments)},i._Init=function(){return(i._Init=i.asm.j).apply(null,arguments)},i._Predict=function(){return(i._Predict=i.asm.k).apply(null,arguments)},i._Release=function(){return(i._Release=i.asm.l).apply(null,arguments)},i._free=function(){return(i._free=i.asm.n).apply(null,arguments)},i._malloc=function(){return(et=i._malloc=i.asm.o).apply(null,arguments)}),rt=i.___errno_location=function(){return(rt=i.___errno_location=i.asm.p).apply(null,arguments)},nt=i.stackSave=function(){return(nt=i.stackSave=i.asm.q).apply(null,arguments)},it=i.stackRestore=function(){return(it=i.stackRestore=i.asm.r).apply(null,arguments)},ot=i.stackAlloc=function(){return(ot=i.stackAlloc=i.asm.s).apply(null,arguments)};function at(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){function r(){$||($=!0,i.calledRun=!0,w||(q(M),e(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)t=i.postRun.shift(),F.unshift(t);var t;q(F)}()))}t=t||p,N>0||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)t=i.preRun.shift(),B.unshift(t);var t;q(B)}(),N>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),r()}),1)):r()))}if(i.ccall=O,i.cwrap=function(t,e,r,n){var i=(r=r||[]).every((function(t){return"number"===t}));return"string"!==e&&i&&!n?E(t):function(){return O(t,e,r,arguments)}},z=function t(){$||st(),$||(z=t)},i.run=st,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return st(),t.ready});t.exports=n},5138:function(t){t.exports=function(){function t(t,e){this.id=W++,this.type=t,this.data=e}function e(t){if(0===t.length)return[];var r=t.charAt(0),n=t.charAt(t.length-1);if(1<t.length&&r===n&&('"'===r||"'"===r))return['"'+t.substr(1,t.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t))return e(t.substr(0,r.index)).concat(e(r[1])).concat(e(t.substr(r.index+r[0].length)));if(1===(r=t.split(".")).length)return['"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(t=[],n=0;n<r.length;++n)t=t.concat(e(r[n]));return t}function r(t){return"["+e(t).join("][")+"]"}function n(t){return"string"==typeof t?t.split():t}function i(t){return"string"==typeof t?document.querySelector(t):t}function o(t){var e,r,o,a,s=t||{};t={};var u=[],c=[],f="undefined"==typeof window?1:window.devicePixelRatio,l=!1,p=function(t){},h=function(){};if("string"==typeof s?e=document.querySelector(s):"object"==typeof s&&("string"==typeof s.nodeName&&"function"==typeof s.appendChild&&"function"==typeof s.getBoundingClientRect?e=s:"function"==typeof s.drawArrays||"function"==typeof s.drawElements?o=(a=s).canvas:("gl"in s?a=s.gl:"canvas"in s?o=i(s.canvas):"container"in s&&(r=i(s.container)),"attributes"in s&&(t=s.attributes),"extensions"in s&&(u=n(s.extensions)),"optionalExtensions"in s&&(c=n(s.optionalExtensions)),"onDone"in s&&(p=s.onDone),"profile"in s&&(l=!!s.profile),"pixelRatio"in s&&(f=+s.pixelRatio))),e&&("canvas"===e.nodeName.toLowerCase()?o=e:r=e),!a){if(!o){if(!(e=function(t,e,r){function n(){var e=window.innerWidth,n=window.innerHeight;t!==document.body&&(e=(n=o.getBoundingClientRect()).right-n.left,n=n.bottom-n.top),o.width=r*e,o.height=r*n}var i,o=document.createElement("canvas");return U(o.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),t.appendChild(o),t===document.body&&(o.style.position="absolute",U(t.style,{margin:0,padding:0})),t!==document.body&&"function"==typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(n)}))).observe(t):window.addEventListener("resize",n,!1),n(),{canvas:o,onDestroy:function(){i?i.disconnect():window.removeEventListener("resize",n),t.removeChild(o)}}}(r||document.body,0,f)))return null;o=e.canvas,h=e.onDestroy}void 0===t.premultipliedAlpha&&(t.premultipliedAlpha=!0),a=function(t,e){function r(r){try{return t.getContext(r,e)}catch(t){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}(o,t)}return a?{gl:a,canvas:o,container:r,extensions:u,optionalExtensions:c,pixelRatio:f,profile:l,onDone:p,onDestroy:h}:(h(),p("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function a(t,e){for(var r=Array(t),n=0;n<t;++n)r[n]=e(n);return r}function s(t){var e,r;return e=(65535<t)<<4,e|=r=(255<(t>>>=e))<<3,(e|=r=(15<(t>>>=r))<<2)|(r=(3<(t>>>=r))<<1)|t>>>r>>1}function u(){function t(t){t:{for(var e=16;268435456>=e;e*=16)if(t<=e){t=e;break t}t=0}return 0<(e=r[s(t)>>2]).length?e.pop():new ArrayBuffer(t)}function e(t){r[s(t.byteLength)>>2].push(t)}var r=a(8,(function(){return[]}));return{alloc:t,free:e,allocType:function(e,r){var n=null;switch(e){case 5120:n=new Int8Array(t(r),0,r);break;case 5121:n=new Uint8Array(t(r),0,r);break;case 5122:n=new Int16Array(t(2*r),0,r);break;case 5123:n=new Uint16Array(t(2*r),0,r);break;case 5124:n=new Int32Array(t(4*r),0,r);break;case 5125:n=new Uint32Array(t(4*r),0,r);break;case 5126:n=new Float32Array(t(4*r),0,r);break;default:return null}return n.length!==r?n.subarray(0,r):n},freeType:function(t){e(t.buffer)}}}function c(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||$(t.data))}function f(t,e,r,n,i,o){for(var a=0;a<e;++a)for(var s=t[a],u=0;u<r;++u)for(var c=s[u],f=0;f<n;++f)i[o++]=c[f]}function l(t,e,r,n,i){for(var o=1,a=r+1;a<e.length;++a)o*=e[a];var s=e[r];if(4==e.length-r){var u=e[r+1],c=e[r+2];for(e=e[r+3],a=0;a<s;++a)f(t[a],u,c,e,n,i),i+=o}else for(a=0;a<s;++a)l(t[a],e,r+1,n,i),i+=o}function p(t){return 0|et[Object.prototype.toString.call(t)]}function h(t,e){for(var r=0;r<e.length;++r)t[r]=e[r]}function d(t,e,r,n,i,o,a){for(var s=0,u=0;u<r;++u)for(var c=0;c<n;++c)t[s++]=e[i*u+o*c+a]}function v(t,e,r,n){function i(e){this.id=u++,this.buffer=t.createBuffer(),this.type=e,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,r.profile&&(this.stats={size:0})}function o(e,r,n){e.byteLength=r.byteLength,t.bufferData(e.type,r,n)}function a(t,e,r,n,i,a){if(t.usage=r,Array.isArray(e)){if(t.dtype=n||5126,0<e.length)if(Array.isArray(e[0])){i=ot(e);for(var s=n=1;s<i.length;++s)n*=i[s];t.dimension=n,o(t,e=it(e,i,t.dtype),r),a?t.persistentData=e:K.freeType(e)}else"number"==typeof e[0]?(t.dimension=i,h(i=K.allocType(t.dtype,e.length),e),o(t,i,r),a?t.persistentData=i:K.freeType(i)):$(e[0])&&(t.dimension=e[0].length,t.dtype=n||p(e[0])||5126,o(t,e=it(e,[e.length,e[0].length],t.dtype),r),a?t.persistentData=e:K.freeType(e))}else if($(e))t.dtype=n||p(e),t.dimension=i,o(t,e,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(e.buffer)));else if(c(e)){i=e.shape;var u=e.stride,f=(s=e.offset,0),l=0,v=0,m=0;1===i.length?(f=i[0],l=1,v=u[0],m=0):2===i.length&&(f=i[0],l=i[1],v=u[0],m=u[1]),t.dtype=n||p(e.data)||5126,t.dimension=l,d(i=K.allocType(t.dtype,f*l),e.data,f,l,v,m,s),o(t,i,r),a?t.persistentData=i:K.freeType(i)}else e instanceof ArrayBuffer&&(t.dtype=5121,t.dimension=i,o(t,e,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(e))))}function s(r){e.bufferCount--,n(r),t.deleteBuffer(r.buffer),r.buffer=null,delete f[r.id]}var u=0,f={};i.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},i.prototype.destroy=function(){s(this)};var l=[];return r.profile&&(e.getTotalBufferSize=function(){var t=0;return Object.keys(f).forEach((function(e){t+=f[e].stats.size})),t}),{create:function(n,o,u,l){function v(e){var n=35044,i=null,o=0,s=0,u=1;return Array.isArray(e)||$(e)||c(e)||e instanceof ArrayBuffer?i=e:"number"==typeof e?o=0|e:e&&("data"in e&&(i=e.data),"usage"in e&&(n=nt[e.usage]),"type"in e&&(s=rt[e.type]),"dimension"in e&&(u=0|e.dimension),"length"in e&&(o=0|e.length)),m.bind(),i?a(m,i,n,s,u,l):(o&&t.bufferData(m.type,o,n),m.dtype=s||5121,m.usage=n,m.dimension=u,m.byteLength=o),r.profile&&(m.stats.size=m.byteLength*at[m.dtype]),v}e.bufferCount++;var m=new i(o);return f[m.id]=m,u||v(n),v._reglType="buffer",v._buffer=m,v.subdata=function(e,r){var n,i=0|(r||0);if(m.bind(),$(e)||e instanceof ArrayBuffer)t.bufferSubData(m.type,i,e);else if(Array.isArray(e)){if(0<e.length)if("number"==typeof e[0]){var o=K.allocType(m.dtype,e.length);h(o,e),t.bufferSubData(m.type,i,o),K.freeType(o)}else(Array.isArray(e[0])||$(e[0]))&&(n=ot(e),o=it(e,n,m.dtype),t.bufferSubData(m.type,i,o),K.freeType(o))}else if(c(e)){n=e.shape;var a=e.stride,s=o=0,u=0,f=0;1===n.length?(o=n[0],s=1,u=a[0],f=0):2===n.length&&(o=n[0],s=n[1],u=a[0],f=a[1]),n=Array.isArray(e.data)?m.dtype:p(e.data),d(n=K.allocType(n,o*s),e.data,o,s,u,f,e.offset),t.bufferSubData(m.type,i,n),K.freeType(n)}return v},r.profile&&(v.stats=m.stats),v.destroy=function(){s(m)},v},createStream:function(t,e){var r=l.pop();return r||(r=new i(t)),r.bind(),a(r,e,35040,0,1,!1),r},destroyStream:function(t){l.push(t)},clear:function(){Z(f).forEach(s),l.forEach(s)},getBuffer:function(t){return t&&t._buffer instanceof i?t._buffer:null},restore:function(){Z(f).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))},_initBuffer:a}}function m(t,e,r,n){function i(t){this.id=u++,s[this.id]=this,this.buffer=t,this.primType=4,this.type=this.vertCount=0}function o(n,i,o,a,s,u,f){var l;if(n.buffer.bind(),i?((l=f)||$(i)&&(!c(i)||$(i.data))||(l=e.oes_element_index_uint?5125:5123),r._initBuffer(n.buffer,i,o,l,3)):(t.bufferData(34963,u,o),n.buffer.dtype=l||5121,n.buffer.usage=o,n.buffer.dimension=3,n.buffer.byteLength=u),l=f,!f){switch(n.buffer.dtype){case 5121:case 5120:l=5121;break;case 5123:case 5122:l=5123;break;case 5125:case 5124:l=5125}n.buffer.dtype=l}n.type=l,0>(i=s)&&(i=n.buffer.byteLength,5123===l?i>>=1:5125===l&&(i>>=2)),n.vertCount=i,i=a,0>a&&(i=4,1===(a=n.buffer.dimension)&&(i=0),2===a&&(i=1),3===a&&(i=4)),n.primType=i}function a(t){n.elementsCount--,delete s[t.id],t.buffer.destroy(),t.buffer=null}var s={},u=0,f={uint8:5121,uint16:5123};e.oes_element_index_uint&&(f.uint32=5125),i.prototype.bind=function(){this.buffer.bind()};var l=[];return{create:function(t,e){function s(t){if(t)if("number"==typeof t)u(t),l.primType=4,l.vertCount=0|t,l.type=5121;else{var e=null,r=35044,n=-1,i=-1,a=0,p=0;Array.isArray(t)||$(t)||c(t)?e=t:("data"in t&&(e=t.data),"usage"in t&&(r=nt[t.usage]),"primitive"in t&&(n=st[t.primitive]),"count"in t&&(i=0|t.count),"type"in t&&(p=f[t.type]),"length"in t?a=0|t.length:(a=i,5123===p||5122===p?a*=2:5125!==p&&5124!==p||(a*=4))),o(l,e,r,n,i,a,p)}else u(),l.primType=4,l.vertCount=0,l.type=5121;return s}var u=r.create(null,34963,!0),l=new i(u._buffer);return n.elementsCount++,s(t),s._reglType="elements",s._elements=l,s.subdata=function(t,e){return u.subdata(t,e),s},s.destroy=function(){a(l)},s},createStream:function(t){var e=l.pop();return e||(e=new i(r.create(null,34963,!0,!1)._buffer)),o(e,t,35040,-1,-1,0,0),e},destroyStream:function(t){l.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof i?t._elements:null},clear:function(){Z(s).forEach(a)}}}function y(t){for(var e=K.allocType(5123,t.length),r=0;r<t.length;++r)if(isNaN(t[r]))e[r]=65535;else if(1/0===t[r])e[r]=31744;else if(-1/0===t[r])e[r]=64512;else{ut[0]=t[r];var n=(o=ct[0])>>>31<<15,i=(o<<1>>>24)-127,o=o>>13&1023;e[r]=-24>i?n:-14>i?n+(o+1024>>-14-i):15<i?n+31744:n+(i+15<<10)+o}return e}function g(t){return Array.isArray(t)||$(t)}function b(t){return"[object "+t+"]"}function x(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function w(t){return!(!Array.isArray(t)||0===t.length||!g(t[0]))}function A(t){return Object.prototype.toString.call(t)}function E(t){if(!t)return!1;var e=A(t);return 0<=bt.indexOf(e)||x(t)||w(t)||c(t)}function O(t,e){36193===t.type?(t.data=y(e),K.freeType(e)):t.data=e}function _(t,e,r,n,i,o){if(t=void 0!==wt[t]?wt[t]:pt[t]*xt[e],o&&(t*=6),i){for(n=0;1<=r;)n+=t*r*r,r/=2;return n}return t*r*n}function T(t,e,r,n,i,o,a){function s(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function u(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function f(t,e){if("object"==typeof e&&e){"premultiplyAlpha"in e&&(t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(t.flipY=e.flipY),"alignment"in e&&(t.unpackAlignment=e.alignment),"colorSpace"in e&&(t.colorSpace=W[e.colorSpace]),"type"in e&&(t.type=G[e.type]);var r=t.width,n=t.height,i=t.channels,o=!1;"shape"in e?(r=e.shape[0],n=e.shape[1],3===e.shape.length&&(i=e.shape[2],o=!0)):("radius"in e&&(r=n=e.radius),"width"in e&&(r=e.width),"height"in e&&(n=e.height),"channels"in e&&(i=e.channels,o=!0)),t.width=0|r,t.height=0|n,t.channels=0|i,r=!1,"format"in e&&(r=e.format,n=t.internalformat=H[r],t.format=ot[n],r in G&&!("type"in e)&&(t.type=G[r]),r in q&&(t.compressed=!0),r=!0),!o&&r?t.channels=pt[t.format]:o&&!r&&t.channels!==lt[t.format]&&(t.format=t.internalformat=lt[t.channels])}}function l(e){t.pixelStorei(37440,e.flipY),t.pixelStorei(37441,e.premultiplyAlpha),t.pixelStorei(37443,e.colorSpace),t.pixelStorei(3317,e.unpackAlignment)}function p(){s.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function h(t,e){var r=null;if(E(e)?r=e:e&&(f(t,e),"x"in e&&(t.xOffset=0|e.x),"y"in e&&(t.yOffset=0|e.y),E(e.data)&&(r=e.data)),e.copy){var n=i.viewportWidth,o=i.viewportHeight;t.width=t.width||n-t.xOffset,t.height=t.height||o-t.yOffset,t.needsCopy=!0}else if(r){if($(r))t.channels=t.channels||4,t.data=r,"type"in e||5121!==t.type||(t.type=0|et[Object.prototype.toString.call(r)]);else if(x(r)){switch(t.channels=t.channels||4,o=(n=r).length,t.type){case 5121:case 5123:case 5125:case 5126:(o=K.allocType(t.type,o)).set(n),t.data=o;break;case 36193:t.data=y(n)}t.alignment=1,t.needsFree=!0}else if(c(r)){n=r.data,Array.isArray(n)||5121!==t.type||(t.type=0|et[Object.prototype.toString.call(n)]),o=r.shape;var a,s,u,l,p=r.stride;3===o.length?(u=o[2],l=p[2]):l=u=1,a=o[0],s=o[1],o=p[0],p=p[1],t.alignment=1,t.width=a,t.height=s,t.channels=u,t.format=t.internalformat=lt[u],t.needsFree=!0,a=l,r=r.offset,u=t.width,l=t.height,s=t.channels;for(var h=K.allocType(36193===t.type?5126:t.type,u*l*s),d=0,v=0;v<l;++v)for(var m=0;m<u;++m)for(var b=0;b<s;++b)h[d++]=n[o*m+p*v+a*b+r];O(t,h)}else if(A(r)===ht||A(r)===dt||A(r)===vt)A(r)===ht||A(r)===dt?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(A(r)===mt)t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(A(r)===yt)t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(A(r)===gt)t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(w(r)){for(n=t.width||r[0].length,o=t.height||r.length,p=t.channels,p=g(r[0][0])?p||r[0][0].length:p||1,a=tt.shape(r),u=1,l=0;l<a.length;++l)u*=a[l];u=K.allocType(36193===t.type?5126:t.type,u),tt.flatten(r,a,"",u),O(t,u),t.alignment=1,t.width=n,t.height=o,t.channels=p,t.format=t.internalformat=lt[p],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4}function d(e,r,i,o,a){var s=e.element,u=e.data,c=e.internalformat,f=e.format,p=e.type,h=e.width,d=e.height;l(e),s?t.texSubImage2D(r,a,i,o,f,p,s):e.compressed?t.compressedTexSubImage2D(r,a,i,o,c,h,d,u):e.needsCopy?(n(),t.copyTexSubImage2D(r,a,i,o,e.xOffset,e.yOffset,h,d)):t.texSubImage2D(r,a,i,o,h,d,f,p,u)}function v(){return at.pop()||new p}function m(t){t.needsFree&&K.freeType(t.data),p.call(t),at.push(t)}function b(){s.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function T(t,e,r){var n=t.images[0]=v();t.mipmask=1,n.width=t.width=e,n.height=t.height=r,n.channels=t.channels=4}function S(t,e){var r=null;if(E(e))u(r=t.images[0]=v(),t),h(r,e),t.mipmask=1;else if(f(t,e),Array.isArray(e.mipmap))for(var n=e.mipmap,i=0;i<n.length;++i)u(r=t.images[i]=v(),t),r.width>>=i,r.height>>=i,h(r,n[i]),t.mipmask|=1<<i;else u(r=t.images[0]=v(),t),h(r,e),t.mipmask=1;u(t,t.images[0])}function j(e,r){for(var i=e.images,o=0;o<i.length&&i[o];++o){var a=i[o],s=r,u=o,c=a.element,f=a.data,p=a.internalformat,h=a.format,d=a.type,v=a.width,m=a.height;l(a),c?t.texImage2D(s,u,h,h,d,c):a.compressed?t.compressedTexImage2D(s,u,p,v,m,0,f):a.needsCopy?(n(),t.copyTexImage2D(s,u,h,a.xOffset,a.yOffset,v,m,0)):t.texImage2D(s,u,h,v,m,0,h,d,f||null)}}function k(){var t=st.pop()||new b;s.call(t);for(var e=t.mipmask=0;16>e;++e)t.images[e]=null;return t}function P(t){for(var e=t.images,r=0;r<e.length;++r)e[r]&&m(e[r]),e[r]=null;st.push(t)}function D(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function I(t,e){"min"in e&&(t.minFilter=z[e.min],0<=ft.indexOf(t.minFilter)&&!("faces"in e)&&(t.genMipmaps=!0)),"mag"in e&&(t.magFilter=V[e.mag]);var r=t.wrapS,n=t.wrapT;if("wrap"in e){var i=e.wrap;"string"==typeof i?r=n=N[i]:Array.isArray(i)&&(r=N[i[0]],n=N[i[1]])}else"wrapS"in e&&(r=N[e.wrapS]),"wrapT"in e&&(n=N[e.wrapT]);if(t.wrapS=r,t.wrapT=n,"anisotropic"in e&&(t.anisotropic=e.anisotropic),"mipmap"in e){switch(r=!1,typeof e.mipmap){case"string":t.mipmapHint=F[e.mipmap],r=t.genMipmaps=!0;break;case"boolean":r=t.genMipmaps=e.mipmap;break;case"object":t.genMipmaps=!1,r=!0}!r||"min"in e||(t.minFilter=9984)}}function R(r,n){t.texParameteri(n,10241,r.minFilter),t.texParameteri(n,10240,r.magFilter),t.texParameteri(n,10242,r.wrapS),t.texParameteri(n,10243,r.wrapT),e.ext_texture_filter_anisotropic&&t.texParameteri(n,34046,r.anisotropic),r.genMipmaps&&(t.hint(33170,r.mipmapHint),t.generateMipmap(n))}function C(e){s.call(this),this.mipmask=0,this.internalformat=6408,this.id=ut++,this.refCount=1,this.target=e,this.texture=t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new D,a.profile&&(this.stats={size:0})}function L(e){t.activeTexture(33984),t.bindTexture(e.target,e.texture)}function B(){var e=xt[0];e?t.bindTexture(e.target,e.texture):t.bindTexture(3553,null)}function M(e){var r=e.texture,n=e.unit,i=e.target;0<=n&&(t.activeTexture(33984+n),t.bindTexture(i,null),xt[n]=null),t.deleteTexture(r),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete ct[e.id],o.textureCount--}var F={"don't care":4352,"dont care":4352,nice:4354,fast:4353},N={repeat:10497,clamp:33071,mirror:33648},V={nearest:9728,linear:9729},z=U({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},V),W={none:0,browser:37444},G={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},H={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},q={};e.ext_srgb&&(H.srgb=35904,H.srgba=35906),e.oes_texture_float&&(G.float32=G.float=5126),e.oes_texture_half_float&&(G.float16=G["half float"]=36193),e.webgl_depth_texture&&(U(H,{depth:6402,"depth stencil":34041}),U(G,{uint16:5123,uint32:5125,"depth stencil":34042})),e.webgl_compressed_texture_s3tc&&U(q,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),e.webgl_compressed_texture_atc&&U(q,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),e.webgl_compressed_texture_pvrtc&&U(q,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),e.webgl_compressed_texture_etc1&&(q["rgb etc1"]=36196);var Y=Array.prototype.slice.call(t.getParameter(34467));Object.keys(q).forEach((function(t){var e=q[t];0<=Y.indexOf(e)&&(H[t]=e)}));var Q=Object.keys(H);r.textureFormats=Q;var X=[];Object.keys(H).forEach((function(t){X[H[t]]=t}));var J=[];Object.keys(G).forEach((function(t){J[G[t]]=t}));var rt=[];Object.keys(V).forEach((function(t){rt[V[t]]=t}));var nt=[];Object.keys(z).forEach((function(t){nt[z[t]]=t}));var it=[];Object.keys(N).forEach((function(t){it[N[t]]=t}));var ot=Q.reduce((function(t,r){var n=H[r];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n||e.ext_srgb&&(35904===n||35906===n)?t[n]=n:32855===n||0<=r.indexOf("rgba")?t[n]=6408:t[n]=6407,t}),{}),at=[],st=[],ut=0,ct={},bt=r.maxTextureUnits,xt=Array(bt).map((function(){return null}));return U(C.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(0>e){for(var r=0;r<bt;++r){var n=xt[r];if(n){if(0<n.bindCount)continue;n.unit=-1}xt[r]=this,e=r;break}a.profile&&o.maxTextureUnits<e+1&&(o.maxTextureUnits=e+1),this.unit=e,t.activeTexture(33984+e),t.bindTexture(this.target,this.texture)}return e},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&M(this)}}),a.profile&&(o.getTotalTextureSize=function(){var t=0;return Object.keys(ct).forEach((function(e){t+=ct[e].stats.size})),t}),{create2D:function(e,r){function n(t,e){var r=i.texInfo;D.call(r);var o=k();return"number"==typeof t?T(o,0|t,"number"==typeof e?0|e:0|t):t?(I(r,t),S(o,t)):T(o,1,1),r.genMipmaps&&(o.mipmask=(o.width<<1)-1),i.mipmask=o.mipmask,u(i,o),i.internalformat=o.internalformat,n.width=o.width,n.height=o.height,L(i),j(o,3553),R(r,3553),B(),P(o),a.profile&&(i.stats.size=_(i.internalformat,i.type,o.width,o.height,r.genMipmaps,!1)),n.format=X[i.internalformat],n.type=J[i.type],n.mag=rt[r.magFilter],n.min=nt[r.minFilter],n.wrapS=it[r.wrapS],n.wrapT=it[r.wrapT],n}var i=new C(3553);return ct[i.id]=i,o.textureCount++,n(e,r),n.subimage=function(t,e,r,o){e|=0,r|=0,o|=0;var a=v();return u(a,i),a.width=0,a.height=0,h(a,t),a.width=a.width||(i.width>>o)-e,a.height=a.height||(i.height>>o)-r,L(i),d(a,3553,e,r,o),B(),m(a),n},n.resize=function(e,r){var o=0|e,s=0|r||o;if(o===i.width&&s===i.height)return n;n.width=i.width=o,n.height=i.height=s,L(i);for(var u=0;i.mipmask>>u;++u){var c=o>>u,f=s>>u;if(!c||!f)break;t.texImage2D(3553,u,i.format,c,f,0,i.format,i.type,null)}return B(),a.profile&&(i.stats.size=_(i.internalformat,i.type,o,s,!1,!1)),n},n._reglType="texture2d",n._texture=i,a.profile&&(n.stats=i.stats),n.destroy=function(){i.decRef()},n},createCube:function(e,r,n,i,s,c){function l(t,e,r,n,i,o){var s,c=p.texInfo;for(D.call(c),s=0;6>s;++s)y[s]=k();if("number"!=typeof t&&t){if("object"==typeof t)if(e)S(y[0],t),S(y[1],e),S(y[2],r),S(y[3],n),S(y[4],i),S(y[5],o);else if(I(c,t),f(p,t),"faces"in t)for(t=t.faces,s=0;6>s;++s)u(y[s],p),S(y[s],t[s]);else for(s=0;6>s;++s)S(y[s],t)}else for(t=0|t||1,s=0;6>s;++s)T(y[s],t,t);for(u(p,y[0]),p.mipmask=c.genMipmaps?(y[0].width<<1)-1:y[0].mipmask,p.internalformat=y[0].internalformat,l.width=y[0].width,l.height=y[0].height,L(p),s=0;6>s;++s)j(y[s],34069+s);for(R(c,34067),B(),a.profile&&(p.stats.size=_(p.internalformat,p.type,l.width,l.height,c.genMipmaps,!0)),l.format=X[p.internalformat],l.type=J[p.type],l.mag=rt[c.magFilter],l.min=nt[c.minFilter],l.wrapS=it[c.wrapS],l.wrapT=it[c.wrapT],s=0;6>s;++s)P(y[s]);return l}var p=new C(34067);ct[p.id]=p,o.cubeCount++;var y=Array(6);return l(e,r,n,i,s,c),l.subimage=function(t,e,r,n,i){r|=0,n|=0,i|=0;var o=v();return u(o,p),o.width=0,o.height=0,h(o,e),o.width=o.width||(p.width>>i)-r,o.height=o.height||(p.height>>i)-n,L(p),d(o,34069+t,r,n,i),B(),m(o),l},l.resize=function(e){if((e|=0)!==p.width){l.width=p.width=e,l.height=p.height=e,L(p);for(var r=0;6>r;++r)for(var n=0;p.mipmask>>n;++n)t.texImage2D(34069+r,n,p.format,e>>n,e>>n,0,p.format,p.type,null);return B(),a.profile&&(p.stats.size=_(p.internalformat,p.type,l.width,l.height,!1,!0)),l}},l._reglType="textureCube",l._texture=p,a.profile&&(l.stats=p.stats),l.destroy=function(){p.decRef()},l},clear:function(){for(var e=0;e<bt;++e)t.activeTexture(33984+e),t.bindTexture(3553,null),xt[e]=null;Z(ct).forEach(M),o.cubeCount=0,o.textureCount=0},getTexture:function(t){return null},restore:function(){for(var e=0;e<bt;++e){var r=xt[e];r&&(r.bindCount=0,r.unit=-1,xt[e]=null)}Z(ct).forEach((function(e){e.texture=t.createTexture(),t.bindTexture(e.target,e.texture);for(var r=0;32>r;++r)if(0!=(e.mipmask&1<<r))if(3553===e.target)t.texImage2D(3553,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);else for(var n=0;6>n;++n)t.texImage2D(34069+n,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);R(e.texInfo,e.target)}))},refresh:function(){for(var e=0;e<bt;++e){var r=xt[e];r&&(r.bindCount=0,r.unit=-1,xt[e]=null),t.activeTexture(33984+e),t.bindTexture(3553,null),t.bindTexture(34067,null)}}}}function S(t,e,r,n,i,o){function a(t,e,r){this.target=t,this.texture=e,this.renderbuffer=r;var n=t=0;e?(t=e.width,n=e.height):r&&(t=r.width,n=r.height),this.width=t,this.height=n}function s(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function u(t,e,r){t&&(t.texture?t.texture._texture.refCount+=1:t.renderbuffer._renderbuffer.refCount+=1)}function c(e,r){r&&(r.texture?t.framebufferTexture2D(36160,e,r.target,r.texture._texture.texture,0):t.framebufferRenderbuffer(36160,e,36161,r.renderbuffer._renderbuffer.renderbuffer))}function f(t){var e=3553,r=null,n=null,i=t;return"object"==typeof t&&(i=t.data,"target"in t&&(e=0|t.target)),"texture2d"===(t=i._reglType)||"textureCube"===t?r=i:"renderbuffer"===t&&(n=i,e=36161),new a(e,r,n)}function l(t,e,r,o,s){return r?((t=n.create2D({width:t,height:e,format:o,type:s}))._texture.refCount=0,new a(3553,t,null)):((t=i.create({width:t,height:e,format:o}))._renderbuffer.refCount=0,new a(36161,null,t))}function p(t){return t&&(t.texture||t.renderbuffer)}function h(t,e,r){t&&(t.texture?t.texture.resize(e,r):t.renderbuffer&&t.renderbuffer.resize(e,r),t.width=e,t.height=r)}function d(){this.id=E++,O[this.id]=this,this.framebuffer=t.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function v(t){t.colorAttachments.forEach(s),s(t.depthAttachment),s(t.stencilAttachment),s(t.depthStencilAttachment)}function m(e){t.deleteFramebuffer(e.framebuffer),e.framebuffer=null,o.framebufferCount--,delete O[e.id]}function y(e){var n;t.bindFramebuffer(36160,e.framebuffer);var i=e.colorAttachments;for(n=0;n<i.length;++n)c(36064+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)t.framebufferTexture2D(36160,36064+n,3553,null,0);t.framebufferTexture2D(36160,33306,3553,null,0),t.framebufferTexture2D(36160,36096,3553,null,0),t.framebufferTexture2D(36160,36128,3553,null,0),c(36096,e.depthAttachment),c(36128,e.stencilAttachment),c(33306,e.depthStencilAttachment),t.checkFramebufferStatus(36160),t.isContextLost(),t.bindFramebuffer(36160,b.next?b.next.framebuffer:null),b.cur=b.next,t.getError()}function g(t,e){function r(t,e){var i,o=0,a=0,s=!0,c=!0;i=null;var h=!0,d="rgba",m="uint8",g=1,b=null,A=null,E=null,O=!1;"number"==typeof t?(o=0|t,a=0|e||o):t?("shape"in t?(o=(a=t.shape)[0],a=a[1]):("radius"in t&&(o=a=t.radius),"width"in t&&(o=t.width),"height"in t&&(a=t.height)),("color"in t||"colors"in t)&&(i=t.color||t.colors,Array.isArray(i)),i||("colorCount"in t&&(g=0|t.colorCount),"colorTexture"in t&&(h=!!t.colorTexture,d="rgba4"),"colorType"in t&&(m=t.colorType,!h)&&("half float"===m||"float16"===m?d="rgba16f":"float"!==m&&"float32"!==m||(d="rgba32f")),"colorFormat"in t&&(d=t.colorFormat,0<=x.indexOf(d)?h=!0:0<=w.indexOf(d)&&(h=!1))),("depthTexture"in t||"depthStencilTexture"in t)&&(O=!(!t.depthTexture&&!t.depthStencilTexture)),"depth"in t&&("boolean"==typeof t.depth?s=t.depth:(b=t.depth,c=!1)),"stencil"in t&&("boolean"==typeof t.stencil?c=t.stencil:(A=t.stencil,s=!1)),"depthStencil"in t&&("boolean"==typeof t.depthStencil?s=c=t.depthStencil:(E=t.depthStencil,c=s=!1))):o=a=1;var _=null,T=null,S=null,j=null;if(Array.isArray(i))_=i.map(f);else if(i)_=[f(i)];else for(_=Array(g),i=0;i<g;++i)_[i]=l(o,a,h,d,m);for(o=o||_[0].width,a=a||_[0].height,b?T=f(b):s&&!c&&(T=l(o,a,O,"depth","uint32")),A?S=f(A):c&&!s&&(S=l(o,a,!1,"stencil","uint8")),E?j=f(E):!b&&!A&&c&&s&&(j=l(o,a,O,"depth stencil","depth stencil")),s=null,i=0;i<_.length;++i)u(_[i]),_[i]&&_[i].texture&&(c=Ot[_[i].texture._texture.format]*_t[_[i].texture._texture.type],null===s&&(s=c));return u(T),u(S),u(j),v(n),n.width=o,n.height=a,n.colorAttachments=_,n.depthAttachment=T,n.stencilAttachment=S,n.depthStencilAttachment=j,r.color=_.map(p),r.depth=p(T),r.stencil=p(S),r.depthStencil=p(j),r.width=n.width,r.height=n.height,y(n),r}var n=new d;return o.framebufferCount++,r(t,e),U(r,{resize:function(t,e){var i=Math.max(0|t,1),o=Math.max(0|e||i,1);if(i===n.width&&o===n.height)return r;for(var a=n.colorAttachments,s=0;s<a.length;++s)h(a[s],i,o);return h(n.depthAttachment,i,o),h(n.stencilAttachment,i,o),h(n.depthStencilAttachment,i,o),n.width=r.width=i,n.height=r.height=o,y(n),r},_reglType:"framebuffer",_framebuffer:n,destroy:function(){m(n),v(n)},use:function(t){b.setFBO({framebuffer:r},t)}})}var b={cur:null,next:null,dirty:!1,setFBO:null},x=["rgba"],w=["rgba4","rgb565","rgb5 a1"];e.ext_srgb&&w.push("srgba"),e.ext_color_buffer_half_float&&w.push("rgba16f","rgb16f"),e.webgl_color_buffer_float&&w.push("rgba32f");var A=["uint8"];e.oes_texture_half_float&&A.push("half float","float16"),e.oes_texture_float&&A.push("float","float32");var E=0,O={};return U(b,{getFramebuffer:function(t){return"function"==typeof t&&"framebuffer"===t._reglType&&(t=t._framebuffer)instanceof d?t:null},create:g,createCube:function(t){function e(t){var i,o={color:null},a=0,s=null;i="rgba";var u="uint8",c=1;if("number"==typeof t?a=0|t:t?("shape"in t?a=t.shape[0]:("radius"in t&&(a=0|t.radius),"width"in t?a=0|t.width:"height"in t&&(a=0|t.height)),("color"in t||"colors"in t)&&(s=t.color||t.colors,Array.isArray(s)),s||("colorCount"in t&&(c=0|t.colorCount),"colorType"in t&&(u=t.colorType),"colorFormat"in t&&(i=t.colorFormat)),"depth"in t&&(o.depth=t.depth),"stencil"in t&&(o.stencil=t.stencil),"depthStencil"in t&&(o.depthStencil=t.depthStencil)):a=1,s)if(Array.isArray(s))for(t=[],i=0;i<s.length;++i)t[i]=s[i];else t=[s];else for(t=Array(c),s={radius:a,format:i,type:u},i=0;i<c;++i)t[i]=n.createCube(s);for(o.color=Array(t.length),i=0;i<t.length;++i)c=t[i],a=a||c.width,o.color[i]={target:34069,data:t[i]};for(i=0;6>i;++i){for(c=0;c<t.length;++c)o.color[c].target=34069+i;0<i&&(o.depth=r[0].depth,o.stencil=r[0].stencil,o.depthStencil=r[0].depthStencil),r[i]?r[i](o):r[i]=g(o)}return U(e,{width:a,height:a,color:t})}var r=Array(6);return e(t),U(e,{faces:r,resize:function(t){var n=0|t;if(n===e.width)return e;var i=e.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;6>t;++t)r[t].resize(n);return e.width=e.height=n,e},_reglType:"framebufferCube",destroy:function(){r.forEach((function(t){t.destroy()}))}})},clear:function(){Z(O).forEach(m)},restore:function(){b.cur=null,b.next=null,b.dirty=!0,Z(O).forEach((function(e){e.framebuffer=t.createFramebuffer(),y(e)}))}})}function j(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function k(t,e,r,n,i,o,a){function s(){this.id=++l,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var t=e.oes_vertex_array_object;this.vao=t?t.createVertexArrayOES():null,p[this.id]=this,this.buffers=[]}var u=r.maxAttributes,f=Array(u);for(r=0;r<u;++r)f[r]=new j;var l=0,p={},h={Record:j,scope:{},state:f,currentVAO:null,targetVAO:null,restore:e.oes_vertex_array_object?function(){e.oes_vertex_array_object&&Z(p).forEach((function(t){t.refresh()}))}:function(){},createVAO:function(t){function e(t){var n;Array.isArray(t)?(n=t,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4):(t.elements?(n=t.elements,r.ownsElements?("function"==typeof n&&"elements"===n._reglType?r.elements.destroy():r.elements(n),r.ownsElements=!1):o.getElements(t.elements)?(r.elements=t.elements,r.ownsElements=!1):(r.elements=o.create(t.elements),r.ownsElements=!0)):(r.elements=null,r.ownsElements=!1),n=t.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in t&&(r.offset=0|t.offset),"count"in t&&(r.count=0|t.count),"instances"in t&&(r.instances=0|t.instances),"primitive"in t&&(r.primitive=st[t.primitive])),t={};var a=r.attributes;a.length=n.length;for(var s=0;s<n.length;++s){var u,f=n[s],l=a[s]=new j,p=f.data||f;Array.isArray(p)||$(p)||c(p)?(r.buffers[s]&&(u=r.buffers[s],$(p)&&u._buffer.byteLength>=p.byteLength?u.subdata(p):(u.destroy(),r.buffers[s]=null)),r.buffers[s]||(u=r.buffers[s]=i.create(f,34962,!1,!0)),l.buffer=i.getBuffer(u),l.size=0|l.buffer.dimension,l.normalized=!1,l.type=l.buffer.dtype,l.offset=0,l.stride=0,l.divisor=0,l.state=1,t[s]=1):i.getBuffer(f)?(l.buffer=i.getBuffer(f),l.size=0|l.buffer.dimension,l.normalized=!1,l.type=l.buffer.dtype,l.offset=0,l.stride=0,l.divisor=0,l.state=1):i.getBuffer(f.buffer)?(l.buffer=i.getBuffer(f.buffer),l.size=0|(+f.size||l.buffer.dimension),l.normalized=!!f.normalized||!1,l.type="type"in f?rt[f.type]:l.buffer.dtype,l.offset=0|(f.offset||0),l.stride=0|(f.stride||0),l.divisor=0|(f.divisor||0),l.state=1):"x"in f&&(l.x=+f.x||0,l.y=+f.y||0,l.z=+f.z||0,l.w=+f.w||0,l.state=2)}for(u=0;u<r.buffers.length;++u)!t[u]&&r.buffers[u]&&(r.buffers[u].destroy(),r.buffers[u]=null);return r.refresh(),e}var r=new s;return n.vaoCount+=1,e.destroy=function(){for(var t=0;t<r.buffers.length;++t)r.buffers[t]&&r.buffers[t].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},e._vao=r,e._reglType="vao",e(t)},getVAO:function(t){return"function"==typeof t&&t._vao?t._vao:null},destroyBuffer:function(e){for(var r=0;r<f.length;++r){var n=f[r];n.buffer===e&&(t.disableVertexAttribArray(r),n.buffer=null)}},setVAO:e.oes_vertex_array_object?function(t){if(t!==h.currentVAO){var r=e.oes_vertex_array_object;t?r.bindVertexArrayOES(t.vao):r.bindVertexArrayOES(null),h.currentVAO=t}}:function(r){if(r!==h.currentVAO){if(r)r.bindAttrs();else{for(var n=e.angle_instanced_arrays,i=0;i<f.length;++i){var o=f[i];o.buffer?(t.enableVertexAttribArray(i),o.buffer.bind(),t.vertexAttribPointer(i,o.size,o.type,o.normalized,o.stride,o.offfset),n&&o.divisor&&n.vertexAttribDivisorANGLE(i,o.divisor)):(t.disableVertexAttribArray(i),t.vertexAttrib4f(i,o.x,o.y,o.z,o.w))}a.elements?t.bindBuffer(34963,a.elements.buffer.buffer):t.bindBuffer(34963,null)}h.currentVAO=r}},clear:e.oes_vertex_array_object?function(){Z(p).forEach((function(t){t.destroy()}))}:function(){}};return s.prototype.bindAttrs=function(){for(var r=e.angle_instanced_arrays,n=this.attributes,i=0;i<n.length;++i){var a=n[i];a.buffer?(t.enableVertexAttribArray(i),t.bindBuffer(34962,a.buffer.buffer),t.vertexAttribPointer(i,a.size,a.type,a.normalized,a.stride,a.offset),r&&a.divisor&&r.vertexAttribDivisorANGLE(i,a.divisor)):(t.disableVertexAttribArray(i),t.vertexAttrib4f(i,a.x,a.y,a.z,a.w))}for(r=n.length;r<u;++r)t.disableVertexAttribArray(r);(r=o.getElements(this.elements))?t.bindBuffer(34963,r.buffer.buffer):t.bindBuffer(34963,null)},s.prototype.refresh=function(){var t=e.oes_vertex_array_object;t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),h.currentVAO=null,t.bindVertexArrayOES(null))},s.prototype.destroy=function(){if(this.vao){var t=e.oes_vertex_array_object;this===h.currentVAO&&(h.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),p[this.id]&&(delete p[this.id],--n.vaoCount)},h}function P(t,e,r,n){function i(t,e,r,n){this.name=t,this.id=e,this.location=r,this.info=n}function o(t,e){for(var r=0;r<t.length;++r)if(t[r].id===e.id)return void(t[r].location=e.location);t.push(e)}function a(r,n,i){if(!(a=(i=35632===r?c:f)[n])){var o=e.str(n),a=t.createShader(r);t.shaderSource(a,o),t.compileShader(a),i[n]=a}return a}function s(t,e){this.id=h++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,n.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function u(r,s,u){var c;c=a(35632,r.fragId);var f=a(35633,r.vertId);if(s=r.program=t.createProgram(),t.attachShader(s,c),t.attachShader(s,f),u)for(c=0;c<u.length;++c)f=u[c],t.bindAttribLocation(s,f[0],f[1]);t.linkProgram(s),f=t.getProgramParameter(s,35718),n.profile&&(r.stats.uniformsCount=f);var l=r.uniforms;for(c=0;c<f;++c)if(u=t.getActiveUniform(s,c))if(1<u.size)for(var p=0;p<u.size;++p){var h=u.name.replace("[0]","["+p+"]");o(l,new i(h,e.id(h),t.getUniformLocation(s,h),u))}else o(l,new i(u.name,e.id(u.name),t.getUniformLocation(s,u.name),u));for(f=t.getProgramParameter(s,35721),n.profile&&(r.stats.attributesCount=f),r=r.attributes,c=0;c<f;++c)(u=t.getActiveAttrib(s,c))&&o(r,new i(u.name,e.id(u.name),t.getAttribLocation(s,u.name),u))}var c={},f={},l={},p=[],h=0;return n.profile&&(r.getMaxUniformsCount=function(){var t=0;return p.forEach((function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)})),t},r.getMaxAttributesCount=function(){var t=0;return p.forEach((function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)})),t}),{clear:function(){var e=t.deleteShader.bind(t);Z(c).forEach(e),c={},Z(f).forEach(e),f={},p.forEach((function(e){t.deleteProgram(e.program)})),p.length=0,l={},r.shaderCount=0},program:function(e,n,i,o){var a=l[n];a||(a=l[n]={});var h=a[e];if(h&&(h.refCount++,!o))return h;var d=new s(n,e);return r.shaderCount++,u(d,i,o),h||(a[e]=d),p.push(d),U(d,{destroy:function(){if(d.refCount--,0>=d.refCount){t.deleteProgram(d.program);var e=p.indexOf(d);p.splice(e,1),r.shaderCount--}0>=a[d.vertId].refCount&&(t.deleteShader(f[d.vertId]),delete f[d.vertId],delete l[d.fragId][d.vertId]),Object.keys(l[d.fragId]).length||(t.deleteShader(c[d.fragId]),delete c[d.fragId],delete l[d.fragId])}})},restore:function(){c={},f={};for(var t=0;t<p.length;++t)u(p[t],null,p[t].attributes.map((function(t){return[t.location,t.name]})))},shader:a,frag:-1,vert:-1}}function D(t,e,r,n,i,o,a){function s(i){var o;o=null===e.next?5121:e.next.colorAttachments[0].texture._texture.type;var a=0,s=0,u=n.framebufferWidth,c=n.framebufferHeight,f=null;return $(i)?f=i:i&&(a=0|i.x,s=0|i.y,u=0|(i.width||n.framebufferWidth-a),c=0|(i.height||n.framebufferHeight-s),f=i.data||null),r(),i=u*c*4,f||(5121===o?f=new Uint8Array(i):5126===o&&(f=f||new Float32Array(i))),t.pixelStorei(3333,4),t.readPixels(a,s,u,c,6408,o,f),f}return function(t){return t&&"framebuffer"in t?function(t){var r;return e.setFBO({framebuffer:t.framebuffer},(function(){r=s(t)})),r}(t):s(t)}}function I(t){return Array.prototype.slice.call(t)}function R(t){return I(t).join("")}function C(t){return Array.isArray(t)||$(t)||c(t)}function L(t){return t.sort((function(t,e){return"viewport"===t?-1:"viewport"===e?1:t<e?-1:1}))}function B(t,e,r,n){this.thisDep=t,this.contextDep=e,this.propDep=r,this.append=n}function M(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function F(t){return new B(!1,!1,!1,t)}function N(t,e){var r=t.type;if(0===r)return new B(!0,1<=(r=t.data.length),2<=r,e);if(4===r)return new B((r=t.data).thisDep,r.contextDep,r.propDep,e);if(5===r)return new B(!1,!1,!1,e);if(6===r){for(var n=r=!1,i=!1,o=0;o<t.data.length;++o){var a=t.data[o];1===a.type?i=!0:2===a.type?n=!0:3===a.type?r=!0:0===a.type?(r=!0,1<=(a=a.data)&&(n=!0),2<=a&&(i=!0)):4===a.type&&(r=r||a.data.thisDep,n=n||a.data.contextDep,i=i||a.data.propDep)}return new B(r,n,i,e)}return new B(3===r,2===r,1===r,e)}function V(t,e,r,n,i,o,s,u,c,f,l,p,h,d,v){function m(t){return t.replace(".","_")}function y(t,e,r){var n=m(t);ot.push(t),it[n]=nt[n]=!!r,at[n]=e}function b(t,e,r){var n=m(t);ot.push(t),Array.isArray(r)?(nt[n]=r.slice(),it[n]=r.slice()):nt[n]=it[n]=r,ut[n]=e}function x(){var t=function(){function t(){var t=[],e=[];return U((function(){t.push.apply(t,I(arguments))}),{def:function(){var n="v"+r++;return e.push(n),0<arguments.length&&(t.push(n,"="),t.push.apply(t,I(arguments)),t.push(";")),n},toString:function(){return R([0<e.length?"var "+e.join(",")+";":"",R(t)])}})}function e(){function e(t,e){n(t,e,"=",r.def(t,e),";")}var r=t(),n=t(),i=r.toString,o=n.toString;return U((function(){r.apply(r,I(arguments))}),{def:r.def,entry:r,exit:n,save:e,set:function(t,n,i){e(t,n),r(t,n,"=",i,";")},toString:function(){return i()+o()}})}var r=0,n=[],i=[],o=t(),a={};return{global:o,link:function(t){for(var e=0;e<i.length;++e)if(i[e]===t)return n[e];return e="g"+r++,n.push(e),i.push(t),e},block:t,proc:function(t,r){function n(){var t="a"+i.length;return i.push(t),t}var i=[];r=r||0;for(var o=0;o<r;++o)n();var s=(o=e()).toString;return a[t]=U(o,{arg:n,toString:function(){return R(["function(",i.join(),"){",s(),"}"])}})},scope:e,cond:function(){var t=R(arguments),r=e(),n=e(),i=r.toString,o=n.toString;return U(r,{then:function(){return r.apply(r,I(arguments)),this},else:function(){return n.apply(n,I(arguments)),this},toString:function(){var e=o();return e&&(e="else{"+e+"}"),R(["if(",t,"){",i(),"}",e])}})},compile:function(){var t=['"use strict";',o,"return {"];Object.keys(a).forEach((function(e){t.push('"',e,'":',a[e].toString(),",")})),t.push("}");var e=R(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(e)).apply(null,i)}}}(),r=t.link,n=t.global;t.id=lt++,t.batchId="0";var i=r(ct),o=t.shared={props:"a0"};Object.keys(ct).forEach((function(t){o[t]=n.def(i,".",t)}));var a=t.next={},s=t.current={};Object.keys(ut).forEach((function(t){Array.isArray(nt[t])&&(a[t]=n.def(o.next,".",t),s[t]=n.def(o.current,".",t))}));var u=t.constants={};Object.keys(ft).forEach((function(t){u[t]=n.def(JSON.stringify(ft[t]))})),t.invoke=function(e,n){switch(n.type){case 0:var i=["this",o.context,o.props,t.batchId];return e.def(r(n.data),".call(",i.slice(0,Math.max(n.data.length+1,4)),")");case 1:return e.def(o.props,n.data);case 2:return e.def(o.context,n.data);case 3:return e.def("this",n.data);case 4:return n.data.append(t,e),n.data.ref;case 5:return n.data.toString();case 6:return n.data.map((function(r){return t.invoke(e,r)}))}},t.attribCache={};var c={};return t.scopeAttrib=function(t){if((t=e.id(t))in c)return c[t];var n=f.scope[t];return n||(n=f.scope[t]=new J),c[t]=r(n)},t}function w(t,e){var r=t.static,n=t.dynamic;if("framebuffer"in r){var i=r.framebuffer;return i?(i=u.getFramebuffer(i),F((function(t,e){var r=t.link(i),n=t.shared;return e.set(n.framebuffer,".next",r),n=n.context,e.set(n,".framebufferWidth",r+".width"),e.set(n,".framebufferHeight",r+".height"),r}))):F((function(t,e){var r=t.shared;return e.set(r.framebuffer,".next","null"),r=r.context,e.set(r,".framebufferWidth",r+".drawingBufferWidth"),e.set(r,".framebufferHeight",r+".drawingBufferHeight"),"null"}))}if("framebuffer"in n){var o=n.framebuffer;return N(o,(function(t,e){var r=t.invoke(e,o),n=t.shared,i=n.framebuffer;return r=e.def(i,".getFramebuffer(",r,")"),e.set(i,".next",r),n=n.context,e.set(n,".framebufferWidth",r+"?"+r+".width:"+n+".drawingBufferWidth"),e.set(n,".framebufferHeight",r+"?"+r+".height:"+n+".drawingBufferHeight"),r}))}return null}function A(t,r,n){function i(t){if(t in o){var r=e.id(o[t]);return(t=F((function(){return r}))).id=r,t}if(t in a){var n=a[t];return N(n,(function(t,e){var r=t.invoke(e,n);return e.def(t.shared.strings,".id(",r,")")}))}return null}var o=t.static,a=t.dynamic,s=i("frag"),u=i("vert"),c=null;return M(s)&&M(u)?(c=l.program(u.id,s.id,null,n),t=F((function(t,e){return t.link(c)}))):t=new B(s&&s.thisDep||u&&u.thisDep,s&&s.contextDep||u&&u.contextDep,s&&s.propDep||u&&u.propDep,(function(t,e){var r,n,i=t.shared.shader;return r=s?s.append(t,e):e.def(i,".","frag"),n=u?u.append(t,e):e.def(i,".","vert"),e.def(i+".program("+n+","+r+")")})),{frag:s,vert:u,progVar:t,program:c}}function E(t,e){function r(t,e){if(t in n){var r=0|n[t];return e?a.offset=r:a.instances=r,F((function(t,n){return e&&(t.OFFSET=r),r}))}if(t in i){var o=i[t];return N(o,(function(t,r){var n=t.invoke(r,o);return e&&(t.OFFSET=n),n}))}if(e){if(c)return F((function(t,e){return t.OFFSET=0}));if(s)return new B(u.thisDep,u.contextDep,u.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.offset:0")}))}else if(s)return new B(u.thisDep,u.contextDep,u.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.instances:-1")}));return null}var n=t.static,i=t.dynamic,a={},s=!1,u=function(){if("vao"in n){var t=n.vao;return null!==t&&null===f.getVAO(t)&&(t=f.createVAO(t)),s=!0,a.vao=t,F((function(e){var r=f.getVAO(t);return r?e.link(r):"null"}))}if("vao"in i){s=!0;var e=i.vao;return N(e,(function(t,r){var n=t.invoke(r,e);return r.def(t.shared.vao+".getVAO("+n+")")}))}return null}(),c=!1,l=function(){if("elements"in n){var t=n.elements;if(a.elements=t,C(t)){var e=a.elements=o.create(t,!0);t=o.getElements(e),c=!0}else t&&(t=o.getElements(t),c=!0);return(e=F((function(e,r){if(t){var n=e.link(t);return e.ELEMENTS=n}return e.ELEMENTS=null}))).value=t,e}if("elements"in i){c=!0;var r=i.elements;return N(r,(function(t,e){var n=(i=t.shared).isBufferArgs,i=i.elements,o=t.invoke(e,r),a=e.def("null");return n=e.def(n,"(",o,")"),o=t.cond(n).then(a,"=",i,".createStream(",o,");").else(a,"=",i,".getElements(",o,");"),e.entry(o),e.exit(t.cond(n).then(i,".destroyStream(",a,");")),t.ELEMENTS=a}))}return s?new B(u.thisDep,u.contextDep,u.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.elements+".getElements("+t.shared.vao+".currentVAO.elements):null")})):null}(),p=r("offset",!0),h=function(){if("primitive"in n){var t=n.primitive;return a.primitive=t,F((function(e,r){return st[t]}))}if("primitive"in i){var e=i.primitive;return N(e,(function(t,r){var n=t.constants.primTypes,i=t.invoke(r,e);return r.def(n,"[",i,"]")}))}return c?M(l)?l.value?F((function(t,e){return e.def(t.ELEMENTS,".primType")})):F((function(){return 4})):new B(l.thisDep,l.contextDep,l.propDep,(function(t,e){var r=t.ELEMENTS;return e.def(r,"?",r,".primType:",4)})):s?new B(u.thisDep,u.contextDep,u.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.primitive:4")})):null}(),d=function(){if("count"in n){var t=0|n.count;return a.count=t,F((function(){return t}))}if("count"in i){var e=i.count;return N(e,(function(t,r){return t.invoke(r,e)}))}return c?M(l)?l?p?new B(p.thisDep,p.contextDep,p.propDep,(function(t,e){return e.def(t.ELEMENTS,".vertCount-",t.OFFSET)})):F((function(t,e){return e.def(t.ELEMENTS,".vertCount")})):F((function(){return-1})):new B(l.thisDep||p.thisDep,l.contextDep||p.contextDep,l.propDep||p.propDep,(function(t,e){var r=t.ELEMENTS;return t.OFFSET?e.def(r,"?",r,".vertCount-",t.OFFSET,":-1"):e.def(r,"?",r,".vertCount:-1")})):s?new B(u.thisDep,u.contextDep,u.propDep,(function(t,e){return e.def(t.shared.vao,".currentVAO?",t.shared.vao,".currentVAO.count:-1")})):null}(),v=r("instances",!1);return{elements:l,primitive:h,count:d,instances:v,offset:p,vao:u,vaoActive:s,elementsActive:c,static:a}}function O(t,r){var n=t.static,o=t.dynamic,a={};return Object.keys(n).forEach((function(t){var r=n[t],o=e.id(t),s=new J;if(C(r))s.state=1,s.buffer=i.getBuffer(i.create(r,34962,!1,!0)),s.type=0;else if(c=i.getBuffer(r))s.state=1,s.buffer=c,s.type=0;else if("constant"in r){var u=r.constant;s.buffer="null",s.state=2,"number"==typeof u?s.x=u:St.forEach((function(t,e){e<u.length&&(s[t]=u[e])}))}else{var c=C(r.buffer)?i.getBuffer(i.create(r.buffer,34962,!1,!0)):i.getBuffer(r.buffer),f=0|r.offset,l=0|r.stride,p=0|r.size,h=!!r.normalized,d=0;"type"in r&&(d=rt[r.type]),r=0|r.divisor,s.buffer=c,s.state=1,s.size=p,s.normalized=h,s.type=d||c.dtype,s.offset=f,s.stride=l,s.divisor=r}a[t]=F((function(t,e){var r=t.attribCache;if(o in r)return r[o];var n={isStream:!1};return Object.keys(s).forEach((function(t){n[t]=s[t]})),s.buffer&&(n.buffer=t.link(s.buffer),n.type=n.type||n.buffer+".dtype"),r[o]=n}))})),Object.keys(o).forEach((function(t){var e=o[t];a[t]=N(e,(function(t,r){function n(t){r(u[t],"=",i,".",t,"|0;")}var i=t.invoke(r,e),o=t.shared,a=t.constants,s=o.isBufferArgs,u=(o=o.buffer,{isStream:r.def(!1)}),c=new J;c.state=1,Object.keys(c).forEach((function(t){u[t]=r.def(""+c[t])}));var f=u.buffer,l=u.type;return r("if(",s,"(",i,")){",u.isStream,"=true;",f,"=",o,".createStream(",34962,",",i,");",l,"=",f,".dtype;","}else{",f,"=",o,".getBuffer(",i,");","if(",f,"){",l,"=",f,".dtype;",'}else if("constant" in ',i,"){",u.state,"=",2,";","if(typeof "+i+'.constant === "number"){',u[St[0]],"=",i,".constant;",St.slice(1).map((function(t){return u[t]})).join("="),"=0;","}else{",St.map((function(t,e){return u[t]+"="+i+".constant.length>"+e+"?"+i+".constant["+e+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",f,"=",o,".createStream(",34962,",",i,".buffer);","}else{",f,"=",o,".getBuffer(",i,".buffer);","}",l,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",f,".dtype;",u.normalized,"=!!",i,".normalized;"),n("size"),n("offset"),n("stride"),n("divisor"),r("}}"),r.exit("if(",u.isStream,"){",o,".destroyStream(",f,");","}"),u}))})),a}function _(t,e,n,i,o){function s(t){var e=c[t];e&&(p[t]=e)}var u=function(t,e){if("string"==typeof(r=t.static).frag&&"string"==typeof r.vert){if(0<Object.keys(e.dynamic).length)return null;var r=e.static,n=Object.keys(r);if(0<n.length&&"number"==typeof r[n[0]]){for(var i=[],o=0;o<n.length;++o)i.push([0|r[n[o]],n[o]]);return i}}return null}(t,e),c=function(t,e,r){function n(t){if(t in i){var r=i[t];t=!0;var n,a,s=0|r.x,u=0|r.y;return"width"in r?n=0|r.width:t=!1,"height"in r?a=0|r.height:t=!1,new B(!t&&e&&e.thisDep,!t&&e&&e.contextDep,!t&&e&&e.propDep,(function(t,e){var i=t.shared.context,o=n;"width"in r||(o=e.def(i,".","framebufferWidth","-",s));var c=a;return"height"in r||(c=e.def(i,".","framebufferHeight","-",u)),[s,u,o,c]}))}if(t in o){var c=o[t];return t=N(c,(function(t,e){var r=t.invoke(e,c),n=t.shared.context,i=e.def(r,".x|0"),o=e.def(r,".y|0");return[i,o,e.def('"width" in ',r,"?",r,".width|0:","(",n,".","framebufferWidth","-",i,")"),r=e.def('"height" in ',r,"?",r,".height|0:","(",n,".","framebufferHeight","-",o,")")]})),e&&(t.thisDep=t.thisDep||e.thisDep,t.contextDep=t.contextDep||e.contextDep,t.propDep=t.propDep||e.propDep),t}return e?new B(e.thisDep,e.contextDep,e.propDep,(function(t,e){var r=t.shared.context;return[0,0,e.def(r,".","framebufferWidth"),e.def(r,".","framebufferHeight")]})):null}var i=t.static,o=t.dynamic;if(t=n("viewport")){var a=t;t=new B(t.thisDep,t.contextDep,t.propDep,(function(t,e){var r=a.append(t,e),n=t.shared.context;return e.set(n,".viewportWidth",r[2]),e.set(n,".viewportHeight",r[3]),r}))}return{viewport:t,scissor_box:n("scissor.box")}}(t,d=w(t)),l=E(t),p=function(t,e){var r=t.static,n=t.dynamic,i={};return ot.forEach((function(t){function e(e,a){if(t in r){var s=e(r[t]);i[o]=F((function(){return s}))}else if(t in n){var u=n[t];i[o]=N(u,(function(t,e){return a(t,e,t.invoke(e,u))}))}}var o=m(t);switch(t){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return e((function(t){return t}),(function(t,e,r){return r}));case"depth.func":return e((function(t){return Pt[t]}),(function(t,e,r){return e.def(t.constants.compareFuncs,"[",r,"]")}));case"depth.range":return e((function(t){return t}),(function(t,e,r){return[e.def("+",r,"[0]"),e=e.def("+",r,"[1]")]}));case"blend.func":return e((function(t){return[kt["srcRGB"in t?t.srcRGB:t.src],kt["dstRGB"in t?t.dstRGB:t.dst],kt["srcAlpha"in t?t.srcAlpha:t.src],kt["dstAlpha"in t?t.dstAlpha:t.dst]]}),(function(t,e,r){function n(t,n){return e.def('"',t,n,'" in ',r,"?",r,".",t,n,":",r,".",t)}t=t.constants.blendFuncs;var i=n("src","RGB"),o=n("dst","RGB"),a=(i=e.def(t,"[",i,"]"),e.def(t,"[",n("src","Alpha"),"]"));return[i,o=e.def(t,"[",o,"]"),a,t=e.def(t,"[",n("dst","Alpha"),"]")]}));case"blend.equation":return e((function(t){return"string"==typeof t?[$[t],$[t]]:"object"==typeof t?[$[t.rgb],$[t.alpha]]:void 0}),(function(t,e,r){var n=t.constants.blendEquations,i=e.def(),o=e.def();return(t=t.cond("typeof ",r,'==="string"')).then(i,"=",o,"=",n,"[",r,"];"),t.else(i,"=",n,"[",r,".rgb];",o,"=",n,"[",r,".alpha];"),e(t),[i,o]}));case"blend.color":return e((function(t){return a(4,(function(e){return+t[e]}))}),(function(t,e,r){return a(4,(function(t){return e.def("+",r,"[",t,"]")}))}));case"stencil.mask":return e((function(t){return 0|t}),(function(t,e,r){return e.def(r,"|0")}));case"stencil.func":return e((function(t){return[Pt[t.cmp||"keep"],t.ref||0,"mask"in t?t.mask:-1]}),(function(t,e,r){return[t=e.def('"cmp" in ',r,"?",t.constants.compareFuncs,"[",r,".cmp]",":",7680),e.def(r,".ref|0"),e=e.def('"mask" in ',r,"?",r,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return e((function(e){return["stencil.opBack"===t?1029:1028,Dt[e.fail||"keep"],Dt[e.zfail||"keep"],Dt[e.zpass||"keep"]]}),(function(e,r,n){function i(t){return r.def('"',t,'" in ',n,"?",o,"[",n,".",t,"]:",7680)}var o=e.constants.stencilOps;return["stencil.opBack"===t?1029:1028,i("fail"),i("zfail"),i("zpass")]}));case"polygonOffset.offset":return e((function(t){return[0|t.factor,0|t.units]}),(function(t,e,r){return[e.def(r,".factor|0"),e=e.def(r,".units|0")]}));case"cull.face":return e((function(t){var e=0;return"front"===t?e=1028:"back"===t&&(e=1029),e}),(function(t,e,r){return e.def(r,'==="front"?',1028,":",1029)}));case"lineWidth":return e((function(t){return t}),(function(t,e,r){return r}));case"frontFace":return e((function(t){return It[t]}),(function(t,e,r){return e.def(r+'==="cw"?2304:2305')}));case"colorMask":return e((function(t){return t.map((function(t){return!!t}))}),(function(t,e,r){return a(4,(function(t){return"!!"+r+"["+t+"]"}))}));case"sample.coverage":return e((function(t){return["value"in t?t.value:1,!!t.invert]}),(function(t,e,r){return[e.def('"value" in ',r,"?+",r,".value:1"),e=e.def("!!",r,".invert")]}))}})),i}(t),h=A(t,0,u);s("viewport"),s(m("scissor.box"));var d,v=0<Object.keys(p).length;if((d={framebuffer:d,draw:l,shader:h,state:p,dirty:v,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(t){var e,r=t.static;if(t=t.dynamic,"profile"in r){var n=!!r.profile;(e=F((function(t,e){return n}))).enable=n}else if("profile"in t){var i=t.profile;e=N(i,(function(t,e){return t.invoke(e,i)}))}return e}(t),d.uniforms=function(t,e){var r=t.static,n=t.dynamic,i={};return Object.keys(r).forEach((function(t){var e,n=r[t];if("number"==typeof n||"boolean"==typeof n)e=F((function(){return n}));else if("function"==typeof n){var o=n._reglType;"texture2d"===o||"textureCube"===o?e=F((function(t){return t.link(n)})):"framebuffer"!==o&&"framebufferCube"!==o||(e=F((function(t){return t.link(n.color[0])})))}else g(n)&&(e=F((function(t){return t.global.def("[",a(n.length,(function(t){return n[t]})),"]")})));e.value=n,i[t]=e})),Object.keys(n).forEach((function(t){var e=n[t];i[t]=N(e,(function(t,r){return t.invoke(r,e)}))})),i}(n),d.drawVAO=d.scopeVAO=l.vao,!d.drawVAO&&h.program&&!u&&r.angle_instanced_arrays&&l.static.elements){var y=!0;if(t=h.program.attributes.map((function(t){return t=e.static[t],y=y&&!!t,t})),y&&0<t.length){var b=f.getVAO(f.createVAO({attributes:t,elements:l.static.elements}));d.drawVAO=new B(null,null,null,(function(t,e){return t.link(b)})),d.useVAO=!0}}return u?d.useVAO=!0:d.attributes=O(e),d.context=function(t){var e=t.static,r=t.dynamic,n={};return Object.keys(e).forEach((function(t){var r=e[t];n[t]=F((function(t,e){return"number"==typeof r||"boolean"==typeof r?""+r:t.link(r)}))})),Object.keys(r).forEach((function(t){var e=r[t];n[t]=N(e,(function(t,r){return t.invoke(r,e)}))})),n}(i),d}function T(t,e,r){var n=t.shared.context,i=t.scope();Object.keys(r).forEach((function(o){e.save(n,"."+o);var a=r[o].append(t,e);Array.isArray(a)?i(n,".",o,"=[",a.join(),"];"):i(n,".",o,"=",a,";")})),e(i)}function S(t,e,r,n){var i,o=(s=t.shared).gl,a=s.framebuffer;tt&&(i=e.def(s.extensions,".webgl_draw_buffers"));var s=(u=t.constants).drawBuffer,u=u.backBuffer;t=r?r.append(t,e):e.def(a,".next"),n||e("if(",t,"!==",a,".cur){"),e("if(",t,"){",o,".bindFramebuffer(",36160,",",t,".framebuffer);"),tt&&e(i,".drawBuffersWEBGL(",s,"[",t,".colorAttachments.length]);"),e("}else{",o,".bindFramebuffer(",36160,",null);"),tt&&e(i,".drawBuffersWEBGL(",u,");"),e("}",a,".cur=",t,";"),n||e("}")}function j(t,e,r){var n=t.shared,i=n.gl,o=t.current,s=t.next,u=n.current,c=n.next,f=t.cond(u,".dirty");ot.forEach((function(e){var n,l;if(!((e=m(e))in r.state))if(e in s){n=s[e],l=o[e];var p=a(nt[e].length,(function(t){return f.def(n,"[",t,"]")}));f(t.cond(p.map((function(t,e){return t+"!=="+l+"["+e+"]"})).join("||")).then(i,".",ut[e],"(",p,");",p.map((function(t,e){return l+"["+e+"]="+t})).join(";"),";"))}else n=f.def(c,".",e),p=t.cond(n,"!==",u,".",e),f(p),e in at?p(t.cond(n).then(i,".enable(",at[e],");").else(i,".disable(",at[e],");"),u,".",e,"=",n,";"):p(i,".",ut[e],"(",n,");",u,".",e,"=",n,";")})),0===Object.keys(r.state).length&&f(u,".dirty=false;"),e(f)}function k(t,e,r,n){var i=t.shared,o=t.current,a=i.current,s=i.gl;L(Object.keys(r)).forEach((function(i){var u=r[i];if(!n||n(u)){var c=u.append(t,e);if(at[i]){var f=at[i];M(u)?e(s,c?".enable(":".disable(",f,");"):e(t.cond(c).then(s,".enable(",f,");").else(s,".disable(",f,");")),e(a,".",i,"=",c,";")}else if(g(c)){var l=o[i];e(s,".",ut[i],"(",c,");",c.map((function(t,e){return l+"["+e+"]="+t})).join(";"),";")}else e(s,".",ut[i],"(",c,");",a,".",i,"=",c,";")}}))}function P(t,e){Z&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function D(t,e,r,n,i){function o(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function a(t){t(c=e.def(),"=",o(),";"),"string"==typeof i?t(p,".count+=",i,";"):t(p,".count++;"),d&&(n?t(f=e.def(),"=",v,".getNumPendingQueries();"):t(v,".beginQuery(",p,");"))}function s(t){t(p,".cpuTime+=",o(),"-",c,";"),d&&(n?t(v,".pushScopeStats(",f,",",v,".getNumPendingQueries(),",p,");"):t(v,".endQuery();"))}function u(t){var r=e.def(h,".profile");e(h,".profile=",t,";"),e.exit(h,".profile=",r,";")}var c,f,l=t.shared,p=t.stats,h=l.current,v=l.timer;if(r=r.profile){if(M(r))return void(r.enable?(a(e),s(e.exit),u("true")):u("false"));u(r=r.append(t,e))}else r=e.def(h,".profile");a(l=t.block()),e("if(",r,"){",l,"}"),s(t=t.block()),e.exit("if(",r,"){",t,"}")}function V(t,e,r,n,i){function o(r,n,i){function o(){e("if(!",f,".buffer){",u,".enableVertexAttribArray(",c,");}");var r,o=i.type;r=i.size?e.def(i.size,"||",n):n,e("if(",f,".type!==",o,"||",f,".size!==",r,"||",h.map((function(t){return f+"."+t+"!=="+i[t]})).join("||"),"){",u,".bindBuffer(",34962,",",l,".buffer);",u,".vertexAttribPointer(",[c,r,o,i.normalized,i.stride,i.offset],");",f,".type=",o,";",f,".size=",r,";",h.map((function(t){return f+"."+t+"="+i[t]+";"})).join(""),"}"),Z&&(o=i.divisor,e("if(",f,".divisor!==",o,"){",t.instancing,".vertexAttribDivisorANGLE(",[c,o],");",f,".divisor=",o,";}"))}function s(){e("if(",f,".buffer){",u,".disableVertexAttribArray(",c,");",f,".buffer=null;","}if(",St.map((function(t,e){return f+"."+t+"!=="+p[e]})).join("||"),"){",u,".vertexAttrib4f(",c,",",p,");",St.map((function(t,e){return f+"."+t+"="+p[e]+";"})).join(""),"}")}var u=a.gl,c=e.def(r,".location"),f=e.def(a.attributes,"[",c,"]");r=i.state;var l=i.buffer,p=[i.x,i.y,i.z,i.w],h=["buffer","normalized","offset","stride"];1===r?o():2===r?s():(e("if(",r,"===",1,"){"),o(),e("}else{"),s(),e("}"))}var a=t.shared;n.forEach((function(n){var a,s=n.name,u=r.attributes[s];if(u){if(!i(u))return;a=u.append(t,e)}else{if(!i(Rt))return;var c=t.scopeAttrib(s);a={},Object.keys(new J).forEach((function(t){a[t]=e.def(c,".",t)}))}o(t.link(n),function(t){switch(t){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(n.info.type),a)}))}function z(t,r,n,i,o,s){for(var u,c=t.shared,f=c.gl,l=0;l<i.length;++l){var p,h=(m=i[l]).name,d=m.info.type,v=n.uniforms[h],m=t.link(m)+".location";if(v){if(!o(v))continue;if(M(v)){if(h=v.value,35678===d||35680===d)r(f,".uniform1i(",m,",",(d=t.link(h._texture||h.color[0]._texture))+".bind());"),r.exit(d,".unbind();");else if(35674===d||35675===d||35676===d)v=2,35675===d?v=3:35676===d&&(v=4),r(f,".uniformMatrix",v,"fv(",m,",false,",h=t.global.def("new Float32Array(["+Array.prototype.slice.call(h)+"])"),");");else{switch(d){case 5126:u="1f";break;case 35664:u="2f";break;case 35665:u="3f";break;case 35666:u="4f";break;case 35670:case 5124:u="1i";break;case 35671:case 35667:u="2i";break;case 35672:case 35668:u="3i";break;case 35673:u="4i";break;case 35669:u="4i"}r(f,".uniform",u,"(",m,",",g(h)?Array.prototype.slice.call(h):h,");")}continue}p=v.append(t,r)}else{if(!o(Rt))continue;p=r.def(c.uniforms,"[",e.id(h),"]")}switch(35678===d?r("if(",p,"&&",p,'._reglType==="framebuffer"){',p,"=",p,".color[0];","}"):35680===d&&r("if(",p,"&&",p,'._reglType==="framebufferCube"){',p,"=",p,".color[0];","}"),h=1,d){case 35678:case 35680:d=r.def(p,"._texture"),r(f,".uniform1i(",m,",",d,".bind());"),r.exit(d,".unbind();");continue;case 5124:case 35670:u="1i";break;case 35667:case 35671:u="2i",h=2;break;case 35668:case 35672:u="3i",h=3;break;case 35669:case 35673:u="4i",h=4;break;case 5126:u="1f";break;case 35664:u="2f",h=2;break;case 35665:u="3f",h=3;break;case 35666:u="4f",h=4;break;case 35674:u="Matrix2fv";break;case 35675:u="Matrix3fv";break;case 35676:u="Matrix4fv"}if("M"===u.charAt(0)){r(f,".uniform",u,"(",m,","),m=Math.pow(d-35674+2,2);var y=t.global.def("new Float32Array(",m,")");Array.isArray(p)?r("false,(",a(m,(function(t){return y+"["+t+"]="+p[t]})),",",y,")"):r("false,(Array.isArray(",p,")||",p," instanceof Float32Array)?",p,":(",a(m,(function(t){return y+"["+t+"]="+p+"["+t+"]"})),",",y,")"),r(");")}else{if(1<h){d=[];var b=[];for(v=0;v<h;++v)Array.isArray(p)?b.push(p[v]):b.push(r.def(p+"["+v+"]")),s&&d.push(r.def());s&&r("if(!",t.batchId,"||",d.map((function(t,e){return t+"!=="+b[e]})).join("||"),"){",d.map((function(t,e){return t+"="+b[e]+";"})).join("")),r(f,".uniform",u,"(",m,",",b.join(","),");")}else s&&(d=r.def(),r("if(!",t.batchId,"||",d,"!==",p,"){",d,"=",p,";")),r(f,".uniform",u,"(",m,",",p,");");s&&r("}")}}}function W(t,e,r,n){function i(i){var o=p[i];return o?o.contextDep&&n.contextDynamic||o.propDep?o.append(t,r):o.append(t,e):e.def(l,".",i)}function o(){function t(){r(u,".drawElementsInstancedANGLE(",[d,m,y,v+"<<(("+y+"-5121)>>1)",s],");")}function e(){r(u,".drawArraysInstancedANGLE(",[d,v,m,s],");")}h&&"null"!==h?g?t():(r("if(",h,"){"),t(),r("}else{"),e(),r("}")):e()}function a(){function t(){r(f+".drawElements("+[d,m,y,v+"<<(("+y+"-5121)>>1)"]+");")}function e(){r(f+".drawArrays("+[d,v,m]+");")}h&&"null"!==h?g?t():(r("if(",h,"){"),t(),r("}else{"),e(),r("}")):e()}var s,u,c=t.shared,f=c.gl,l=c.draw,p=n.draw,h=function(){var i=p.elements,o=e;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(o=r),i=i.append(t,o),p.elementsActive&&o("if("+i+")"+f+".bindBuffer(34963,"+i+".buffer.buffer);")):(i=o.def(),o(i,"=",l,".","elements",";","if(",i,"){",f,".bindBuffer(",34963,",",i,".buffer.buffer);}","else if(",c.vao,".currentVAO){",i,"=",t.shared.elements+".getElements("+c.vao,".currentVAO.elements);",et?"":"if("+i+")"+f+".bindBuffer(34963,"+i+".buffer.buffer);","}")),i}(),d=i("primitive"),v=i("offset"),m=function(){var i=p.count,o=e;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(o=r),i=i.append(t,o)):i=o.def(l,".","count"),i}();if("number"==typeof m){if(0===m)return}else r("if(",m,"){"),r.exit("}");Z&&(s=i("instances"),u=t.instancing);var y=h+".type",g=p.elements&&M(p.elements)&&!p.vaoActive;Z&&("number"!=typeof s||0<=s)?"string"==typeof s?(r("if(",s,">0){"),o(),r("}else if(",s,"<0){"),a(),r("}")):o():a()}function H(t,e,r,n,i){return i=(e=x()).proc("body",i),Z&&(e.instancing=i.def(e.shared.extensions,".angle_instanced_arrays")),t(e,i,r,n),e.compile().body}function q(t,e,r,n){P(t,e),r.useVAO?r.drawVAO?e(t.shared.vao,".setVAO(",r.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),V(t,e,r,n.attributes,(function(){return!0}))),z(t,e,r,n.uniforms,(function(){return!0}),!1),W(t,e,e,r)}function Y(t,e,r,n){function i(){return!0}t.batchId="a1",P(t,e),V(t,e,r,n.attributes,i),z(t,e,r,n.uniforms,i,!1),W(t,e,e,r)}function Q(t,e,r,n){function i(t){return t.contextDep&&a||t.propDep}function o(t){return!i(t)}P(t,e);var a=r.contextDep,s=e.def(),u=e.def();t.shared.props=u,t.batchId=s;var c=t.scope(),f=t.scope();e(c.entry,"for(",s,"=0;",s,"<","a1",";++",s,"){",u,"=","a0","[",s,"];",f,"}",c.exit),r.needsContext&&T(t,f,r.context),r.needsFramebuffer&&S(t,f,r.framebuffer),k(t,f,r.state,i),r.profile&&i(r.profile)&&D(t,f,r,!1,!0),n?(r.useVAO?r.drawVAO?i(r.drawVAO)?f(t.shared.vao,".setVAO(",r.drawVAO.append(t,f),");"):c(t.shared.vao,".setVAO(",r.drawVAO.append(t,c),");"):c(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(c(t.shared.vao,".setVAO(null);"),V(t,c,r,n.attributes,o),V(t,f,r,n.attributes,i)),z(t,c,r,n.uniforms,o,!1),z(t,f,r,n.uniforms,i,!0),W(t,c,f,r)):(e=t.global.def("{}"),n=r.shader.progVar.append(t,f),u=f.def(n,".id"),c=f.def(e,"[",u,"]"),f(t.shared.gl,".useProgram(",n,".program);","if(!",c,"){",c,"=",e,"[",u,"]=",t.link((function(e){return H(Y,t,r,e,2)})),"(",n,");}",c,".call(this,a0[",s,"],",s,");"))}function X(t,r){function n(e){var n=r.shader[e];n&&i.set(o.shader,"."+e,n.append(t,i))}var i=t.proc("scope",3);t.batchId="a2";var o=t.shared,a=o.current;T(t,i,r.context),r.framebuffer&&r.framebuffer.append(t,i),L(Object.keys(r.state)).forEach((function(e){var n=r.state[e].append(t,i);g(n)?n.forEach((function(r,n){i.set(t.next[e],"["+n+"]",r)})):i.set(o.next,"."+e,n)})),D(t,i,r,!0,!0),["elements","offset","count","instances","primitive"].forEach((function(e){var n=r.draw[e];n&&i.set(o.draw,"."+e,""+n.append(t,i))})),Object.keys(r.uniforms).forEach((function(n){var a=r.uniforms[n].append(t,i);Array.isArray(a)&&(a="["+a.join()+"]"),i.set(o.uniforms,"["+e.id(n)+"]",a)})),Object.keys(r.attributes).forEach((function(e){var n=r.attributes[e].append(t,i),o=t.scopeAttrib(e);Object.keys(new J).forEach((function(t){i.set(o,"."+t,n[t])}))})),r.scopeVAO&&i.set(o.vao,".targetVAO",r.scopeVAO.append(t,i)),n("vert"),n("frag"),0<Object.keys(r.state).length&&(i(a,".dirty=true;"),i.exit(a,".dirty=true;")),i("a1(",t.shared.context,",a0,",t.batchId,");")}function K(t,e,r){var n=e.static[r];if(n&&function(t){if("object"==typeof t&&!g(t)){for(var e=Object.keys(t),r=0;r<e.length;++r)if(G.isDynamic(t[e[r]]))return!0;return!1}}(n)){var i=t.global,o=Object.keys(n),a=!1,s=!1,u=!1,c=t.global.def("{}");o.forEach((function(e){var r=n[e];if(G.isDynamic(r))"function"==typeof r&&(r=n[e]=G.unbox(r)),e=N(r,null),a=a||e.thisDep,u=u||e.propDep,s=s||e.contextDep;else{switch(i(c,".",e,"="),typeof r){case"number":i(r);break;case"string":i('"',r,'"');break;case"object":Array.isArray(r)&&i("[",r.join(),"]");break;default:i(t.link(r))}i(";")}})),e.dynamic[r]=new G.DynamicVariable(4,{thisDep:a,contextDep:s,propDep:u,ref:c,append:function(t,e){o.forEach((function(r){var i=n[r];G.isDynamic(i)&&(i=t.invoke(e,i),e(c,".",r,"=",i,";"))}))}}),delete e.static[r]}}var J=f.Record,$={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&($.min=32775,$.max=32776);var Z=r.angle_instanced_arrays,tt=r.webgl_draw_buffers,et=r.oes_vertex_array_object,nt={dirty:!0,profile:v.profile},it={},ot=[],at={},ut={};y("dither",3024),y("blend.enable",3042),b("blend.color","blendColor",[0,0,0,0]),b("blend.equation","blendEquationSeparate",[32774,32774]),b("blend.func","blendFuncSeparate",[1,0,1,0]),y("depth.enable",2929,!0),b("depth.func","depthFunc",513),b("depth.range","depthRange",[0,1]),b("depth.mask","depthMask",!0),b("colorMask","colorMask",[!0,!0,!0,!0]),y("cull.enable",2884),b("cull.face","cullFace",1029),b("frontFace","frontFace",2305),b("lineWidth","lineWidth",1),y("polygonOffset.enable",32823),b("polygonOffset.offset","polygonOffset",[0,0]),y("sample.alpha",32926),y("sample.enable",32928),b("sample.coverage","sampleCoverage",[1,!1]),y("stencil.enable",2960),b("stencil.mask","stencilMask",-1),b("stencil.func","stencilFunc",[519,0,-1]),b("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),b("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),y("scissor.enable",3089),b("scissor.box","scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),b("viewport","viewport",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var ct={gl:t,context:h,strings:e,next:it,current:nt,draw:p,elements:o,buffer:i,shader:l,attributes:f.state,vao:f,uniforms:c,framebuffer:u,extensions:r,timer:d,isBufferArgs:C},ft={primTypes:st,compareFuncs:Pt,blendFuncs:kt,blendEquations:$,stencilOps:Dt,glTypes:rt,orientationType:It};tt&&(ft.backBuffer=[1029],ft.drawBuffer=a(n.maxDrawbuffers,(function(t){return 0===t?[0]:a(t,(function(t){return 36064+t}))})));var lt=0;return{next:it,current:nt,procs:function(){var t=x(),e=t.proc("poll"),i=t.proc("refresh"),o=t.block();e(o),i(o);var s,u=t.shared,c=u.gl,f=u.next,l=u.current;o(l,".dirty=false;"),S(t,e),S(t,i,null,!0),Z&&(s=t.link(Z)),r.oes_vertex_array_object&&i(t.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var p=0;p<n.maxAttributes;++p){var h=i.def(u.attributes,"[",p,"]"),d=t.cond(h,".buffer");d.then(c,".enableVertexAttribArray(",p,");",c,".bindBuffer(",34962,",",h,".buffer.buffer);",c,".vertexAttribPointer(",p,",",h,".size,",h,".type,",h,".normalized,",h,".stride,",h,".offset);").else(c,".disableVertexAttribArray(",p,");",c,".vertexAttrib4f(",p,",",h,".x,",h,".y,",h,".z,",h,".w);",h,".buffer=null;"),i(d),Z&&i(s,".vertexAttribDivisorANGLE(",p,",",h,".divisor);")}return i(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(at).forEach((function(r){var n=at[r],a=o.def(f,".",r),s=t.block();s("if(",a,"){",c,".enable(",n,")}else{",c,".disable(",n,")}",l,".",r,"=",a,";"),i(s),e("if(",a,"!==",l,".",r,"){",s,"}")})),Object.keys(ut).forEach((function(r){var n,s,u=ut[r],p=nt[r],h=t.block();h(c,".",u,"("),g(p)?(u=p.length,n=t.global.def(f,".",r),s=t.global.def(l,".",r),h(a(u,(function(t){return n+"["+t+"]"})),");",a(u,(function(t){return s+"["+t+"]="+n+"["+t+"];"})).join("")),e("if(",a(u,(function(t){return n+"["+t+"]!=="+s+"["+t+"]"})).join("||"),"){",h,"}")):(n=o.def(f,".",r),s=o.def(l,".",r),h(n,");",l,".",r,"=",n,";"),e("if(",n,"!==",s,"){",h,"}")),i(h)})),t.compile()}(),compile:function(t,e,r,n,i){var o=x();o.stats=o.link(i),Object.keys(e.static).forEach((function(t){K(o,e,t)})),jt.forEach((function(e){K(o,t,e)}));var a=_(t,e,r,n);return function(t,e){var r=t.proc("draw",1);P(t,r),T(t,r,e.context),S(t,r,e.framebuffer),j(t,r,e),k(t,r,e.state),D(t,r,e,!1,!0);var n=e.shader.progVar.append(t,r);if(r(t.shared.gl,".useProgram(",n,".program);"),e.shader.program)q(t,r,e,e.shader.program);else{r(t.shared.vao,".setVAO(null);");var i=t.global.def("{}"),o=r.def(n,".id"),a=r.def(i,"[",o,"]");r(t.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",t.link((function(r){return H(q,t,e,r,1)})),"(",n,");",a,".call(this,a0);"))}0<Object.keys(e.state).length&&r(t.shared.current,".dirty=true;"),t.shared.vao&&r(t.shared.vao,".setVAO(null);")}(o,a),X(o,a),function(t,e){function r(t){return t.contextDep&&i||t.propDep}var n=t.proc("batch",2);t.batchId="0",P(t,n);var i=!1,o=!0;Object.keys(e.context).forEach((function(t){i=i||e.context[t].propDep})),i||(T(t,n,e.context),o=!1);var a=!1;if((s=e.framebuffer)?(s.propDep?i=a=!0:s.contextDep&&i&&(a=!0),a||S(t,n,s)):S(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(i=!0),j(t,n,e),k(t,n,e.state,(function(t){return!r(t)})),e.profile&&r(e.profile)||D(t,n,e,!1,"a1"),e.contextDep=i,e.needsContext=o,e.needsFramebuffer=a,(o=e.shader.progVar).contextDep&&i||o.propDep)Q(t,n,e,null);else if(o=o.append(t,n),n(t.shared.gl,".useProgram(",o,".program);"),e.shader.program)Q(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var s=t.global.def("{}"),u=(a=n.def(o,".id"),n.def(s,"[",a,"]"));n(t.cond(u).then(u,".call(this,a0,a1);").else(u,"=",s,"[",a,"]=",t.link((function(r){return H(Q,t,e,r,2)})),"(",o,");",u,".call(this,a0,a1);"))}0<Object.keys(e.state).length&&n(t.shared.current,".dirty=true;"),t.shared.vao&&n(t.shared.vao,".setVAO(null);")}(o,a),U(o.compile(),{destroy:function(){a.shader.program.destroy()}})}}}function z(t,e){for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}var U=function(t,e){for(var r=Object.keys(e),n=0;n<r.length;++n)t[r[n]]=e[r[n]];return t},W=0,G={DynamicVariable:t,define:function(e,n){return new t(e,r(n+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof t},unbox:function e(r,n){return"function"==typeof r?new t(0,r):"number"==typeof r||"boolean"==typeof r?new t(5,r):Array.isArray(r)?new t(6,r.map((function(t,r){return e(t,n+"["+r+"]")}))):r instanceof t?r:void 0},accessor:r},H=null,q=function(t){return"object"==typeof H&&H instanceof HTMLVideoElement&&"function"==typeof H.requestVideoFrameCallback?H.requestVideoFrameCallback(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,16)},Y=function(t){"object"==typeof H&&H instanceof HTMLVideoElement&&"function"==typeof H.cancelVideoFrameCallback?H.cancelVideoFrameCallback(t):"function"==typeof cancelAnimationFrame?cancelAnimationFrame(t):clearTimeout(t)},Q=function(t){H=t},X="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},K=u();K.zero=u();var J=function(t,e){var r=1;e.ext_texture_filter_anisotropic&&(r=t.getParameter(34047));var n=1,i=1;e.webgl_draw_buffers&&(n=t.getParameter(34852),i=t.getParameter(36063));var o=!!e.oes_texture_float;if(o){o=t.createTexture(),t.bindTexture(3553,o),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var a=t.createFramebuffer();if(t.bindFramebuffer(36160,a),t.framebufferTexture2D(36160,36064,3553,o,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var s=K.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,s),t.getError()?o=!1:(t.deleteFramebuffer(a),t.deleteTexture(o),o=1===s[0]),K.freeType(s)}}return s=!0,"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(s=t.createTexture(),a=K.allocType(5121,36),t.activeTexture(33984),t.bindTexture(34067,s),t.texImage2D(34069,0,6408,3,3,0,6408,5121,a),K.freeType(a),t.bindTexture(34067,null),t.deleteTexture(s),s=!t.getError()),{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(e).filter((function(t){return!!e[t]})),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:i,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:o,npotTextureCube:s}},$=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},Z=function(t){return Object.keys(t).map((function(e){return t[e]}))},tt={shape:function(t){for(var e=[];t.length;t=t[0])e.push(t.length);return e},flatten:function(t,e,r,n){var i=1;if(e.length)for(var o=0;o<e.length;++o)i*=e[o];else i=0;switch(r=n||K.allocType(r,i),e.length){case 0:break;case 1:for(n=e[0],e=0;e<n;++e)r[e]=t[e];break;case 2:for(n=e[0],e=e[1],o=i=0;o<n;++o)for(var a=t[o],s=0;s<e;++s)r[i++]=a[s];break;case 3:f(t,e[0],e[1],e[2],r,0);break;default:l(t,e,0,r,0)}return r}},et={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},rt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},nt={dynamic:35048,stream:35040,static:35044},it=tt.flatten,ot=tt.shape,at=[];at[5120]=1,at[5122]=2,at[5124]=4,at[5121]=1,at[5123]=2,at[5125]=4,at[5126]=4;var st={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ut=new Float32Array(1),ct=new Uint32Array(ut.buffer),ft=[9984,9986,9985,9987],lt=[0,6409,6410,6407,6408],pt={};pt[6409]=pt[6406]=pt[6402]=1,pt[34041]=pt[6410]=2,pt[6407]=pt[35904]=3,pt[6408]=pt[35906]=4;var ht=b("HTMLCanvasElement"),dt=b("OffscreenCanvas"),vt=b("CanvasRenderingContext2D"),mt=b("ImageBitmap"),yt=b("HTMLImageElement"),gt=b("HTMLVideoElement"),bt=Object.keys(et).concat([ht,dt,vt,mt,yt,gt]),xt=[];xt[5121]=1,xt[5126]=4,xt[36193]=2,xt[5123]=2,xt[5125]=4;var wt=[];wt[32854]=2,wt[32855]=2,wt[36194]=2,wt[34041]=4,wt[33776]=.5,wt[33777]=.5,wt[33778]=1,wt[33779]=1,wt[35986]=.5,wt[35987]=1,wt[34798]=1,wt[35840]=.5,wt[35841]=.25,wt[35842]=.5,wt[35843]=.25,wt[36196]=.5;var At=[];At[32854]=2,At[32855]=2,At[36194]=2,At[33189]=2,At[36168]=1,At[34041]=4,At[35907]=4,At[34836]=16,At[34842]=8,At[34843]=6;var Et=function(t,e,r,n,i){function o(t){this.id=c++,this.refCount=1,this.renderbuffer=t,this.format=32854,this.height=this.width=0,i.profile&&(this.stats={size:0})}function a(e){var r=e.renderbuffer;t.bindRenderbuffer(36161,null),t.deleteRenderbuffer(r),e.renderbuffer=null,e.refCount=0,delete f[e.id],n.renderbufferCount--}var s={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};e.ext_srgb&&(s.srgba=35907),e.ext_color_buffer_half_float&&(s.rgba16f=34842,s.rgb16f=34843),e.webgl_color_buffer_float&&(s.rgba32f=34836);var u=[];Object.keys(s).forEach((function(t){u[s[t]]=t}));var c=0,f={};return o.prototype.decRef=function(){0>=--this.refCount&&a(this)},i.profile&&(n.getTotalRenderbufferSize=function(){var t=0;return Object.keys(f).forEach((function(e){t+=f[e].stats.size})),t}),{create:function(e,r){function a(e,r){var n=0,o=0,f=32854;if("object"==typeof e&&e?("shape"in e?(n=0|(o=e.shape)[0],o=0|o[1]):("radius"in e&&(n=o=0|e.radius),"width"in e&&(n=0|e.width),"height"in e&&(o=0|e.height)),"format"in e&&(f=s[e.format])):"number"==typeof e?(n=0|e,o="number"==typeof r?0|r:n):e||(n=o=1),n!==c.width||o!==c.height||f!==c.format)return a.width=c.width=n,a.height=c.height=o,c.format=f,t.bindRenderbuffer(36161,c.renderbuffer),t.renderbufferStorage(36161,f,n,o),i.profile&&(c.stats.size=At[c.format]*c.width*c.height),a.format=u[c.format],a}var c=new o(t.createRenderbuffer());return f[c.id]=c,n.renderbufferCount++,a(e,r),a.resize=function(e,r){var n=0|e,o=0|r||n;return n===c.width&&o===c.height||(a.width=c.width=n,a.height=c.height=o,t.bindRenderbuffer(36161,c.renderbuffer),t.renderbufferStorage(36161,c.format,n,o),i.profile&&(c.stats.size=At[c.format]*c.width*c.height)),a},a._reglType="renderbuffer",a._renderbuffer=c,i.profile&&(a.stats=c.stats),a.destroy=function(){c.decRef()},a},clear:function(){Z(f).forEach(a)},restore:function(){Z(f).forEach((function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,e.renderbuffer),t.renderbufferStorage(36161,e.format,e.width,e.height)})),t.bindRenderbuffer(36161,null)}}},Ot=[];Ot[6408]=4,Ot[6407]=3;var _t=[];_t[5121]=1,_t[5126]=4,_t[36193]=2;var Tt,St=["x","y","z","w"],jt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),kt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Pt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Dt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},It={cw:2304,ccw:2305},Rt=new B(!1,!1,!1,(function(){})),Ct=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,Lt=new WeakMap,Bt=function(t,e){return function(r){var n=void 0===(n=e.get(r))?r.size:1073741824>n?n+1:0;if(!r.has(n))return t(r,n);if(536870912>r.size){for(;r.has(n);)n=Math.floor(1073741824*Math.random());return t(r,n)}if(r.size>Ct)throw Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(n);)n=Math.floor(Math.random()*Ct);return t(r,n)}}((Tt=Lt,function(t,e){return Tt.set(t,e),e}),Lt),Mt=null,Ft=function(){if(null!==Mt)return Mt;var t=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(({data:i})=>{try{if("clear"===i.method){const{id:r,params:{timerId:o,timerType:s}}=i;if("interval"===s)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==s)throw new Error(\'The given type "\'.concat(s,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==i.method)throw new Error(\'The given method "\'.concat(i.method,\'" is not supported\'));{const{params:{delay:s,now:n,timerId:a,timerType:d}}=i;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(s,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(s,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:i.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),e=URL.createObjectURL(t);return(Mt=function(t){var e=new Map([[0,function(){}]]),r=new Map([[0,function(){}]]),n=new Map,i=new Worker(t);return i.addEventListener("message",(function(t){if(void 0!==(t=t.data).method&&"call"===t.method){var i=t.params;if(t=i.timerId,"interval"===(i=i.timerType)){var o=e.get(t);if("number"==typeof o){if(void 0===(o=n.get(o))||o.timerId!==t||o.timerType!==i)throw Error("The timer is in an undefined state.")}else{if(void 0===o)throw Error("The timer is in an undefined state.");o()}}else if("timeout"===i)if("number"==typeof(o=r.get(t))){if(void 0===(o=n.get(o))||o.timerId!==t||o.timerType!==i)throw Error("The timer is in an undefined state.")}else{if(void 0===o)throw Error("The timer is in an undefined state.");o(),r.delete(t)}}else{if(null!==t.error||"number"!=typeof t.id)throw Error(t.error.message);if(t=t.id,void 0===(o=n.get(t)))throw Error("The timer is in an undefined state.");i=o.timerId,o=o.timerType,n.delete(t),"interval"===o?e.delete(i):r.delete(i)}})),{clearInterval:function(t){var r=Bt(n);n.set(r,{timerId:t,timerType:"interval"}),e.set(t,r),i.postMessage({id:r,method:"clear",params:{timerId:t,timerType:"interval"}})},clearTimeout:function(t){var e=Bt(n);n.set(e,{timerId:t,timerType:"timeout"}),r.set(t,e),i.postMessage({id:e,method:"clear",params:{timerId:t,timerType:"timeout"}})},setInterval:function(t,r){var n=Bt(e);return e.set(n,(function(){t(),"function"==typeof e.get(n)&&i.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:n,timerType:"interval"}})})),i.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:n,timerType:"interval"}}),n},setTimeout:function(t,e){var n=Bt(r);return r.set(n,t),i.postMessage({id:null,method:"set",params:{delay:e,now:performance.now(),timerId:n,timerType:"timeout"}}),n}}}(e)).setTimeout((function(){return URL.revokeObjectURL(e)}),0),Mt},Nt=function(t,e){return Ft().setTimeout(t,e)},Vt=!1;return function(t){function e(){if(120>ot&&ot++,0===Z.length)E&&E.update(),nt=null;else{nt=q(e),p();for(var t=Z.length-1;0<=t;--t){var r=Z[t];r&&r(I,null,0)}y.flush(),E&&E.update()}}function r(){if(!1===Vt)it=Nt(r,Math.max(33,Math.min(67,at)));else if(0===Z.length)E&&E.update(),it=null;else{it=Nt(r,Math.max(33,Math.min(67,at))),p();for(var t=Z.length-1;0<=t;--t){var e=Z[t];e&&e(I,null,0)}y.flush(),E&&E.update()}}function n(t){!nt&&0<Z.length&&(Q(t),nt=q(e,t)),!it&&0<Z.length&&(it=Nt(r,33)),ot=1,setTimeout((function(){at=1e3/ot}),1e3)}function i(){if(nt&&(Y(e),nt=null),it){var t=it;Ft().clearTimeout(t),it=null}}function a(t){t.preventDefault(),i(),tt.forEach((function(t){t()}))}function s(t){y.getError(),b.restore(),M.restore(),C.restore(),F.restore(),N.restore(),W.restore(),B.restore(),E&&E.restore(),H.procs.refresh(),n(),et.forEach((function(t){t()}))}function u(t){function e(t,e){var r={},n={};return Object.keys(t).forEach((function(i){var o=t[i];if(G.isDynamic(o))n[i]=G.unbox(o,i);else{if(e&&Array.isArray(o))for(var a=0;a<o.length;++a)if(G.isDynamic(o[a]))return void(n[i]=G.unbox(o,i));r[i]=o}})),{dynamic:n,static:r}}var r=e(t.context||{},!0),n=e(t.uniforms||{},!0),i=e(t.attributes||{},!1);t=e(function(t){function e(t){if(t in r){var e=r[t];delete r[t],Object.keys(e).forEach((function(n){r[t+"."+n]=e[n]}))}}var r=U({},t);return delete r.uniforms,delete r.attributes,delete r.context,delete r.vao,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),e("blend"),e("depth"),e("cull"),e("stencil"),e("polygonOffset"),e("scissor"),e("sample"),"vao"in t&&(r.vao=t.vao),r}(t),!1);var o={gpuTime:0,cpuTime:0,count:0},a=H.compile(t,i,n,r,o),s=a.draw,u=a.batch,c=a.scope,f=[];return U((function(t,e){var r;if("function"==typeof t)return c.call(this,null,t,0);if("function"==typeof e)if("number"==typeof t)for(r=0;r<t;++r)c.call(this,null,e,r);else{if(!Array.isArray(t))return c.call(this,t,e,0);for(r=0;r<t.length;++r)c.call(this,t[r],e,r)}else if("number"==typeof t){if(0<t)return u.call(this,function(t){for(;f.length<t;)f.push(null);return f}(0|t),0|t)}else{if(!Array.isArray(t))return s.call(this,t);if(t.length)return u.call(this,t,t.length)}}),{stats:o,destroy:function(){a.destroy()}})}function c(t,e){var r=0;H.procs.poll();var n=e.color;n&&(y.clearColor(+n[0]||0,+n[1]||0,+n[2]||0,+n[3]||0),r|=16384),"depth"in e&&(y.clearDepth(+e.depth),r|=256),"stencil"in e&&(y.clearStencil(0|e.stencil),r|=1024),y.clear(r)}function f(t,e){return Z.push(t),n(e),{cancel:function(){var e=z(Z,t);Z[e]=function t(){var e=z(Z,t);Z[e]=Z[Z.length-1],--Z.length,0>=Z.length&&i()}}}}function l(){var t=K.viewport,e=K.scissor_box;t[0]=t[1]=e[0]=e[1]=0,I.viewportWidth=I.framebufferWidth=I.drawingBufferWidth=t[2]=e[2]=y.drawingBufferWidth,I.viewportHeight=I.framebufferHeight=I.drawingBufferHeight=t[3]=e[3]=y.drawingBufferHeight}function p(){I.tick+=1,I.time=d(),l(),H.procs.poll()}function h(){F.refresh(),l(),H.procs.refresh(),E&&E.update()}function d(){return(X()-O)/1e3}if(!(t=o(t)))return null;var y=t.gl,g=y.getContextAttributes();y.isContextLost();var b=function(t,e){function r(e){var r;e=e.toLowerCase();try{r=n[e]=t.getExtension(e)}catch(t){}return!!r}for(var n={},i=0;i<e.extensions.length;++i){var o=e.extensions[i];if(!r(o))return e.onDestroy(),e.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(t){if(n[t]&&!r(t))throw Error("(regl): error restoring extension "+t)}))}}}(y,t);if(!b)return null;var x=function(){var t={"":0},e=[""];return{id:function(r){var n=t[r];return n||(n=t[r]=e.length,e.push(r),n)},str:function(t){return e[t]}}}(),w={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},A=b.extensions,E=function(t,e){function r(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function n(t,e,n){var i=a.pop()||new r;i.startQueryIndex=t,i.endQueryIndex=e,i.sum=0,i.stats=n,s.push(i)}if(!e.ext_disjoint_timer_query)return null;var i=[],o=[],a=[],s=[],u=[],c=[];return{beginQuery:function(t){var r=i.pop()||e.ext_disjoint_timer_query.createQueryEXT();e.ext_disjoint_timer_query.beginQueryEXT(35007,r),o.push(r),n(o.length-1,o.length,t)},endQuery:function(){e.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:n,update:function(){var t,r;if(0!==(t=o.length)){c.length=Math.max(c.length,t+1),u.length=Math.max(u.length,t+1),u[0]=0;var n=c[0]=0;for(r=t=0;r<o.length;++r){var f=o[r];e.ext_disjoint_timer_query.getQueryObjectEXT(f,34919)?(n+=e.ext_disjoint_timer_query.getQueryObjectEXT(f,34918),i.push(f)):o[t++]=f,u[r+1]=n,c[r+1]=t}for(o.length=t,r=t=0;r<s.length;++r){var l=(n=s[r]).startQueryIndex;f=n.endQueryIndex,n.sum+=u[f]-u[l],l=c[l],(f=c[f])===l?(n.stats.gpuTime+=n.sum/1e6,a.push(n)):(n.startQueryIndex=l,n.endQueryIndex=f,s[t++]=n)}s.length=t}},getNumPendingQueries:function(){return o.length},clear:function(){i.push.apply(i,o);for(var t=0;t<i.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(i[t]);o.length=0,i.length=0},restore:function(){o.length=0,i.length=0}}}(0,A),O=X(),_=y.drawingBufferWidth,j=y.drawingBufferHeight,I={tick:0,time:0,viewportWidth:_,viewportHeight:j,framebufferWidth:_,framebufferHeight:j,drawingBufferWidth:_,drawingBufferHeight:j,pixelRatio:t.pixelRatio},R=(_={elements:null,primitive:4,count:-1,offset:0,instances:-1},J(y,A)),C=v(y,w,t,(function(t){return B.destroyBuffer(t)})),L=m(y,A,C,w),B=k(y,A,R,w,C,L,_),M=P(y,x,w,t),F=T(y,A,R,(function(){H.procs.poll()}),I,w,t),N=Et(y,A,0,w,t),W=S(y,A,R,F,N,w),H=V(y,x,A,R,C,L,0,W,{},B,M,_,I,E,t),K=(x=D(y,W,H.procs.poll,I),H.next),$=y.canvas,Z=[],tt=[],et=[],rt=[t.onDestroy],nt=null,it=null,ot=1,at=0;document.addEventListener("visibilitychange",(function(){Vt=document.hidden}),!1),$&&($.addEventListener("webglcontextlost",a,!1),$.addEventListener("webglcontextrestored",s,!1));var st=W.setFBO=u({framebuffer:G.define.call(null,1,"framebuffer")});return h(),g=U(u,{clear:function(t){if("framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var e=0;6>e;++e)st(U({framebuffer:t.framebuffer.faces[e]},t),c);else st(t,c);else c(0,t)},prop:G.define.bind(null,1),context:G.define.bind(null,2),this:G.define.bind(null,3),draw:u({}),buffer:function(t){return C.create(t,34962,!1,!1)},elements:function(t){return L.create(t,!1)},texture:F.create2D,cube:F.createCube,renderbuffer:N.create,framebuffer:W.create,framebufferCube:W.createCube,vao:B.createVAO,attributes:g,frame:f,on:function(t,e){var r;switch(t){case"frame":return f(e);case"lost":r=tt;break;case"restore":r=et;break;case"destroy":r=rt}return r.push(e),{cancel:function(){for(var t=0;t<r.length;++t)if(r[t]===e){r[t]=r[r.length-1],r.pop();break}}}},limits:R,hasExtension:function(t){return 0<=R.extensions.indexOf(t.toLowerCase())},read:x,destroy:function(){Z.length=0,i(),$&&($.removeEventListener("webglcontextlost",a),$.removeEventListener("webglcontextrestored",s)),M.clear(),W.clear(),N.clear(),B.clear(),F.clear(),L.clear(),C.clear(),E&&E.clear(),rt.forEach((function(t){t()}))},_gl:y,_refresh:h,poll:function(){p(),E&&E.update()},now:d,stats:w}),t.onDone(null,g),g}}()},7742:()=>{},2622:()=>{}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};return(()=>{"use strict";r.d(n,{default:()=>_});var t=r(5124),e=r(6709);function i(t,r,n){return r in t?e(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}r(8490),r(5894),r(8455),r(7246),r(5082),r(3823),r(5193);var o=r(9683),a=r.n(o);function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1?arguments[1]:void 0;const r=Math.random().toString(16).substr(2,t).toLowerCase();return r.length===t?"".concat(e).concat(r):"".concat(e).concat(r)+s(t-r.length,"")}var u=r(2142);let c,f;!function(t){t.PREDICT_START="PREDICT_START",t.PREDICT_END="PREDICT_END",t.RENDER_END="RENDER_END",t.PROCESSOR_DESTROY="PROCESSOR_DESTROY"}(c||(c={})),function(t){t.PREDICT_START_RATE="PREDICT_START_RATE",t.PREDICT_END_RATE="PREDICT_END_RATE",t.RENDER_END_RATE="RENDER_END_RATE",t.PREDICT_TIME="PREDICT_TIME",t.RENDER_TIME="RENDER_TIME",t.PERFORMANCE_WARNING="PERFORMANCE_WARNING"}(f||(f={}));class l{constructor(t){i(this,"_eventsBus",void 0),i(this,"_predictStartCount",0),i(this,"_predictEndCount",0),i(this,"_renderCount",0),i(this,"_predictStartLastTime",0),i(this,"_predictEndLastTime",0),i(this,"_renderLastTime",0),i(this,"_timer",void 0),this._eventsBus=t,this._eventsBus.on(c.PREDICT_START,this._onPredictStart.bind(this)),this._eventsBus.on(c.PREDICT_END,this._onPredictEnd.bind(this)),this._eventsBus.on(c.RENDER_END,this._onRenderEnd.bind(this)),this._timer=window.setInterval((()=>{this._eventsBus.emit(f.PREDICT_START_RATE,this._predictStartCount),this._eventsBus.emit(f.PREDICT_END_RATE,this._predictEndCount),this._eventsBus.emit(f.RENDER_END_RATE,this._renderCount),this._predictStartCount=0,this._predictEndCount=0,this._renderCount=0}),1e3)}_onPredictStart(){this._predictStartCount++,this._predictStartLastTime=Date.now()}_onPredictEnd(){this._predictEndCount++,this._predictEndLastTime=Date.now(),this._eventsBus.emit(f.PREDICT_TIME,this._predictEndLastTime-this._predictStartLastTime)}_onRenderEnd(){this._renderCount++,this._renderLastTime=Date.now(),this._eventsBus.emit(f.RENDER_TIME,this._renderLastTime-this._predictEndLastTime)}destroy(){clearInterval(this._timer)}}var p=r(5138),h=r(5447);let d,v=!1,m=!1,y=!1;const g=[[0,0],[1,0],[0,1],[0,1],[1,0],[1,1]],b=g.length,x=g.flat();function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class E extends t.VideoProcessor{constructor(){super(),i(this,"name","VirtualBackgroundProcessor"),i(this,"width",0),i(this,"height",0),i(this,"maskWidth",272),i(this,"maskHeight",160),i(this,"wasm",void 0),i(this,"webai",0),i(this,"original_track",void 0),i(this,"processed_track",void 0),i(this,"video",void 0),i(this,"canvasSegm",void 0),i(this,"canvas",void 0),i(this,"ctx2d",void 0),i(this,"canvasWA",void 0),i(this,"ctxWA",void 0),i(this,"colorCanvas",void 0),i(this,"ctxColor",void 0),i(this,"bgColor",void 0),i(this,"bgImage",void 0),i(this,"forDEBUG",!1),i(this,"eventBus",new u.EventEmitter),i(this,"analyzer",new l(this.eventBus)),i(this,"onoverload",void 0),i(this,"initialized",!1),i(this,"opencv",void 0),i(this,"regl",void 0),i(this,"cancelable",void 0),i(this,"videoTexture",void 0),i(this,"maskTexture",void 0),i(this,"bgTexture",void 0),i(this,"maskBluredFbo",void 0),i(this,"blurBuffers",void 0),i(this,"blurUpBuffers",void 0),i(this,"drawScreen",void 0),i(this,"drawVideo",void 0),i(this,"drawBlurDown",void 0),i(this,"drawBlurUp",void 0),i(this,"drawMix",void 0),i(this,"OUTPUT_NAME","1213"),i(this,"isBlurMode",!0),i(this,"preMaskImage",void 0),i(this,"maskImage",void 0),i(this,"BlurRound",3),i(this,"seg_count",0),i(this,"seg_time",0),this._enabled=!1,this.video=document.createElement("video"),this.video.id=s(6,"trackVideo"),this.video.autoplay="true",this.canvas=document.createElement("canvas"),this.canvas.id=s(6,"canvas"),this.canvas.width=this.maskWidth,this.canvas.height=this.maskHeight,this.canvasWA=document.createElement("canvas"),this.canvasWA.id=s(6,"canvasWA"),this.canvasSegm=document.createElement("canvas"),this.canvasSegm.id=s(6,"canvasSegm"),this.canvasSegm.width=this.width,this.canvasSegm.height=this.height,this.colorCanvas=document.createElement("canvas"),this.colorCanvas.id=s(6,"colorCanvas"),this.colorCanvas.width=10,this.colorCanvas.height=10,this.bgImage=null,this.bgColor=null,this.forDEBUG||(this.video.style.display="none",this.canvas.style.display="none",this.canvasSegm.style.display="none",this.colorCanvas.style.display="none"),document.body.appendChild(this.video),document.body.appendChild(this.canvas),document.body.appendChild(this.canvasSegm),document.body.appendChild(this.colorCanvas),this.ctx2d=this.canvas.getContext("2d"),this.ctxWA=this.canvasWA.getContext("2d"),this.ctxColor=this.colorCanvas.getContext("2d"),this.preMaskImage=new Uint8Array(this.maskWidth*this.maskHeight),this.maskImage=new Uint8Array(this.maskWidth*this.maskHeight)}async init(e){if(t.logger.info("[".concat(this.name,"-").concat(this.ID,"] init")),this.eventBus.on(f.PERFORMANCE_WARNING,(()=>{this.onoverload&&this.onoverload()})),!this.initialized){if(e.endsWith("/")||(e+="/"),await(async t=>{if(v)return a().resolve();if(m)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(y)throw new Error("previous call to 'initializeWebAssembly()' failed.");if("string"!=typeof t)throw new Error("Invalid path of virtual background wasms!");m=!0;const e=t.endsWith("/")?t:t+"/";const r=[];r.push(new(a())(((t,r)=>{h({locateFile:(t,r)=>"agora-wasm.wasm"===t?e+"agora-wasm.wasm":r+t}).then((e=>{m=!1,v=!0,d=e,t()}),(t=>{m=!1,y=!0,r(t)}))}))),await a().race(r)})(e),this.wasm=(()=>{if(v&&d)return d;throw new Error("WebAssembly is not initialized yet.")})(),this.webai=this.wasm._Init(this.maskWidth,this.maskHeight),0===this.webai)throw new Error("Can't create Agora web AI instance");this.regl=p({canvas:this.canvasSegm}),this.cancelable=null,this.videoTexture=this.regl.texture({flipY:!0}),this.maskTexture=this.regl.texture({flipY:!0,mag:"linear",min:"linear",format:"luminance"}),this.bgTexture=this.regl.texture({flipY:!0}),this.maskBluredFbo=this.regl.framebuffer(),this.blurBuffers=[],this.blurUpBuffers=[];for(let t=0;t<6;t++)this.blurBuffers.push(this.regl.framebuffer()),this.blurUpBuffers.push(this.regl.framebuffer());this.drawScreen=this.regl({vert:"attribute vec2 a_position;\r\nuniform float u_flipY;\r\n\r\nvarying vec2 uv;\r\n\r\nvoid main() {\r\n   uv = a_position;\r\n\r\n   vec2 zeroToTwo = a_position * 2.0;\r\n   vec2 clipSpace = zeroToTwo - 1.0;\r\n   gl_Position = vec4(clipSpace * vec2(1, u_flipY), 0, 1);\r\n}",attributes:{a_position:x},uniforms:{u_flipY:1},count:b}),this.drawVideo=this.regl({frag:"precision highp float;\n\nuniform sampler2D video;\nvarying vec2 uv;\n\nvoid main() {\n  gl_FragColor = texture2D(video, uv);\n}",uniforms:{video:()=>this.videoTexture},framebuffer:this.blurBuffers[0]}),this.drawBlurDown=this.regl({frag:"precision highp float;\n\nuniform sampler2D video;\nuniform vec2 halfpixel;\n\nvarying vec2 uv;\n\nvec4 downsample(vec2 uv, vec2 halfpixel) {\n  vec4 sum = texture2D(video, uv) * 4.0;\n  sum += texture2D(video, uv - halfpixel.xy);\n  sum += texture2D(video, uv + halfpixel.xy);\n  sum += texture2D(video, uv + vec2(halfpixel.x, -halfpixel.y));\n  sum += texture2D(video, uv - vec2(halfpixel.x, -halfpixel.y));\n  return sum / 8.0;\n}\n\nvec4 upsample(vec2 uv, vec2 halfpixel) {\n  vec4 sum = texture2D(video, uv + vec2(-halfpixel.x * 2.0, 0.0));\n  sum += texture2D(video, uv + vec2(-halfpixel.x, halfpixel.y)) * 2.0;\n  sum += texture2D(video, uv + vec2(0.0, halfpixel.y * 2.0));\n  sum += texture2D(video, uv + vec2(halfpixel.x, halfpixel.y)) * 2.0;\n  sum += texture2D(video, uv + vec2(halfpixel.x * 2.0, 0.0));\n  sum += texture2D(video, uv + vec2(halfpixel.x, -halfpixel.y)) * 2.0;\n  sum += texture2D(video, uv + vec2(0.0, -halfpixel.y * 2.0));\n  sum += texture2D(video, uv + vec2(-halfpixel.x, -halfpixel.y)) * 2.0;\n  return sum / 12.0;\n}\n\nvoid main() {\n  vec4 blur = downsample(uv, halfpixel);\n  gl_FragColor = vec4(blur.rgb, 1.0);\n}",uniforms:{video:this.regl.prop("inputBlurBuffer"),halfpixel:this.regl.prop("halfpixel")},framebuffer:this.regl.prop("outputBlurBuffer")}),this.drawBlurUp=this.regl({frag:"precision highp float;\n\nuniform sampler2D video;\nuniform vec2 halfpixel;\n\nvarying vec2 uv;\n\nvec4 downsample(vec2 uv, vec2 halfpixel) {\n  vec4 sum = texture2D(video, uv) * 4.0;\n  sum += texture2D(video, uv - halfpixel.xy);\n  sum += texture2D(video, uv + halfpixel.xy);\n  sum += texture2D(video, uv + vec2(halfpixel.x, -halfpixel.y));\n  sum += texture2D(video, uv - vec2(halfpixel.x, -halfpixel.y));\n  return sum / 8.0;\n}\n\nvec4 upsample(vec2 uv, vec2 halfpixel) {\n  vec4 sum = texture2D(video, uv + vec2(-halfpixel.x * 2.0, 0.0));\n  sum += texture2D(video, uv + vec2(-halfpixel.x, halfpixel.y)) * 2.0;\n  sum += texture2D(video, uv + vec2(0.0, halfpixel.y * 2.0));\n  sum += texture2D(video, uv + vec2(halfpixel.x, halfpixel.y)) * 2.0;\n  sum += texture2D(video, uv + vec2(halfpixel.x * 2.0, 0.0));\n  sum += texture2D(video, uv + vec2(halfpixel.x, -halfpixel.y)) * 2.0;\n  sum += texture2D(video, uv + vec2(0.0, -halfpixel.y * 2.0));\n  sum += texture2D(video, uv + vec2(-halfpixel.x, -halfpixel.y)) * 2.0;\n  return sum / 12.0;\n}\n\nvoid main() {\n  vec4 blur = upsample(uv, halfpixel);\n  gl_FragColor = vec4(blur.rgb, 1.0);\n}",uniforms:{video:this.regl.prop("inputBlurBuffer"),halfpixel:this.regl.prop("halfpixel")},framebuffer:this.regl.prop("outputBlurBuffer")}),this.drawMix=this.regl({frag:"precision highp float;\n\nuniform sampler2D video;\nuniform sampler2D mask;\nuniform sampler2D background;\nuniform int bypass;\n\nvarying vec2 uv;\n\nvoid main() {\n  if(bypass == 0) {\n    gl_FragColor = mix(texture2D(background, uv),\n                      texture2D(video, uv),\n                      texture2D(mask, uv).r);\n  } else {\n    gl_FragColor = texture2D(video, uv);\n  }\n}",uniforms:{mask:()=>this.maskBluredFbo,video:()=>this.videoTexture,background:()=>this.isBlurMode?this.blurUpBuffers[this.BlurRound-1]:this.bgTexture,bypass:()=>this.enabled?0:1}}),this.initialized=!0,t.reporter.reportApiInvoke({name:"".concat(this.name,".init"),options:"version:1.0.0-beta-1"}).onSuccess()}}setOptions(e){if(t.reporter.reportApiInvoke({name:"".concat(this.name,".setOptions"),options:"version:1.0.0-beta-1"+", options: ".concat(JSON.stringify(e))}).onSuccess(),t.logger.info("[".concat(this.name,"-").concat(this.ID,"] Set options: ").concat(JSON.stringify(e))),!e||"object"!=typeof e){let r="[".concat(this.name,"-").concat(this.ID,"] Set invalid options: ").concat(JSON.stringify(e));throw t.logger.error(r),new Error(r)}if("blur"===e.type){if(1===e.blurDegree)this.BlurRound=3;else if(2===e.blurDegree)this.BlurRound=4;else{if(3!==e.blurDegree){let r="[".concat(this.name,"-").concat(this.ID,"] Set invalid options: ").concat(JSON.stringify(e),", 'blurDegree' value should be 1, 2 or 3");throw t.logger.error(r),new Error(r)}this.BlurRound=5}this.isBlurMode=!0}else if("img"===e.type){if(!("object"==typeof e.source&&e.source instanceof Image)){let r="[".concat(this.name,"-").concat(this.ID,"] Set invalid options: ").concat(JSON.stringify(e),", 'source' value should be an Image object!");throw t.logger.error(r),new Error(r)}this.bgImage=e.source,this.isBlurMode=!1}else{if("color"!==e.type){let r="[".concat(this.name,"-").concat(this.ID,"] Set invalid options: ").concat(JSON.stringify(e),", type value shoud be 'color', 'image' or 'blur'");throw t.logger.error(r),new Error(r)}if("string"!=typeof e.color||!CSS.supports("color",e.color)){let r="[".concat(this.name,"-").concat(this.ID,"] Set invalid options: ").concat(JSON.stringify(e),", 'color' value is unsupported");throw t.logger.error(r),new Error(r)}this.bgColor=e.color,this.isBlurMode=!1}}onEnableChange(t){this.context&&(t?(this.regl&&this.regl.clear({color:[0,0,0,0],depth:1,stencil:0}),this.output(this.processed_track,this.context)):this.inputTrack&&this.output(this.inputTrack,this.context))}onTrack(e,r){t.logger.info("[".concat(this.name,"-").concat(this.ID,"] onTrack")),this.cancelable&&this.cancelable.cancel(),this.original_track=e;const n=new MediaStream;n.addTrack(e),this.video.srcObject=n,this.video.oncanplay=()=>{this.video.onplaying=()=>{const e={color:[0,0,0,0],depth:1,stencil:0};if(void 0===this.regl){let e="[".concat(this.name,"-").concat(this.ID,"] Segmentation processor is used before initialization!");return console.error(e),void t.logger.info(e)}this.cancelable=this.regl.frame((async t=>{let{tick:r}=t;this.enabled&&(await this.segmentation(),this.drawScreen((()=>{this.regl.clear(e);for(let t=0;t<this.BlurRound+1;t++)this.regl.clear(A(A({},e),{},{framebuffer:this.blurBuffers[t]})),this.regl.clear(A(A({},e),{},{framebuffer:this.blurUpBuffers[t]}));if(this.regl.clear(A(A({},e),{},{framebuffer:this.maskBluredFbo})),this.drawBlurDown({inputBlurBuffer:this.maskTexture.subimage(this.maskImage),outputBlurBuffer:this.blurBuffers[0],halfpixel:[1/this.width,1/this.height]}),this.drawBlurUp({inputBlurBuffer:this.blurBuffers[0],outputBlurBuffer:this.maskBluredFbo,halfpixel:[1/this.width,1/this.height]}),this.regl.clear(A(A({},e),{},{framebuffer:this.blurBuffers[0]})),this.drawVideo(),!0===this.isBlurMode){let t=0;const e=this.BlurRound;for(t=0;t<e;t++)this.drawBlurDown({inputBlurBuffer:this.blurBuffers[t],outputBlurBuffer:this.blurBuffers[t+1],halfpixel:[2*(this.BlurRound-t)/this.width,2*(this.BlurRound-t)/this.height]});for(this.drawBlurUp({inputBlurBuffer:this.blurBuffers[e],outputBlurBuffer:this.blurUpBuffers[0],halfpixel:[1/this.width,1/this.height]}),t=0;t<e-1;t++)this.drawBlurUp({inputBlurBuffer:this.blurUpBuffers[t],outputBlurBuffer:this.blurUpBuffers[t+1],halfpixel:[2*(this.BlurRound-t)/this.width,2*(this.BlurRound-t)/this.height]})}this.drawMix(),this.eventBus.emit(c.RENDER_END)})))}),this.video)},this.video.play()},this.processed_track=this.canvasSegm.captureStream().getVideoTracks()[0],this.onEnableChange(this.enabled)}async segmentation(){if(!this.ctx2d||!this.ctxWA)return;this.bgColor&&(null!==this.ctxColor?(this.ctxColor.rect(0,0,this.colorCanvas.width,this.colorCanvas.height),this.ctxColor.fillStyle=this.bgColor,this.ctxColor.fill(),this.bgTexture.resize(this.colorCanvas.width,this.colorCanvas.height),this.bgTexture.subimage(this.colorCanvas)):t.logger.error("[".concat(this.name,"-").concat(this.ID,"] Get Canvas2D context failed!")),this.bgColor=null),this.bgImage&&(this.bgTexture.resize(this.bgImage.naturalWidth,this.bgImage.naturalHeight),this.bgTexture.subimage(this.bgImage),this.bgImage=null);const e=performance.now();if(!this.video||this.video.videoWidth===this.width&&this.video.videoHeight===this.height||(this.width=this.video.videoWidth,this.height=this.video.videoHeight,this.canvasSegm.width=this.width,this.canvasSegm.height=this.height,this.canvasWA.width=this.width,this.canvasWA.height=this.height,this.maskTexture.resize(this.maskWidth,this.maskHeight),[this.videoTexture,this.maskBluredFbo,...this.blurBuffers,...this.blurUpBuffers].forEach((t=>{t.resize(this.width,this.height)})),this.eventBus.emit(c.PREDICT_START),t.reporter.reportApiInvoke({name:"".concat(this.name,".segmentation"),options:"version:1.0.0-beta-1"}).onSuccess(),t.logger.info("[".concat(this.name,"-").concat(this.ID,"] Set resolution to: ").concat(this.width," x ").concat(this.height))),0===this.width)return;this.maskWidth,this.maskHeight,this.ctxWA.drawImage(this.video,0,0),this.videoTexture.subimage(this.canvasWA),this.ctx2d.drawImage(this.canvasWA,0,0,this.width,this.height,0,0,this.maskWidth,this.maskHeight);let r=this.ctx2d.getImageData(0,0,this.maskWidth,this.maskHeight),n=this.wasm;const i=n._malloc(r.data.byteLength),o=n._malloc(this.maskImage.byteLength);try{n.HEAPU8.set(r.data,i),this.wasm._Predict(this.webai,i,o);let t=n.HEAPU8.subarray(o,o+this.maskImage.byteLength);this.maskImage.set(t)}finally{n._free(i),n._free(o)}const a=performance.now()-e;this.seg_count++,this.seg_count<=100&&(this.seg_time+=a,100==this.seg_count)&&(this.seg_time/this.seg_count>100&&(t.logger.warning("[".concat(this.name,"-").concat(this.ID,"] ").concat(f.PERFORMANCE_WARNING)),this.eventBus.emit(f.PERFORMANCE_WARNING)),this.seg_count=0,this.seg_time=0),this.eventBus.emit(c.PREDICT_END)}}i(E,"ortSession",void 0);class O extends t.Extension{constructor(){super()}_createProcessor(){return new E}}const _=O})(),n.default})()}));